{"version":3,"file":"account/js/account.account-app.bc2a77e6cb8ea8ea66b1.js","mappings":"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","sources":["webpack://@deriv/account/./Components/forms/form-fields/account-opening-reason.tsx","webpack://@deriv/account/./Components/forms/form-select-field.tsx","webpack://@deriv/account/./Components/poa-address-mismatch-hint-box/poa-address-mismatch-hint-box.tsx","webpack://@deriv/account/./Components/poa-address-mismatch-hint-box/index.ts","webpack://@deriv/account/./Containers/employment-tax-details-container/employment-tax-details-container.tsx","webpack://@deriv/account/./Containers/employment-tax-details-container/index.ts","webpack://@deriv/account/./hooks/useKycAuthStatus.ts","webpack://@deriv/account/./Sections/Profile/PersonalDetails/input-group.tsx","webpack://@deriv/account/./Configs/user-profile-validation-config.ts","webpack://@deriv/account/./Sections/Profile/PersonalDetails/validation.ts","webpack://@deriv/account/./Sections/Profile/PersonalDetails/verify-button.tsx","webpack://@deriv/account/./Sections/Profile/PersonalDetails/index.ts","webpack://@deriv/account/./Sections/Profile/PersonalDetails/personal-details-form.tsx","webpack://@deriv/account/./hooks/useScrollToPosition.ts","webpack://@deriv/account/./Sections/Profile/PersonalDetails/constants.ts","webpack://@deriv/account/./Sections/Verification/ProofOfIdentity/proof-of-identity-utils.ts","webpack://@deriv/account/./Components/poi/status/expired/expired.tsx","webpack://@deriv/account/./Components/poi/status/expired/index.js","webpack://@deriv/account/./Components/poi/idv-status/idv-limited/idv-limited.tsx","webpack://@deriv/account/./Components/poi/idv-status/idv-limited/index.ts","webpack://@deriv/account/./Components/poa/poa-button/poa-button.tsx","webpack://@deriv/account/./Components/poa/poa-button/index.ts","webpack://@deriv/account/./Components/poi/idv-status/idv-submit-complete/idv-submit-complete.tsx","webpack://@deriv/account/./Components/poi/idv-status/idv-submit-complete/index.js","webpack://@deriv/account/./Components/poa/continue-trading-button/continue-trading-button.tsx","webpack://@deriv/account/./Components/poi/idv-status/idv-verified/index.js","webpack://@deriv/account/./Components/poi/idv-status/idv-verified/idv-verified.tsx","webpack://@deriv/account/./Sections/Verification/ProofOfIdentity/idv.jsx","webpack://@deriv/account/./Components/poi/status/limited/index.js","webpack://@deriv/account/./Components/poi/status/limited/limited.tsx","webpack://@deriv/account/./Components/poi/status/not-required/index.ts","webpack://@deriv/account/./Components/poi/status/not-required/not-required.tsx","webpack://@deriv/account/./Components/route-button/index.ts","webpack://@deriv/account/./Components/route-button/route-button.tsx","webpack://@deriv/account/./Components/poi/status/upload-complete/upload-complete.tsx","webpack://@deriv/account/./Components/poi/status/upload-complete/index.ts","webpack://@deriv/account/./Components/poa/continue-trading-button/index.ts","webpack://@deriv/account/./Components/poi/status/verified/verified.tsx","webpack://@deriv/account/./Components/poi/status/verified/index.ts","webpack://@deriv/account/./Components/icon-message-list/list-item.tsx","webpack://@deriv/account/./Components/icon-message-list/index.ts","webpack://@deriv/account/./Components/icon-message-list/icon-message-list.tsx","webpack://@deriv/account/./Components/poi/status/rejected-reasons/index.ts","webpack://@deriv/account/./Components/poi/status/rejected-reasons/rejected-reasons.tsx","webpack://@deriv/account/./Components/poi-manual-upload-failed/index.ts","webpack://@deriv/account/./Components/poi-manual-upload-failed/poi-manual-upload-failed.tsx","webpack://@deriv/account/./Constants/api-error-codes.ts","webpack://@deriv/account/./Components/file-uploader-container/upload-file.ts","webpack://@deriv/account/./Components/poi/missing-personal-details/missing-personal-details.tsx","webpack://@deriv/account/./Components/poi/missing-personal-details/index.js","webpack://@deriv/account/./Components/forms/personal-details-form.jsx","webpack://@deriv/account/./Configs/poi-error-config.tsx","webpack://@deriv/account/./Components/poi/poi-confirm-with-example-form-container/index.ts","webpack://@deriv/account/./Components/poi/poi-confirm-with-example-form-container/poi-confirm-with-example-form-container.tsx","webpack://@deriv/account/./Sections/Verification/ProofOfIdentity/onfido-sdk-view.tsx","webpack://@deriv/account/./Sections/Verification/ProofOfIdentity/onfido-sdk-view-container.tsx","webpack://@deriv/account/./Components/poi/status/unsupported/constants.ts","webpack://@deriv/account/./Components/poi/status/unsupported/card-details/input-field.tsx","webpack://@deriv/account/./Components/poi/status/unsupported/card-details/uploader.tsx","webpack://@deriv/account/./Components/poi/status/unsupported/card-details/utils.ts","webpack://@deriv/account/./Components/poi/status/unsupported/card-details/documents-upload.tsx","webpack://@deriv/account/./Components/poi/status/unsupported/card-details/selfie-upload.tsx","webpack://@deriv/account/./Components/poi/status/unsupported/card-details/index.ts","webpack://@deriv/account/./Components/poi/status/unsupported/card-details/card-details.tsx","webpack://@deriv/account/./Components/poi/status/unsupported/detail-component.tsx","webpack://@deriv/account/./Components/poi/status/unsupported/card-with-arrow.tsx","webpack://@deriv/account/./Components/poi/status/unsupported/documents.tsx","webpack://@deriv/account/./Components/poi/status/unsupported/unsupported.tsx","webpack://@deriv/account/./Components/poi/status/unsupported/index.js","webpack://@deriv/account/./Sections/Verification/ProofOfIdentity/onfido.jsx","webpack://@deriv/account/./Components/poi/poi-country-selector/index.ts","webpack://@deriv/account/./Components/poi/poi-country-selector/poi-country-selector.tsx","webpack://@deriv/account/./Components/forms/idv-form.tsx","webpack://@deriv/account/./Components/poi/idv-document-submit/index.js","webpack://@deriv/account/./Components/poi/idv-document-submit/idv-document-submit.tsx","webpack://@deriv/account/./Components/poi/idv-status/idv-failed/index.ts","webpack://@deriv/account/./Components/poi/idv-status/idv-failed/idv-failed.tsx","webpack://@deriv/account/./Sections/Verification/ProofOfIdentity/proof-of-identity-submission.jsx","webpack://@deriv/account/./Sections/Verification/Helpers/verification.js","webpack://@deriv/account/./Sections/Verification/ProofOfIdentity/proof-of-identity-container.jsx","webpack://@deriv/account/./Sections/Verification/ProofOfIdentity/proof-of-identity.jsx","webpack://@deriv/account/./Sections/Verification/ProofOfIdentity/proof-of-identity-flow.tsx","webpack://@deriv/account/./Components/poa/status/expired/index.ts","webpack://@deriv/account/./Components/poa/status/expired/expired.tsx","webpack://@deriv/account/./Components/poa/status/not-required/index.ts","webpack://@deriv/account/./Components/poa/status/not-required/not-required.tsx","webpack://@deriv/account/./Components/file-uploader-container/file-uploader.tsx","webpack://@deriv/account/./Constants/file-uploader.tsx","webpack://@deriv/account/./Components/file-uploader-container/file-uploader-container.tsx","webpack://@deriv/account/./Components/file-uploader-container/index.ts","webpack://@deriv/account/./Components/file-uploader-container/files-descriptions.tsx","webpack://@deriv/account/./Components/poa/common-mistakes/common-mistake-examples.tsx","webpack://@deriv/account/./Configs/poa-common-mistake-examples-config.tsx","webpack://@deriv/account/./Sections/Verification/ProofOfAddress/poa-desktop-layout.tsx","webpack://@deriv/account/./Sections/Verification/ProofOfAddress/poa-mobile-layout.tsx","webpack://@deriv/account/./Sections/Verification/ProofOfAddress/proof-of-address-form.tsx","webpack://@deriv/account/./Components/poa/status/submitted/index.ts","webpack://@deriv/account/./Components/poa/status/submitted/submitted.tsx","webpack://@deriv/account/./Components/poa/status/unverified/index.ts","webpack://@deriv/account/./Components/poa/status/unverified/unverified.tsx","webpack://@deriv/account/./Components/poi/poi-button/poi-button.tsx","webpack://@deriv/account/./Components/poa/status/verified/verified.tsx","webpack://@deriv/account/./Components/poa/status/verified/index.ts","webpack://@deriv/account/./Sections/Verification/ProofOfAddress/proof-of-address-container.tsx","webpack://@deriv/account/./Sections/Verification/ProofOfAddress/proof-of-address.tsx","webpack://@deriv/account/./Sections/Verification/ProofOfAddress/proof-of-address-flow.tsx","webpack://@deriv/account/./Constants/poo-identifier.ts","webpack://@deriv/account/./Containers/proof-of-ownership/file-uploader.tsx","webpack://@deriv/account/./Components/sample-credit-card-modal/index.ts","webpack://@deriv/account/./Components/sample-credit-card-modal/sample-credit-card-modal.tsx","webpack://@deriv/account/./Containers/proof-of-ownership/example-link.tsx","webpack://@deriv/account/./Containers/proof-of-ownership/expanded-card.tsx","webpack://@deriv/account/./Containers/proof-of-ownership/card.tsx","webpack://@deriv/account/./Sections/Verification/ProofOfOwnership/proof-of-ownership-form.tsx","webpack://@deriv/account/./Sections/Verification/ProofOfOwnership/validation.ts","webpack://@deriv/account/./Components/poo/statuses/poo-not-required/index.ts","webpack://@deriv/account/./Components/poo/statuses/poo-not-required/poo-not-required.tsx","webpack://@deriv/account/./Components/poo/statuses/poo-verified/index.ts","webpack://@deriv/account/./Components/poo/statuses/poo-verified/poo-verified.tsx","webpack://@deriv/account/./Components/poo/statuses/poo-rejected/index.ts","webpack://@deriv/account/./Components/poo/statuses/poo-rejected/poo-rejected.tsx","webpack://@deriv/account/./Components/poo/statuses/poo-submitted/index.ts","webpack://@deriv/account/./Components/poo/statuses/poo-submitted/poo-submitted.tsx","webpack://@deriv/account/./Configs/payment-method-config.tsx","webpack://@deriv/account/./Sections/Verification/ProofOfOwnership/proof-of-ownership.tsx","webpack://@deriv/account/./Sections/Verification/ProofOfOwnership/index.ts","webpack://@deriv/account/./Sections/Verification/ProofOfIncome/proof-of-income-utils.ts","webpack://@deriv/account/./Sections/Verification/ProofOfIncome/proof-of-income-form.tsx","webpack://@deriv/account/./Components/poinc/statuses/poinc-failed/index.ts","webpack://@deriv/account/./Components/poinc/statuses/poinc-failed/failed.tsx","webpack://@deriv/account/./Components/poinc/statuses/poinc-received/index.ts","webpack://@deriv/account/./Components/poinc/statuses/poinc-received/received.tsx","webpack://@deriv/account/./Components/poinc/statuses/poinc-limited/index.ts","webpack://@deriv/account/./Components/poinc/statuses/poinc-limited/limited.tsx","webpack://@deriv/account/./Components/poinc/statuses/poinc-verified/index.ts","webpack://@deriv/account/./Components/poinc/statuses/poinc-verified/verified.tsx","webpack://@deriv/account/./Sections/Verification/ProofOfIncome/proof-of-income-container.tsx","webpack://@deriv/account/./Sections/Verification/ProofOfIncome/index.ts","webpack://@deriv/account/./Sections/Verification/ProofOfIncome/proof-of-income.tsx","webpack://@deriv/account/./Containers/Account/tradinghub-logout.tsx","webpack://@deriv/account/./Containers/Account/page-overlay-wrapper.tsx","webpack://@deriv/account/./Containers/Account/account.tsx","webpack://@deriv/account/./Containers/employment-tax-info/employment-tax-info.tsx","webpack://@deriv/account/./Sections/Security/DeactivateAccount/index.ts","webpack://@deriv/account/./Sections/Security/DeactivateAccount/deactivate-account.tsx","webpack://@deriv/account/./Constants/routes-config.tsx","webpack://@deriv/account/./Components/Routes/route-with-sub-routes.tsx","webpack://@deriv/account/./Components/Routes/binary-routes.tsx","webpack://@deriv/account/./Containers/routes.tsx","webpack://@deriv/account/./Components/reset-trading-password-modal/reset-trading-password-modal.tsx","webpack://@deriv/account/./Components/reset-trading-password-modal/index.js","webpack://@deriv/account/./Containers/reset-trading-password.tsx","webpack://@deriv/account/./Components/network-status-toast-popup/network-status-toast-popup.tsx","webpack://@deriv/account/./App.tsx","webpack://@deriv/account/./Components/icon-with-message/icon-with-message.tsx","webpack://@deriv/account/./Components/icon-with-message/index.ts","webpack://@deriv/account/./Components/demo-message/index.ts","webpack://@deriv/account/./Components/demo-message/demo-message.tsx","webpack://@deriv/account/./Components/error-component/error-component.tsx","webpack://@deriv/account/./Components/error-component/index.ts","webpack://@deriv/account/./Components/form-body-section/form-body-section.tsx","webpack://@deriv/account/./Components/form-body-section/index.ts","webpack://@deriv/account/./Components/scrollbars-container/scrollbars-container.tsx","webpack://@deriv/account/./Components/form-body/index.ts","webpack://@deriv/account/./Components/form-body/form-body.tsx","webpack://@deriv/account/./Components/form-footer/form-footer.tsx","webpack://@deriv/account/./Components/form-footer/index.ts","webpack://@deriv/account/./Components/form-sub-header/form-sub-header.tsx","webpack://@deriv/account/./Components/form-sub-header/index.ts","webpack://@deriv/account/./Components/forms/form-fields/form-input-field.tsx","webpack://@deriv/account/./Components/forms/form-fields/date-of-birth-field.tsx","webpack://@deriv/account/./Components/forms/form-fields/employment-status.tsx","webpack://@deriv/account/./Components/forms/form-fields/tax-residence.tsx","webpack://@deriv/account/./Components/forms/form-fields/tax-indentification-number.tsx","webpack://@deriv/account/./Constants/external-urls.ts","webpack://@deriv/account/./Components/forms/scroll-to-field-with-error.tsx","webpack://@deriv/account/./Components/icon-message-content/icon-message-content.tsx","webpack://@deriv/account/./Components/icon-message-content/index.ts","webpack://@deriv/account/./Components/inline-note-with-icon/inline-note-with-icon.tsx","webpack://@deriv/account/./Components/inline-note-with-icon/index.ts","webpack://@deriv/account/./Components/leave-confirm/leave-confirm.tsx","webpack://@deriv/account/./Components/leave-confirm/index.ts","webpack://@deriv/account/./Components/load-error-message/load-error-message.tsx","webpack://@deriv/account/./Components/load-error-message/index.ts","webpack://@deriv/account/./Constants/financial-information-list.ts","webpack://@deriv/account/./Constants/onfido.js","webpack://@deriv/account/./Configs/idv-document-config.ts","webpack://@deriv/account/./Helpers/utils.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/ban-ts-comment */\n//@ts-nocheck [TODO] - Need to fix typescript errors in Autocomplete & SelectNative components\nimport React from 'react';\nimport { useDevice } from '@deriv-com/ui';\nimport { SelectNative, Dropdown } from '@deriv/components';\nimport { useTranslations } from '@deriv-com/translations';\nimport { Field, FieldProps } from 'formik';\nimport clsx from 'clsx';\n\ntype TAccountOpeningReasonFieldProps = {\n    required: boolean;\n    account_opening_reason_list: { text: string; value: string }[];\n    setFieldValue: (field: string, value: string, should_validate?: boolean) => void;\n    disabled: boolean;\n    fieldFocused?: boolean;\n    is_modal?: boolean;\n};\n\nconst AccountOpeningReasonField = ({\n    required,\n    account_opening_reason_list,\n    setFieldValue,\n    disabled,\n    fieldFocused,\n    is_modal,\n}: TAccountOpeningReasonFieldProps) => {\n    const { isDesktop } = useDevice();\n    const { localize } = useTranslations();\n\n    return (\n        <React.Fragment>\n            <Field name='account_opening_reason'>\n                {({ field, meta }: FieldProps) => (\n                    <div className='account-form__fieldset' id='account-opening-reason'>\n                        {isDesktop ? (\n                            <Dropdown\n                                placeholder={\n                                    required ? localize('Account opening reason*') : localize('Account opening reason')\n                                }\n                                {...field}\n                                disabled={disabled}\n                                is_align_text_left\n                                list={account_opening_reason_list}\n                                error={meta.touched && meta.error ? meta.error : ''}\n                                required\n                                className={clsx({ 'focus-field': fieldFocused })}\n                                list_portal_id={is_modal ? 'modal_root' : ''}\n                            />\n                        ) : (\n                            <SelectNative\n                                placeholder={localize('Please select')}\n                                {...field}\n                                label={\n                                    required ? localize('Account opening reason*') : localize('Account opening reason')\n                                }\n                                list_items={account_opening_reason_list}\n                                error={meta.touched && meta.error ? meta.error : ''}\n                                onChange={e => {\n                                    field.onChange(e);\n                                    setFieldValue('account_opening_reason', e.target.value, true);\n                                }}\n                                required\n                                data_testid='account_opening_reason_mobile'\n                                disabled={disabled}\n                                className={clsx({ 'focus-field': fieldFocused })}\n                            />\n                        )}\n                    </div>\n                )}\n            </Field>\n        </React.Fragment>\n    );\n};\n\nexport default AccountOpeningReasonField;\n","import { FC, Fragment } from 'react';\nimport { Autocomplete, SelectNative } from '@deriv/components';\nimport { Field, FieldProps, FormikErrors } from 'formik';\nimport { TListItem, TGetField } from '../../Types';\nimport { useDevice } from '@deriv-com/ui';\n\ntype TFormSelectField = TGetField & {\n    onItemSelection?: (item: TListItem) => void;\n    list_height?: string;\n    is_country_code_dropdown?: boolean;\n};\n\ntype TSetFieldValue = (\n    field: string,\n    value: string,\n    shouldValidate?: boolean\n) => Promise<void | FormikErrors<Record<string, string>>>;\n\nconst FormSelectField: FC<TFormSelectField> = ({\n    label,\n    name,\n    required = false,\n    disabled = false,\n    list_items,\n    onItemSelection,\n    placeholder,\n    list_height,\n    is_country_code_dropdown = false,\n}) => {\n    const { isDesktop } = useDevice();\n    const onSelect =\n        (field: string, setFieldValue: TSetFieldValue) =>\n        ({ value, text }: TListItem) => {\n            setFieldValue(field, (value && text) ?? '', true);\n        };\n    // TODO: remove the following ts-expect-error comments once the issue is fixed within the components\n    return (\n        <Field name={name}>\n            {({ field, meta: { touched, error }, form: { setFieldValue } }: FieldProps<string>) => (\n                <Fragment>\n                    {!isDesktop ? (\n                        <SelectNative\n                            {...field}\n                            // @ts-expect-error This needs to fixed in AutoComplete component\n                            list_items={list_items}\n                            // @ts-expect-error This needs to fixed in AutoComplete component\n                            label={label}\n                            required={required}\n                            disabled={disabled}\n                            error={touched ? error : undefined}\n                            use_text\n                            is_country_code_dropdown={is_country_code_dropdown}\n                            data-testid={`dt_${field.name}`}\n                        />\n                    ) : (\n                        <Autocomplete\n                            {...field}\n                            disabled={disabled}\n                            label={label}\n                            // @ts-expect-error This needs to fixed in AutoComplete component\n                            list_items={list_items}\n                            placeholder={placeholder}\n                            required={required}\n                            data-lpignore='true'\n                            autoComplete='new-password' // 'off' sometimes doesn't work, have to use new-password to prevent chrome autocomplete\n                            error={touched ? error : undefined}\n                            // @ts-expect-error This needs to fixed in AutoComplete component\n                            onItemSelection={onItemSelection ?? onSelect(field.name, setFieldValue)}\n                            data-testid={`dt_${field.name}`}\n                            list_height={list_height as string}\n                        />\n                    )}\n                </Fragment>\n            )}\n        </Field>\n    );\n};\n\nexport default FormSelectField;\n","import { useRef, useEffect } from 'react';\nimport { InlineMessage } from '@deriv/components';\nimport { Localize } from '@deriv/translations';\nimport './poa-address-mismatch-hint-box.scss';\n\nconst POAAddressMismatchHintBox = () => {\n    const ref = useRef<HTMLDivElement | null>(null);\n\n    useEffect(() => {\n        // To make scrolling work on mobile we need to add a delay.\n        setTimeout(() => ref?.current?.scrollIntoView(), 0);\n    }, []);\n\n    return (\n        <div className='poa-address-mismatch-hint-box--wrapper' ref={ref}>\n            <InlineMessage\n                type='warning'\n                size='xs'\n                message={\n                    <Localize i18n_default_text='It appears that the address in your document doesn’t match the address in your Deriv profile. Please update your personal details now with the correct address.' />\n                }\n            />\n        </div>\n    );\n};\n\nexport default POAAddressMismatchHintBox;\n","import POAAddressMismatchHintBox from './poa-address-mismatch-hint-box';\n\nexport default POAAddressMismatchHintBox;\n","import { useEffect, useMemo, useRef, useState } from 'react';\nimport { FormikValues, useFormikContext } from 'formik';\n\nimport { TinValidations } from '@deriv/api/types';\nimport { Checkbox, useOnClickOutside } from '@deriv/components';\nimport { useResidenceList } from '@deriv/hooks';\nimport { getLegalEntityName } from '@deriv/shared';\nimport { observer, useStore } from '@deriv/stores';\nimport { Localize } from '@deriv-com/translations';\nimport { useDevice } from '@deriv-com/ui';\n\nimport {\n    EmploymentStatusField,\n    TaxIdentificationNumberField,\n    TaxResidenceField,\n} from '../../Components/forms/form-fields';\nimport { isFieldImmutable } from '../../Helpers/utils';\n\nimport './employment-tax-details-container.scss';\n\ntype TEmploymentTaxDetailsContainerProps = {\n    editable_fields: string[];\n    parent_ref: React.RefObject<HTMLDivElement>;\n    should_display_long_message?: boolean;\n    handleChange: (value: string) => void;\n    tin_validation_config: TinValidations;\n    id?: string;\n    is_feature_flag_disabled?: boolean;\n    should_focus_fields?: boolean;\n    version?: string;\n};\n\nconst EmploymentTaxDetailsContainer = observer(\n    ({\n        editable_fields,\n        is_feature_flag_disabled,\n        parent_ref,\n        should_display_long_message,\n        tin_validation_config,\n        handleChange,\n        should_focus_fields,\n        version,\n    }: TEmploymentTaxDetailsContainerProps) => {\n        const { values, setFieldValue, touched, errors, setValues } = useFormikContext<FormikValues>();\n        const { isDesktop } = useDevice();\n        const { data: residence_list } = useResidenceList();\n        const { client } = useStore();\n\n        const { is_virtual, account_settings, account_status } = client;\n\n        const { tin_employment_status_bypass, is_tin_mandatory } = tin_validation_config;\n\n        const is_employment_status_mandatory = is_virtual\n            ? true\n            : Boolean(account_status?.status?.includes('mt5_additional_kyc_required'));\n\n        const is_tin_required =\n            !is_virtual &&\n            values.employment_status &&\n            !tin_employment_status_bypass?.includes(values.employment_status) &&\n            is_employment_status_mandatory;\n\n        const [is_tax_residence_popover_open, setIsTaxResidencePopoverOpen] = useState(false);\n        const [is_tin_popover_open, setIsTinPopoverOpen] = useState(false);\n\n        const tax_residence_ref = useRef<HTMLDivElement>(null);\n        const tin_ref = useRef<HTMLDivElement>(null);\n\n        const validateClickOutside = (event: MouseEvent) => {\n            const target = event?.target as HTMLElement;\n            if (target.tagName === 'A') {\n                event?.stopPropagation();\n                return false;\n            }\n            return !tax_residence_ref.current?.contains(target) && !tin_ref.current?.contains(target);\n        };\n\n        const closeToolTips = () => {\n            setIsTaxResidencePopoverOpen(false);\n            setIsTinPopoverOpen(false);\n        };\n\n        useEffect(() => {\n            if (values.tax_residence) {\n                const tax_residence = residence_list.find(item => item.text === values.tax_residence)?.value;\n                if (tax_residence) {\n                    handleChange(tax_residence);\n                }\n            }\n        }, [handleChange, values.tax_residence, residence_list]);\n\n        useEffect(() => {\n            if (!values.tax_residence || !values.tax_identification_number) {\n                setFieldValue('tax_identification_confirm', false, true);\n            }\n        }, [values.tax_residence, values.tax_identification_number, setFieldValue]);\n\n        useEffect(() => {\n            const parent_element = parent_ref?.current;\n\n            if (parent_element) {\n                parent_element.addEventListener('scroll', closeToolTips);\n            }\n\n            return () => {\n                if (parent_element) {\n                    parent_element.removeEventListener('scroll', closeToolTips);\n                }\n                setIsTaxResidencePopoverOpen(false);\n                setIsTinPopoverOpen(false);\n            };\n        }, [parent_ref]);\n\n        useEffect(() => {\n            if (tin_validation_config) {\n                // This is to trigger re-validation of TIN field when the validation config changes\n                setFieldValue('tax_identification_number', values.tax_identification_number, true);\n            }\n        }, [tin_validation_config, setFieldValue, values.tax_identification_number]);\n\n        useEffect(() => {\n            if (touched.tax_identification_number && values.tax_identification_number) {\n                setFieldValue('tin_skipped', 0, true);\n            }\n        }, [values.tax_identification_number, setFieldValue, touched.tax_identification_number]);\n\n        const is_tax_details_confirm_disabled = useMemo(\n            () =>\n                (isFieldImmutable('tax_identification_number', editable_fields) &&\n                    isFieldImmutable('tax_residence', editable_fields)) ||\n                !values.tax_identification_number ||\n                !values.tax_residence ||\n                !!values.tin_skipped,\n            [editable_fields, values.tax_identification_number, values.tax_residence, values.tin_skipped]\n        );\n\n        useOnClickOutside(tax_residence_ref, () => setIsTaxResidencePopoverOpen(false), validateClickOutside);\n\n        useOnClickOutside(tin_ref, () => setIsTinPopoverOpen(false), validateClickOutside);\n\n        const should_show_no_tax_details_checkbox =\n            (tin_employment_status_bypass?.includes(values.employment_status) && !!values.tax_residence) ||\n            Boolean(values.tin_skipped);\n\n        const should_show_tax_confirm_checkbox =\n            !account_settings.tax_identification_number || touched.tax_identification_number;\n\n        const isFieldDisabled = (field_name: string) => isFieldImmutable(field_name, editable_fields);\n\n        return (\n            <div id={'employment-tax-section'}>\n                <EmploymentStatusField\n                    required={is_employment_status_mandatory}\n                    is_feature_flag_disabled={is_feature_flag_disabled}\n                    is_disabled={isFieldDisabled('employment_status')}\n                    fieldFocused={\n                        should_focus_fields && (!account_settings.employment_status || !values.employment_status)\n                    }\n                    version={version}\n                />\n\n                {!account_settings.tax_identification_number && should_show_no_tax_details_checkbox && (\n                    <Checkbox\n                        name='tin_skipped'\n                        className='employment_tax_detail_field-checkbox'\n                        data-lpignore\n                        onChange={() => {\n                            const confirm_no_tax_details = values.tin_skipped ? 0 : 1;\n                            setValues(\n                                {\n                                    ...values,\n                                    tin_skipped: confirm_no_tax_details,\n                                    tax_identification_number: '',\n                                    tax_identification_confirm: false,\n                                },\n                                true\n                            );\n                        }}\n                        value={values.tin_skipped}\n                        label={<Localize i18n_default_text='I do not have tax information' />}\n                        withTabIndex={0}\n                        data-testid='tin_skipped'\n                        label_font_size={!isDesktop ? 'xxs' : 'xs'}\n                        label_line_height='m'\n                    />\n                )}\n                <div ref={tax_residence_ref} className='account-form__fieldset'>\n                    <TaxResidenceField\n                        disabled={\n                            isFieldDisabled('tax_residence') || (values.tin_skipped && !account_settings.tin_skipped)\n                        }\n                        is_tax_residence_popover_open={is_tax_residence_popover_open}\n                        setIsTaxResidencePopoverOpen={setIsTaxResidencePopoverOpen}\n                        setIsTinPopoverOpen={setIsTinPopoverOpen}\n                        required={(should_display_long_message && !values.tin_skipped) || is_tin_required}\n                        fieldFocused={\n                            should_focus_fields && (!account_settings.tax_residence || !account_settings.residence)\n                        }\n                    />\n                </div>\n                <div ref={tin_ref} className='account-form__fieldset'>\n                    <TaxIdentificationNumberField\n                        disabled={\n                            isFieldDisabled('tax_identification_number') ||\n                            (values.tin_skipped && !account_settings.tin_skipped)\n                        }\n                        is_tin_popover_open={is_tin_popover_open}\n                        setIsTinPopoverOpen={setIsTinPopoverOpen}\n                        setIsTaxResidencePopoverOpen={setIsTaxResidencePopoverOpen}\n                        required={\n                            (should_display_long_message && !values.tin_skipped) ||\n                            (is_tin_required && is_tin_mandatory)\n                        }\n                        fieldFocused={\n                            should_focus_fields &&\n                            values.employment_status &&\n                            !values.tin_skipped &&\n                            (should_display_long_message || is_tin_required || !values.tax_identification_number)\n                        }\n                    />\n                </div>\n                {should_show_tax_confirm_checkbox && (\n                    <Checkbox\n                        name='tax_identification_confirm'\n                        className='employment_tax_detail_field-checkbox'\n                        data-lpignore\n                        onChange={() =>\n                            setFieldValue('tax_identification_confirm', !values.tax_identification_confirm, true)\n                        }\n                        value={values.tax_identification_confirm}\n                        label={\n                            should_display_long_message ? (\n                                <Localize\n                                    i18n_default_text='I hereby confirm that the tax information provided is true and complete. I will also inform {{legal_entity_name}} about any changes to this information.'\n                                    values={{\n                                        legal_entity_name: getLegalEntityName('maltainvest'),\n                                    }}\n                                />\n                            ) : (\n                                <Localize i18n_default_text='I confirm that my tax information is accurate and complete.' />\n                            )\n                        }\n                        withTabIndex={0}\n                        data-testid='tax_identification_confirm'\n                        has_error={!!(touched.tax_identification_confirm && errors.tax_identification_confirm)}\n                        label_font_size={!isDesktop ? 'xxs' : 'xs'}\n                        label_line_height='m'\n                        disabled={is_tax_details_confirm_disabled}\n                    />\n                )}\n            </div>\n        );\n    }\n);\n\nexport default EmploymentTaxDetailsContainer;\n","import EmploymentTaxDetailsContainer from './employment-tax-details-container';\n\nexport default EmploymentTaxDetailsContainer;\n","import { useQuery } from '@deriv/api';\nimport { TSocketRequestPayload } from '@deriv/api/types';\nimport { useStore } from '@deriv/stores';\n\ntype TKycAuthStatusPayload = TSocketRequestPayload<'kyc_auth_status'>['payload'];\n\n/** Custom hook that returns Proof of Identity (POI) and Proof of Address (POA) authentication status details. */\nexport const useKycAuthStatus = (payload?: TKycAuthStatusPayload) => {\n    const { client } = useStore();\n\n    const { is_authorize } = client;\n    const { data, ...kyc_auth_status_rest } = useQuery('kyc_auth_status', {\n        payload,\n        options: { enabled: is_authorize },\n    });\n    return {\n        /** The KYC auth status */\n        kyc_auth_status: data?.kyc_auth_status,\n        ...kyc_auth_status_rest,\n    };\n};\n","import { PropsWithChildren } from 'react';\n\ntype TInputGroup = {\n    className?: string;\n};\n\nconst InputGroup = ({ children, className }: PropsWithChildren<TInputGroup>) => (\n    <fieldset className='account-form__fieldset'>\n        <div className={className}>{children}</div>\n    </fieldset>\n);\n\nexport default InputGroup;\n","import dayjs from 'dayjs';\nimport * as Yup from 'yup';\n\nimport { localize } from '@deriv-com/translations';\nimport { ValidationConstants } from '@deriv-com/utils';\n\nimport { TEmployeeDetailsTinValidationConfig } from '../Types';\n\nconst { taxIdentificationNumber, address, addressCity, postalCode, phoneNumber, name, postalOfficeBoxNumber } =\n    ValidationConstants.patterns;\nconst { addressPermittedSpecialCharacters } = ValidationConstants.messagesHints;\n\ntype TINDepdendents = {\n    is_mf?: boolean;\n    is_real?: boolean;\n    tin_skipped?: boolean;\n    /**\n     * This flag indicates that tin was skipped before and was set by BE\n     */\n    is_tin_auto_set?: boolean;\n    is_employment_status_tin_mandatory?: boolean;\n    is_required_for_tax_residence?: boolean;\n};\n\nYup.addMethod(Yup.string, 'validatePhoneNumberLength', function (message, isCountryCodeDropdownEnabled) {\n    return this.test('is-valid-phone-number-length', message || localize('You should enter 9-20 numbers.'), value => {\n        if (typeof value === 'string') {\n            // Remove the leading '+' symbol before validation\n            const phoneNumber = value.startsWith('+') ? value.slice(1) : value;\n            return isCountryCodeDropdownEnabled ? /^[0-9]{5,15}$/.test(phoneNumber) : /^[0-9]{9,20}$/.test(phoneNumber);\n        }\n        return false;\n    });\n});\n\nconst tempPhoneNumberValidation = /^[0-9]{5,15}$/;\n\nconst makeTinOptional = ({\n    is_mf,\n    is_real,\n    tin_skipped,\n    is_tin_auto_set,\n    is_employment_status_tin_mandatory,\n    is_required_for_tax_residence,\n}: TINDepdendents) => {\n    const check_if_tin_skipped = tin_skipped && !is_tin_auto_set;\n    if (is_real) {\n        // Students and unemployed are not required to provide TIN to have a regulated MT5 jurisdiction\n        if (is_tin_auto_set && !(is_employment_status_tin_mandatory && is_required_for_tax_residence)) {\n            return true;\n        }\n        return check_if_tin_skipped || !(is_employment_status_tin_mandatory && is_required_for_tax_residence);\n    }\n    // Check For Virtual account\n    if (is_mf) {\n        return check_if_tin_skipped;\n    }\n    return true;\n};\n\nexport const getEmploymentAndTaxValidationSchema = ({\n    tin_config,\n    is_mf = false,\n    is_real = false,\n    is_tin_auto_set = false,\n    is_duplicate_account = false,\n    is_employment_status_tin_mandatory = false,\n}: TEmployeeDetailsTinValidationConfig) => {\n    return Yup.object({\n        employment_status: Yup.string().when('is_employment_status_tin_mandatory', {\n            is: () => is_employment_status_tin_mandatory,\n            then: Yup.string().required(localize('Employment status is required.')),\n            otherwise: Yup.string().notRequired(),\n        }),\n        tax_residence: Yup.string().when('is_mf', {\n            is: () => is_mf,\n            then: Yup.string().required(localize('Tax residence is required.')),\n            otherwise: Yup.string().notRequired(),\n        }),\n        tin_skipped: Yup.number().oneOf([0, 1]).default(0),\n        tax_identification_confirm: Yup.bool().when(['tax_identification_number', 'tax_residence', 'tin_skipped'], {\n            is: (tax_identification_number: string, tax_residence: string, tin_skipped: boolean) =>\n                tax_identification_number && tax_residence && !tin_skipped && !is_duplicate_account,\n            then: Yup.bool().required().oneOf([true]),\n            otherwise: Yup.bool().notRequired(),\n        }),\n        tax_identification_number: Yup.string()\n            .when(['tin_skipped'], {\n                is: (tin_skipped: boolean) =>\n                    makeTinOptional({\n                        is_mf,\n                        is_real,\n                        tin_skipped,\n                        is_tin_auto_set,\n                        is_employment_status_tin_mandatory,\n                        is_required_for_tax_residence: Boolean(tin_config?.is_tin_mandatory),\n                    }),\n                then: Yup.string().notRequired(),\n                otherwise: Yup.string().required(localize('Tax identification number is required.')),\n            })\n            .max(25, localize(\"Tax identification number can't be longer than 25 characters.\"))\n            .matches(taxIdentificationNumber, {\n                excludeEmptyString: true,\n                message: localize('Only letters, numbers, space, hyphen, period, and forward slash are allowed.'),\n            })\n            .test({\n                name: 'validate-tin',\n                test: (value, context) => {\n                    const { tax_residence } = context.parent;\n                    if (value && !tax_residence) {\n                        return context.createError({ message: localize('Please fill in tax residence.') });\n                    }\n\n                    if (\n                        value &&\n                        tin_config?.tin_format?.length &&\n                        !tin_config?.tin_format?.some(tax_regex => new RegExp(tax_regex).test(value as string))\n                    ) {\n                        return context.createError({\n                            message: localize('Tax identification number is not properly formatted.'),\n                        });\n                    }\n\n                    if (\n                        value &&\n                        tin_config?.invalid_patterns?.length &&\n                        tin_config?.invalid_patterns?.some(invalid_pattern =>\n                            new RegExp(invalid_pattern).test(value as string)\n                        )\n                    ) {\n                        return context.createError({\n                            message: localize('Tax identification number is not properly formatted.'),\n                        });\n                    }\n                    return true;\n                },\n            }),\n    });\n};\n\nexport const getAddressDetailValidationSchema = (is_svg: boolean) =>\n    Yup.object({\n        address_city: Yup.string()\n            .required(localize('City is required'))\n            .max(99, localize('Only 99 characters, please.'))\n            .matches(addressCity, localize('Only letters, periods, hyphens, apostrophes, and spaces, please.')),\n        address_line_1: Yup.string()\n            .required(localize('First line of address is required'))\n            .max(70, localize('Only 70 characters, please.'))\n            .matches(\n                address,\n                `${localize('Use only the following special characters:')} ${addressPermittedSpecialCharacters}`\n            )\n            .when({\n                is: () => is_svg,\n                then: Yup.string().test(\n                    'po_box',\n                    localize('P.O. Box is not accepted in address'),\n                    value => !postalOfficeBoxNumber.test(value ?? '')\n                ),\n            }),\n        address_line_2: Yup.string()\n            .max(70, localize('Only 70 characters, please.'))\n            .matches(\n                address,\n                `${localize('Use only the following special characters:')} ${addressPermittedSpecialCharacters}`\n            )\n            .when({\n                is: () => is_svg,\n                then: Yup.string().test(\n                    'po_box',\n                    localize('P.O. Box is not accepted in address'),\n                    value => !postalOfficeBoxNumber.test(value ?? '')\n                ),\n            }),\n        address_postcode: Yup.string()\n            .max(20, localize('Please enter a postal/ZIP code under 20 characters.'))\n            .matches(postalCode, localize('Only letters, numbers, space and hyphen are allowed.')),\n        address_state: Yup.string().matches(/^[\\w\\s\\W'.;,-]{0,99}$/, localize('State is not in a proper format')),\n    });\n\nexport const getPersonalDetailsBaseValidationSchema = (broker_code?: string, isCountryCodeDropdownEnabled?: boolean) =>\n    Yup.object({\n        salutation: Yup.string().when({\n            is: () => broker_code === 'maltainvest',\n            then: Yup.string().required(localize('Salutation is required.')),\n        }),\n        account_opening_reason: Yup.string().required(localize('Account opening reason is required.')),\n        first_name: Yup.string()\n            .required(localize('First name is required.'))\n            .max(50, localize('Enter no more than 50 characters.'))\n            .matches(name, localize('Letters, spaces, periods, hyphens, apostrophes only.')),\n        last_name: Yup.string()\n            .required(localize('Last name is required.'))\n            .max(50, localize('Enter no more than 50 characters.'))\n            .matches(name, localize('Letters, spaces, periods, hyphens, apostrophes only.')),\n        date_of_birth: Yup.string()\n            .required('Date of birth is required.')\n            .test({\n                name: 'validate_dob',\n                test: value => dayjs(value).isValid() && dayjs(value).isBefore(dayjs().subtract(18, 'years')),\n                message: localize('You must be 18 years old and above.'),\n            }),\n        phone: Yup.string()\n            .required(localize('Phone is required.'))\n            // @ts-expect-error yup validation giving type error\n            .validatePhoneNumberLength(\n                isCountryCodeDropdownEnabled\n                    ? localize('You should enter 5-15 numbers.')\n                    : localize('You should enter 9-20 numbers.'),\n                isCountryCodeDropdownEnabled\n            )\n            .matches(\n                isCountryCodeDropdownEnabled ? tempPhoneNumberValidation : phoneNumber,\n                localize('Please enter a valid phone number (e.g. +15417541234).')\n            ),\n        ...(isCountryCodeDropdownEnabled && {\n            calling_country_code: Yup.string().required(localize('Code required.')),\n        }),\n        place_of_birth: Yup.string().required(localize('Place of birth is required.')),\n        citizen: broker_code\n            ? Yup.string().when({\n                  is: () => broker_code === 'maltainvest',\n                  then: Yup.string().required(localize('Citizenship is required.')),\n              })\n            : Yup.string().required(localize('Citizenship is required.')),\n    });\n","import * as Yup from 'yup';\n\nimport { TinValidations } from '@deriv/api/types';\nimport { GetSettings, ResidenceList, StatesList } from '@deriv/api-types';\nimport { formatDate, getLocation, toMoment } from '@deriv/shared';\n\nimport {\n    getAddressDetailValidationSchema,\n    getEmploymentAndTaxValidationSchema,\n    getPersonalDetailsBaseValidationSchema,\n} from 'Configs/user-profile-validation-config';\nimport { PersonalDetailsValueTypes } from 'Types';\n\nexport const getPersonalDetailsInitialValues = (\n    account_settings: GetSettings & { tin_skipped?: 0 | 1 },\n    residence_list: ResidenceList,\n    states_list: StatesList,\n    is_virtual?: boolean,\n    selected_phone_code?: string,\n    is_carriers_supported?: boolean,\n    isCountryCodeDropdownEnabled?: string | boolean\n): PersonalDetailsValueTypes => {\n    const virtualAccountInitialValues: PersonalDetailsValueTypes = {\n        email_consent: account_settings.email_consent ?? 0,\n        residence: account_settings.residence,\n    };\n    if (is_virtual) return virtualAccountInitialValues;\n\n    const initialValues = {\n        ...virtualAccountInitialValues,\n        address_city: account_settings.address_city,\n        address_line_1: account_settings.address_line_1,\n        address_line_2: account_settings.address_line_2 ?? '',\n        address_postcode: account_settings.address_postcode ?? '',\n        address_state: '',\n        ...(isCountryCodeDropdownEnabled && {\n            //@ts-expect-error calling_country_code is not defined in GetSettings type\n            calling_country_code: account_settings.calling_country_code || selected_phone_code,\n        }),\n        ...(isCountryCodeDropdownEnabled && { is_carriers_available: is_carriers_supported }),\n        date_of_birth: formatDate(account_settings.date_of_birth, 'YYYY-MM-DD'),\n        first_name: account_settings.first_name,\n        last_name: account_settings.last_name,\n        phone: isCountryCodeDropdownEnabled\n            ? account_settings.phone?.replace(/\\D/g, '')\n            : `+${account_settings.phone?.replace(/\\D/g, '')}`,\n        account_opening_reason: account_settings.account_opening_reason,\n        employment_status: account_settings?.employment_status,\n        tax_residence:\n            (account_settings?.tax_residence\n                ? residence_list.find(item => item.value === account_settings?.tax_residence)?.text\n                : account_settings?.residence) || '',\n    };\n\n    const isGetSettingsKey = (value: string): value is keyof GetSettings =>\n        Object.keys(account_settings).includes(value);\n\n    ['citizen', 'place_of_birth', 'tax_residence'].forEach(key => {\n        if (isGetSettingsKey(key)) {\n            if (account_settings[key]) {\n                // @ts-expect-error keys will always be available\n                initialValues[key] = getLocation(residence_list, account_settings[key] as string, 'text');\n            }\n        }\n    });\n\n    if (account_settings?.tin_skipped) {\n        initialValues.tin_skipped = account_settings.tin_skipped;\n        initialValues.tax_identification_number = '';\n    } else {\n        initialValues.tax_identification_number = account_settings.tax_identification_number ?? '';\n    }\n\n    if (account_settings.address_state) {\n        initialValues.address_state = states_list.length\n            ? getLocation(states_list, account_settings.address_state, 'text')\n            : account_settings.address_state;\n    }\n\n    if (account_settings.request_professional_status) {\n        initialValues.request_professional_status = account_settings.request_professional_status;\n    }\n\n    // Setting default value of `I confirm that my tax information is accurate and complete.` checkbox\n    if (account_settings.tax_residence && account_settings.tax_identification_number && !account_settings.tin_skipped) {\n        initialValues.tax_identification_confirm = true;\n    } else {\n        initialValues.tax_identification_confirm = false;\n    }\n\n    return initialValues;\n};\n\nexport const makeSettingsRequest = (\n    settings: PersonalDetailsValueTypes,\n    residence_list: ResidenceList,\n    states_list: StatesList,\n    is_virtual: boolean\n) => {\n    if (is_virtual && settings.email_consent) return { email_consent: settings.email_consent };\n    const request = settings;\n\n    //@ts-expect-error is_carriers_available is not defined in GetSettings type\n    delete request.is_carriers_available;\n    if (request.residence) delete request.residence;\n    if (request.first_name) {\n        request.first_name = request.first_name.trim();\n    }\n\n    if (request.last_name) {\n        request.last_name = request.last_name.trim();\n    }\n    if (request.date_of_birth) {\n        request.date_of_birth = toMoment(request.date_of_birth).format('YYYY-MM-DD');\n    }\n\n    if (request.tax_residence) {\n        request.tax_residence = getLocation(residence_list, request.tax_residence, 'value');\n    }\n\n    if (request.tax_identification_number) {\n        request.tax_identification_number = request.tax_identification_number.trim();\n    }\n\n    if (request.citizen) {\n        request.citizen = getLocation(residence_list, request.citizen, 'value');\n    }\n\n    if (request.place_of_birth) {\n        request.place_of_birth = getLocation(residence_list, request.place_of_birth, 'value');\n    } else {\n        delete request.place_of_birth;\n    }\n\n    if (request.address_state) {\n        request.address_state = states_list.length\n            ? getLocation(states_list, request.address_state, 'value')\n            : request.address_state;\n    }\n    delete request.tax_identification_confirm;\n\n    return request;\n};\n\nexport const getPersonalDetailsValidationSchema = (\n    is_virtual?: boolean,\n    is_svg?: boolean,\n    tin_validation_config?: TinValidations,\n    is_tin_auto_set?: boolean,\n    immutable_fields?: string[],\n    is_employment_status_tin_mandatory?: boolean,\n    isCountryCodeDropdownEnabled?: string | boolean\n) => {\n    if (is_virtual) return Yup.object();\n\n    const personal_details_schema = getPersonalDetailsBaseValidationSchema('', !!isCountryCodeDropdownEnabled).pick([\n        'first_name',\n        'last_name',\n        'phone',\n        ...(isCountryCodeDropdownEnabled ? (['calling_country_code'] as const) : []),\n        'date_of_birth',\n        'citizen',\n    ]);\n\n    const address_detail_schema = getAddressDetailValidationSchema(is_svg ?? false);\n\n    const employment_tin_schema = getEmploymentAndTaxValidationSchema({\n        tin_config: tin_validation_config as TinValidations,\n        is_mf: !is_svg,\n        is_real: !is_virtual,\n        is_tin_auto_set,\n        is_duplicate_account:\n            immutable_fields?.includes('tax_identification_number') || immutable_fields?.includes('tax_residence'),\n        is_employment_status_tin_mandatory,\n    });\n\n    return personal_details_schema.concat(address_detail_schema).concat(employment_tin_schema);\n};\n","import { useEffect, useRef } from 'react';\nimport { useHistory } from 'react-router';\n\nimport { GetSettings, ResidenceList, StatesList } from '@deriv/api-types';\nimport { Button } from '@deriv/components';\nimport { useIsPhoneNumberVerified, useSettings, useVerifyEmail } from '@deriv/hooks';\nimport { routes } from '@deriv/shared';\nimport { observer, useStore } from '@deriv/stores';\nimport { Localize, useTranslations } from '@deriv-com/translations';\n\nimport { makeSettingsRequest } from './validation';\n\nimport './verify-button.scss';\n\ntype TVerifyButton = {\n    is_dynamic_fa_enabled: boolean;\n    is_verify_button_disabled: boolean;\n    next_email_otp_request_timer?: number;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    setStatus: (status: any) => void;\n    values: GetSettings;\n    residence_list: ResidenceList;\n    states_list: StatesList;\n    version: string;\n};\n\nexport const VerifyButton = observer(\n    ({\n        is_dynamic_fa_enabled,\n        is_verify_button_disabled,\n        next_email_otp_request_timer,\n        setStatus,\n        values,\n        residence_list,\n        states_list,\n        version,\n    }: TVerifyButton) => {\n        const { client, ui } = useStore();\n        const { setShouldShowPhoneNumberOTP } = ui;\n        const { setVerificationCode, is_authorize, is_virtual } = client;\n        const { is_phone_number_verified } = useIsPhoneNumberVerified();\n        const history = useHistory();\n        const { localize } = useTranslations();\n        const {\n            refetch,\n            mutation: { mutateAsync: updateSettings, isLoading: isSetSettingsLoading },\n        } = useSettings();\n        //@ts-expect-error remove this when phone_number_verification is added to api calls\n        const { sendPhoneNumberVerifyEmail, WS, is_loading, error } = useVerifyEmail('phone_number_verification');\n        const ref = useRef<HTMLDivElement | null>(null);\n\n        useEffect(() => {\n            if (is_authorize) refetch();\n        }, [is_authorize, refetch]);\n\n        useEffect(() => {\n            if (WS.isSuccess) {\n                history.push(routes.phone_verification);\n            } else if (error) {\n                //@ts-expect-error error message has issue with typing\n                setStatus({ msg: error.message, code: error.code });\n            }\n        }, [WS.isSuccess, history, error]);\n\n        const redirectToPhoneVerification = (e: React.MouseEvent<HTMLElement>) => {\n            e.preventDefault();\n            localStorage.setItem('routes_from_notification_to_pnv', routes.personal_details);\n            setVerificationCode('', 'phone_number_verification');\n            setShouldShowPhoneNumberOTP(false);\n            const request = {\n                // @ts-expect-error GetSettings types doesn't match updated set_settings payload types\n                ...makeSettingsRequest({ ...values }, residence_list, states_list, is_virtual),\n                ...(is_dynamic_fa_enabled && { financial_information_version: version || 'v2' }),\n            };\n\n            // @ts-expect-error GetSettings types doesn't match updated set_settings payload types\n            updateSettings({ payload: request })\n                .then(() => {\n                    sendPhoneNumberVerifyEmail();\n                })\n                .catch(err => {\n                    setStatus({ msg: err.message, code: err.code });\n                });\n        };\n\n        const verifyTimer = () => {\n            let resendCodeTimer = '';\n            if (next_email_otp_request_timer) {\n                next_email_otp_request_timer < 60\n                    ? (resendCodeTimer = `${localize(' in ')}${next_email_otp_request_timer}s`)\n                    : (resendCodeTimer = `${localize(' in ')}${Math.round(next_email_otp_request_timer / 60)}m`);\n            } else {\n                resendCodeTimer = '';\n            }\n\n            return resendCodeTimer;\n        };\n\n        return (\n            <div ref={ref}>\n                <Button\n                    className='phone-verification-button'\n                    is_disabled={\n                        is_phone_number_verified ||\n                        is_verify_button_disabled ||\n                        isSetSettingsLoading ||\n                        is_loading ||\n                        !!next_email_otp_request_timer\n                    }\n                    onClick={redirectToPhoneVerification}\n                    has_effect\n                    green={is_phone_number_verified}\n                    primary\n                    large\n                >\n                    {is_phone_number_verified ? (\n                        <Localize i18n_default_text='Verified' />\n                    ) : (\n                        <Localize\n                            i18n_default_text='Verify{{resendCode}}'\n                            values={{\n                                resendCode: verifyTimer(),\n                            }}\n                        />\n                    )}\n                </Button>\n            </div>\n        );\n    }\n);\n","import PersonalDetails from './personal-details-form';\n\nexport default PersonalDetails;\n","import { ChangeEvent, Fragment, useEffect, useLayoutEffect, useMemo, useRef, useState } from 'react';\nimport { useHistory } from 'react-router';\nimport clsx from 'clsx';\nimport { Form, Formik, FormikHelpers } from 'formik';\n\nimport { useInvalidateQuery } from '@deriv/api';\nimport { GetFinancialAssessmentResponse } from '@deriv/api-types';\nimport {\n    Button,\n    Checkbox,\n    FormSubmitErrorMessage,\n    HintBox,\n    Input,\n    Loading,\n    OpenLiveChatLink,\n    Text,\n} from '@deriv/components';\nimport {\n    useGetPhoneNumberList,\n    useGrowthbookGetFeatureValue,\n    useIsPhoneNumberVerified,\n    usePhoneNumberVerificationSetTimer,\n    useResidenceList,\n    useStatesList,\n    useTinValidations,\n} from '@deriv/hooks';\nimport { AUTH_STATUS_CODES, getBrandWebsiteName, routes, WS } from '@deriv/shared';\nimport { observer, useStore } from '@deriv/stores';\nimport { Localize, localize } from '@deriv/translations';\nimport { Chat } from '@deriv/utils';\nimport { useDevice } from '@deriv-com/ui';\n\nimport FormBody from '../../../Components/form-body';\nimport FormFooter from '../../../Components/form-footer';\nimport FormSubHeader from '../../../Components/form-sub-header';\nimport { DateOfBirthField } from '../../../Components/forms/form-fields';\nimport AccountOpeningReasonField from '../../../Components/forms/form-fields/account-opening-reason';\nimport FormSelectField from '../../../Components/forms/form-select-field';\nimport LeaveConfirm from '../../../Components/leave-confirm';\nimport LoadErrorMessage from '../../../Components/load-error-message';\nimport POAAddressMismatchHintBox from '../../../Components/poa-address-mismatch-hint-box';\nimport EmploymentTaxDetailsContainer from '../../../Containers/employment-tax-details-container';\nimport { isFieldImmutable } from '../../../Helpers/utils';\nimport { useScrollElementToTop } from '../../../hooks';\nimport { PersonalDetailsValueTypes } from '../../../Types';\n\nimport { account_opening_reason_list, account_opening_reason_new_list } from './constants';\nimport InputGroup from './input-group';\nimport { getPersonalDetailsInitialValues, getPersonalDetailsValidationSchema, makeSettingsRequest } from './validation';\nimport { VerifyButton } from './verify-button';\n\nimport './personal-details-form.scss';\n\ntype TRestState = {\n    show_form: boolean;\n    api_error?: string;\n};\n\nconst PersonalDetailsForm = observer(() => {\n    const { isDesktop } = useDevice();\n    const [is_loading, setIsLoading] = useState(false);\n    const [is_btn_loading, setIsBtnLoading] = useState(false);\n    const [is_submit_success, setIsSubmitSuccess] = useState(false);\n    const invalidate = useInvalidateQuery();\n    const history = useHistory();\n    const versionRef = useRef('');\n    const [isPhoneNumberVerificationEnabled, isPhoneNumberVerificationLoaded] = useGrowthbookGetFeatureValue({\n        featureFlag: 'phone_number_verification',\n    });\n    const [isCountryCodeDropdownEnabled, isCountryCodeLoaded] = useGrowthbookGetFeatureValue({\n        featureFlag: 'enable_country_code_dropdown',\n    });\n\n    const [isDynamicFAEnabled, isDynamicFALoaded] = useGrowthbookGetFeatureValue({\n        featureFlag: 'redirect_to_fa_in_account_os',\n    });\n\n    const { next_email_otp_request_timer, is_email_otp_timer_loading } = usePhoneNumberVerificationSetTimer();\n\n    const { tin_validation_config, mutate } = useTinValidations();\n\n    const scrollToTop = useScrollElementToTop();\n\n    const {\n        client,\n        ui,\n        notifications,\n        common: { is_language_changing },\n    } = useStore();\n    const { is_phone_number_verified } = useIsPhoneNumberVerified();\n\n    const {\n        account_settings,\n        account_status,\n        authentication_status,\n        is_virtual,\n        current_landing_company,\n        updateAccountStatus,\n        fetchAccountSettings,\n        residence,\n        is_svg,\n        is_mf_account,\n    } = client;\n\n    const { field_ref_to_focus, setFieldRefToFocus } = ui;\n\n    const { data: residence_list, isLoading: is_loading_residence_list } = useResidenceList();\n\n    const {\n        is_global_sms_available,\n        is_global_whatsapp_available,\n        legacy_core_countries_list,\n        selected_phone_code,\n        selected_country_list,\n        updatePhoneSettings,\n    } = useGetPhoneNumberList();\n\n    const { data: states_list, isLoading: is_loading_state_list } = useStatesList(residence);\n\n    const account_opening_reason_list_array = account_opening_reason_list();\n\n    const account_opening_reason_new_list_array = account_opening_reason_new_list();\n    useEffect(() => {\n        if (isDynamicFAEnabled) {\n            WS.authorized.storage\n                .getFinancialAssessment()\n                .then((data: GetFinancialAssessmentResponse) => {\n                    if (data?.get_financial_assessment) {\n                        // @ts-expect-error new key not updated in api types\n                        versionRef.current = data.get_financial_assessment.financial_information_version ?? '';\n                    }\n                })\n                .catch((error: unknown) => {\n                    // eslint-disable-next-line no-console\n                    console.error('Error fetching financial assessment:', error);\n                });\n        }\n    }, [isDynamicFAEnabled]);\n\n    const {\n        refreshNotifications,\n        showPOAAddressMismatchSuccessNotification,\n        showPOAAddressMismatchFailureNotification,\n    } = notifications;\n\n    const has_poa_address_mismatch = account_status?.status?.includes('poa_address_mismatch');\n    const should_update_fa = account_status?.status?.includes('update_fa');\n    const [rest_state, setRestState] = useState<TRestState>({\n        show_form: true,\n    });\n\n    const notification_timeout = useRef<NodeJS.Timeout>();\n    const scroll_div_ref = useRef(null);\n\n    const [start_on_submit_timeout, setStartOnSubmitTimeout] = useState<{\n        is_timeout_started: boolean;\n        timeout_callback: () => void;\n    }>({\n        is_timeout_started: false,\n        timeout_callback: () => null,\n    });\n\n    useEffect(() => {\n        fetchAccountSettings();\n    }, [fetchAccountSettings]);\n\n    const should_show_loader =\n        is_loading_state_list ||\n        is_loading ||\n        is_loading_residence_list ||\n        !isPhoneNumberVerificationLoaded ||\n        !isCountryCodeLoaded ||\n        !isDynamicFALoaded;\n\n    useEffect(() => {\n        const init = async () => {\n            try {\n                // Order of API calls is important\n                await WS.wait('get_settings');\n                await invalidate('residence_list');\n                await invalidate('states_list');\n            } finally {\n                setIsLoading(false);\n            }\n        };\n        if (is_language_changing) {\n            setIsLoading(true);\n            init();\n        }\n    }, [invalidate, is_language_changing]);\n\n    const checkForInitialCarriersSupported = () => {\n        const is_sms_carrier_available =\n            selected_country_list?.carriers &&\n            (selected_country_list?.carriers as string[]).includes('sms') &&\n            is_global_sms_available;\n\n        const is_whatsapp_carrier_available =\n            selected_country_list?.carriers &&\n            (selected_country_list?.carriers as string[]).includes('whatsapp') &&\n            is_global_whatsapp_available;\n\n        return is_sms_carrier_available || is_whatsapp_carrier_available;\n    };\n\n    const hintMessage = () => {\n        if (isPhoneNumberVerificationEnabled) {\n            if (is_phone_number_verified) {\n                return (\n                    <Localize\n                        i18n_default_text='To change your verified phone number, contact us via <0>live chat</0>.'\n                        components={[\n                            <span\n                                className='account-form__fieldset--phone-verification-livechat-link'\n                                key={0}\n                                onClick={Chat.open}\n                            />,\n                        ]}\n                    />\n                );\n            }\n        } else {\n            return null;\n        }\n    };\n\n    const onSubmit = async (\n        values: PersonalDetailsValueTypes,\n        { setStatus, setSubmitting }: FormikHelpers<PersonalDetailsValueTypes>\n    ) => {\n        setStatus({ msg: '' });\n        const request = {\n            ...makeSettingsRequest({ ...values }, residence_list, states_list, is_virtual),\n            ...(isDynamicFAEnabled && {\n                financial_information_version: should_update_fa ? 'v2' : versionRef.current || 'v2',\n            }),\n        };\n        setIsBtnLoading(true);\n        const data = await WS.authorized.setSettings(request);\n\n        if (data.error) {\n            setStatus({ msg: data.error.message, code: data.error.code });\n            setIsBtnLoading(false);\n            setSubmitting(false);\n        } else {\n            // Adding a delay to show the notification after the page reload\n            notification_timeout.current = setTimeout(() => {\n                if (data.set_settings.notification) {\n                    showPOAAddressMismatchSuccessNotification();\n                } else if (has_poa_address_mismatch) {\n                    showPOAAddressMismatchFailureNotification();\n                }\n            }, 2000);\n\n            // force request to update settings cache since settings have been updated\n            const response = await WS.authorized.storage.getSettings();\n            if (response.error) {\n                setRestState(prev_state => ({ ...prev_state, api_error: response.error.message }));\n                return;\n            }\n            // Fetches the status of the account after update\n            updatePhoneSettings();\n            updateAccountStatus();\n            refreshNotifications();\n            setIsBtnLoading(false);\n            setIsSubmitSuccess(true);\n            setStartOnSubmitTimeout({\n                is_timeout_started: true,\n                timeout_callback: () => {\n                    setSubmitting(false);\n                },\n            });\n            // redirection back based on 'from' param in query string\n            const url_query_string = window.location.search;\n            const url_params = new URLSearchParams(url_query_string);\n            if (url_params.get('from')) {\n                const from = url_params.get('from') as keyof typeof routes;\n                history.push(routes[from]);\n            }\n        }\n    };\n\n    useEffect(() => () => clearTimeout(notification_timeout.current), []);\n\n    useEffect(() => {\n        let timeout_id: NodeJS.Timeout;\n        if (start_on_submit_timeout.is_timeout_started) {\n            timeout_id = setTimeout(() => {\n                setIsSubmitSuccess(false);\n                setStartOnSubmitTimeout({\n                    is_timeout_started: false,\n                    timeout_callback: () => setIsSubmitSuccess(false),\n                });\n            }, 3000);\n        }\n\n        return () => {\n            clearTimeout(timeout_id);\n        };\n    }, [start_on_submit_timeout.is_timeout_started]);\n\n    const showForm = (show_form: boolean) => setRestState({ show_form });\n\n    const isFieldDisabled = (name: string): boolean => {\n        return !!account_settings?.immutable_fields?.includes(name);\n    };\n\n    const employment_tax_editable_fields = useMemo(() => {\n        const fields_to_disable = ['employment_status', 'tax_identification_number'].filter(field =>\n            isFieldImmutable(field, account_settings?.immutable_fields)\n        );\n        /*\n            [TODO]: Will be removed once BE enables tax_residence in immutable_fields\n            If Tax_residence value is present in response, then it must not be editable\n        */\n        if (!account_settings?.tax_residence) {\n            fields_to_disable.push('tax_residence');\n        }\n        return fields_to_disable;\n    }, [account_settings?.immutable_fields, account_settings?.tax_residence]);\n\n    const { api_error, show_form } = rest_state;\n    const loadTimer = useRef<NodeJS.Timeout>();\n\n    // To facilitate scrolling to the field that is to be focused\n    useLayoutEffect(() => {\n        if (field_ref_to_focus && !should_show_loader && !api_error) {\n            loadTimer.current = setTimeout(() => {\n                const parentRef = isDesktop\n                    ? document.querySelector('.account-form__personal-details .dc-themed-scrollbars')\n                    : document.querySelector('.account__scrollbars_container--grid-layout');\n                const targetRef = document.getElementById(field_ref_to_focus) as HTMLElement;\n                const offset = 24; // 24 is the padding of the container\n                scrollToTop(parentRef as HTMLElement, targetRef, offset);\n            }, 0);\n        }\n        return () => {\n            if (field_ref_to_focus) {\n                clearTimeout(loadTimer.current);\n            }\n        };\n    }, [field_ref_to_focus, isDesktop, should_show_loader, api_error, scrollToTop, setFieldRefToFocus]);\n\n    useEffect(() => {\n        return () => {\n            setFieldRefToFocus(null);\n        };\n    }, [setFieldRefToFocus]);\n\n    if (api_error) return <LoadErrorMessage error_message={api_error} />;\n\n    if (should_show_loader) {\n        return <Loading is_fullscreen={false} className='account__initial-loader' />;\n    }\n\n    const is_poa_verified = authentication_status?.document_status === AUTH_STATUS_CODES.VERIFIED;\n    const is_poi_verified = authentication_status?.identity_status === AUTH_STATUS_CODES.VERIFIED;\n\n    const is_account_verified = is_poa_verified && is_poi_verified;\n\n    const stripped_phone_number = isCountryCodeDropdownEnabled\n        ? account_settings.phone?.replace(/\\D/g, '')\n        : `+${account_settings.phone?.replace(/\\D/g, '')}`;\n\n    //Generate Redirection Link to user based on verification status\n    const getRedirectionLink = () => {\n        if (!is_poi_verified) {\n            return '/account/proof-of-identity';\n        } else if (!is_poa_verified) {\n            return '/account/proof-of-address';\n        }\n        return undefined;\n    };\n\n    const is_tin_auto_set = Boolean(account_settings?.tin_skipped);\n\n    const is_employment_status_tin_mandatory = Boolean(account_status?.status?.includes('mt5_additional_kyc_required'));\n\n    const PersonalDetailSchema = getPersonalDetailsValidationSchema(\n        is_virtual,\n        is_svg,\n        tin_validation_config,\n        is_tin_auto_set,\n        account_settings?.immutable_fields,\n        is_employment_status_tin_mandatory,\n        isCountryCodeDropdownEnabled\n    );\n    const displayErrorMessage = (status: { code: string; msg: string }) => {\n        if (status?.code === 'PhoneNumberTaken') {\n            return (\n                <FormSubmitErrorMessage\n                    message={\n                        <Localize\n                            i18n_default_text='Number already exists in our system. Enter a new one or contact us via <0></0> for help'\n                            components={[<OpenLiveChatLink text_size='xxs' key={0} />]}\n                        />\n                    }\n                    text_color='loss-danger'\n                    weight='none'\n                />\n            );\n        }\n        return <FormSubmitErrorMessage message={status?.msg} />;\n    };\n\n    const initialValues = getPersonalDetailsInitialValues(\n        {\n            ...account_settings,\n            employment_status:\n                should_update_fa && versionRef.current === 'v1' ? undefined : account_settings.employment_status,\n        },\n        residence_list,\n        states_list,\n        is_virtual,\n        selected_phone_code,\n        checkForInitialCarriersSupported(),\n        isCountryCodeDropdownEnabled\n    );\n\n    const getAccountOpeningReason = () => {\n        const result = account_opening_reason_new_list_array.find(\n            item => item.value === initialValues?.account_opening_reason\n        );\n\n        if (result) return account_opening_reason_new_list_array;\n\n        const item = account_opening_reason_list_array.find(\n            item => item.value === initialValues?.account_opening_reason\n        );\n\n        return item ? [item, ...account_opening_reason_new_list_array] : account_opening_reason_new_list_array;\n    };\n\n    return (\n        <Formik\n            initialValues={initialValues}\n            enableReinitialize\n            onSubmit={onSubmit}\n            validationSchema={PersonalDetailSchema}\n        >\n            {({\n                values,\n                errors,\n                setStatus,\n                status,\n                handleChange,\n                handleBlur,\n                handleSubmit,\n                isSubmitting,\n                isValid,\n                setFieldValue,\n                setFieldTouched,\n                dirty,\n            }) => (\n                <Fragment>\n                    <LeaveConfirm onDirty={isDesktop ? undefined : showForm} />\n                    {show_form && (\n                        <Form\n                            noValidate\n                            className='account-form account-form__personal-details'\n                            onSubmit={handleSubmit}\n                            data-testid='dt_account_personal_details_section'\n                        >\n                            <FormBody scroll_offset={isDesktop ? '80px' : '199px'}>\n                                <FormSubHeader title={localize('Details')} />\n                                {!is_virtual && (\n                                    <Fragment>\n                                        {isDesktop ? (\n                                            <InputGroup className='account-form__fieldset--2-cols'>\n                                                <Input\n                                                    data-lpignore='true'\n                                                    type='text'\n                                                    name='first_name'\n                                                    label={localize('First name*')}\n                                                    value={values.first_name}\n                                                    onChange={handleChange}\n                                                    onBlur={handleBlur}\n                                                    required\n                                                    disabled={isFieldDisabled('first_name')}\n                                                    error={errors.first_name}\n                                                    id='first_name'\n                                                    data-testid='dt_first_name'\n                                                />\n                                                <Input\n                                                    id='last_name'\n                                                    data-lpignore='true'\n                                                    type='text'\n                                                    name='last_name'\n                                                    label={localize('Last name*')}\n                                                    value={values.last_name}\n                                                    onChange={handleChange}\n                                                    onBlur={handleBlur}\n                                                    required\n                                                    disabled={isFieldDisabled('last_name')}\n                                                    error={errors.last_name}\n                                                    data-testid='dt_last_name'\n                                                />\n                                            </InputGroup>\n                                        ) : (\n                                            <Fragment>\n                                                <fieldset className='account-form__fieldset'>\n                                                    <Input\n                                                        data-lpignore='true'\n                                                        type='text'\n                                                        name='first_name'\n                                                        id='first_name_mobile'\n                                                        label={localize('First name*')}\n                                                        value={values.first_name}\n                                                        onChange={handleChange}\n                                                        onBlur={handleBlur}\n                                                        required\n                                                        disabled={isFieldDisabled('first_name')}\n                                                        error={errors.first_name}\n                                                        data-testid='dt_first_name'\n                                                    />\n                                                </fieldset>\n                                                <fieldset className='account-form__fieldset'>\n                                                    <Input\n                                                        data-lpignore='true'\n                                                        type='text'\n                                                        name='last_name'\n                                                        id='last_name_mobile'\n                                                        label={localize('Last name*')}\n                                                        value={values.last_name}\n                                                        onChange={handleChange}\n                                                        onBlur={handleBlur}\n                                                        required\n                                                        disabled={isFieldDisabled('last_name')}\n                                                        error={errors.last_name}\n                                                        data-testid='dt_last_name'\n                                                    />\n                                                </fieldset>\n                                            </Fragment>\n                                        )}\n                                        {'place_of_birth' in values && (\n                                            <fieldset className='account-form__fieldset'>\n                                                <FormSelectField\n                                                    label={localize('Place of birth')}\n                                                    name='place_of_birth'\n                                                    list_items={residence_list}\n                                                    disabled={isFieldDisabled('place_of_birth')}\n                                                />\n                                            </fieldset>\n                                        )}\n                                        <fieldset className='account-form__fieldset'>\n                                            <DateOfBirthField\n                                                name='date_of_birth'\n                                                label={localize('Date of birth*')}\n                                                id='birth_day'\n                                                disabled={isFieldDisabled('date_of_birth')}\n                                                portal_id=''\n                                                // @ts-expect-error this type value needs to be check again in GetSettings\n                                                value={values.date_of_birth}\n                                            />\n                                        </fieldset>\n\n                                        <fieldset className='account-form__fieldset'>\n                                            <FormSelectField\n                                                label={localize('Citizenship*')}\n                                                name='citizen'\n                                                list_items={residence_list}\n                                                disabled={isFieldDisabled('citizen')}\n                                            />\n                                        </fieldset>\n                                    </Fragment>\n                                )}\n                                <fieldset className='account-form__fieldset'>\n                                    <Input\n                                        data-lpignore='true'\n                                        type='text'\n                                        name='residence'\n                                        id={'residence'}\n                                        label={localize('Country of residence*')}\n                                        //@ts-expect-error type of residence should not be null: needs to be updated in GetSettings type\n                                        value={values.residence}\n                                        required\n                                        disabled={isFieldDisabled('residence')}\n                                        error={errors.residence}\n                                        onChange={handleChange}\n                                    />\n                                </fieldset>\n                                {!is_virtual && (\n                                    <Fragment>\n                                        <fieldset className='account-form__fieldset'>\n                                            <div\n                                                className={clsx('account-form__fieldset--phone_container', {\n                                                    'account-form__fieldset--phone_container--verified':\n                                                        is_phone_number_verified,\n                                                    'account-form__fieldset--phone_container--with-1-field':\n                                                        !isCountryCodeDropdownEnabled,\n                                                })}\n                                            >\n                                                <div className='account-form__fieldset--phone_input'>\n                                                    {isCountryCodeDropdownEnabled && (\n                                                        <FormSelectField\n                                                            label={localize('Code*')}\n                                                            name='calling_country_code'\n                                                            list_items={legacy_core_countries_list}\n                                                            is_country_code_dropdown\n                                                            onItemSelection={country_list => {\n                                                                setFieldValue(\n                                                                    'calling_country_code',\n                                                                    country_list.value,\n                                                                    true\n                                                                );\n                                                                const is_sms_carrier_available =\n                                                                    //@ts-expect-error carriers is not defined in TListItem type\n                                                                    country_list.carriers &&\n                                                                    //@ts-expect-error carriers is not defined in TListItem type\n                                                                    (country_list.carriers as string[]).includes(\n                                                                        'sms'\n                                                                    ) &&\n                                                                    is_global_sms_available;\n                                                                const is_whatsapp_carrier_available =\n                                                                    //@ts-expect-error carriers is not defined in TListItem type\n                                                                    country_list.carriers &&\n                                                                    //@ts-expect-error carriers is not defined in TListItem type\n                                                                    (country_list.carriers as string[]).includes(\n                                                                        'whatsapp'\n                                                                    ) &&\n                                                                    is_global_whatsapp_available;\n                                                                setFieldValue(\n                                                                    'is_carriers_available',\n                                                                    is_sms_carrier_available ||\n                                                                        is_whatsapp_carrier_available,\n                                                                    true\n                                                                );\n                                                            }}\n                                                            disabled={\n                                                                isFieldDisabled('calling_country_code') ||\n                                                                !!next_email_otp_request_timer ||\n                                                                is_email_otp_timer_loading\n                                                            }\n                                                        />\n                                                    )}\n                                                    <Input\n                                                        data-lpignore='true'\n                                                        type='text'\n                                                        inputMode='numeric'\n                                                        name='phone'\n                                                        id={'phone'}\n                                                        label={localize('Phone number*')}\n                                                        //@ts-expect-error type of residence should not be null: needs to be updated in GetSettings type\n                                                        value={values.phone}\n                                                        className='account-form__fieldset--phone-number-input'\n                                                        onChange={(e: ChangeEvent<HTMLInputElement>) => {\n                                                            let phone_number = e.target.value.replace(/\\D/g, '');\n                                                            if (!isCountryCodeDropdownEnabled) {\n                                                                phone_number =\n                                                                    phone_number.length === 0\n                                                                        ? '+'\n                                                                        : `+${phone_number}`;\n                                                            }\n                                                            setFieldValue('phone', phone_number, true);\n                                                            setStatus('');\n                                                        }}\n                                                        onBlur={handleBlur}\n                                                        required\n                                                        error={errors.phone}\n                                                        disabled={\n                                                            isFieldDisabled('phone') ||\n                                                            !!next_email_otp_request_timer ||\n                                                            is_email_otp_timer_loading\n                                                        }\n                                                        data-testid='dt_phone'\n                                                    />\n                                                </div>\n                                                {isPhoneNumberVerificationEnabled && (\n                                                    <VerifyButton\n                                                        is_dynamic_fa_enabled={isDynamicFAEnabled}\n                                                        is_verify_button_disabled={\n                                                            isFieldDisabled('phone') ||\n                                                            !isValid ||\n                                                            !stripped_phone_number ||\n                                                            is_email_otp_timer_loading ||\n                                                            (isCountryCodeDropdownEnabled &&\n                                                                //@ts-expect-error is_carriers_available is not defined in GetSettings type\n                                                                !values.is_carriers_available)\n                                                        }\n                                                        // @ts-expect-error This needs to fixed in VerifyButton component\n                                                        values={values}\n                                                        residence_list={residence_list}\n                                                        states_list={states_list}\n                                                        next_email_otp_request_timer={next_email_otp_request_timer}\n                                                        setStatus={setStatus}\n                                                        version={\n                                                            should_update_fa && versionRef.current === 'v1'\n                                                                ? 'v2'\n                                                                : versionRef.current\n                                                        }\n                                                    />\n                                                )}\n                                            </div>\n                                            {is_phone_number_verified && (\n                                                <div className='account-form__fieldset--phone_container--verified-hint'>\n                                                    <Text as='p' color='less-prominent' size='xxs'>\n                                                        {hintMessage()}\n                                                    </Text>\n                                                </div>\n                                            )}\n                                        </fieldset>\n                                        <AccountOpeningReasonField\n                                            account_opening_reason_list={getAccountOpeningReason()}\n                                            setFieldValue={setFieldValue}\n                                            disabled={isFieldDisabled('account_opening_reason')}\n                                            required\n                                            fieldFocused={\n                                                !account_settings.account_opening_reason &&\n                                                field_ref_to_focus === 'account-opening-reason'\n                                            }\n                                        />\n                                    </Fragment>\n                                )}\n                                {!is_virtual && (\n                                    <div className='employment-tin-section'>\n                                        <FormSubHeader title={localize('Employment and tax information')} />\n                                        <EmploymentTaxDetailsContainer\n                                            editable_fields={employment_tax_editable_fields}\n                                            parent_ref={scroll_div_ref}\n                                            handleChange={mutate}\n                                            tin_validation_config={tin_validation_config}\n                                            should_display_long_message={is_mf_account}\n                                            should_focus_fields={field_ref_to_focus === 'employment-tax-section'}\n                                            version={should_update_fa ? 'v2' : versionRef.current}\n                                            is_feature_flag_disabled={isDynamicFALoaded && !isDynamicFAEnabled}\n                                        />\n                                        {has_poa_address_mismatch && <POAAddressMismatchHintBox />}\n                                        <FormSubHeader title={localize('Address')} />\n                                        <div className='account-address__details-section'>\n                                            <fieldset className='account-form__fieldset'>\n                                                <Input\n                                                    data-lpignore='true'\n                                                    autoComplete='off' // prevent chrome autocomplete\n                                                    type='text'\n                                                    maxLength={70}\n                                                    name='address_line_1'\n                                                    id='address_line_1'\n                                                    label={localize('First line of address*')}\n                                                    value={values.address_line_1}\n                                                    onChange={handleChange}\n                                                    onBlur={handleBlur}\n                                                    error={errors.address_line_1}\n                                                    required\n                                                    disabled={isFieldDisabled('address_line_1')}\n                                                    data-testid='dt_address_line_1'\n                                                />\n                                            </fieldset>\n                                            <fieldset className='account-form__fieldset'>\n                                                <Input\n                                                    data-lpignore='true'\n                                                    autoComplete='off' // prevent chrome autocomplete\n                                                    type='text'\n                                                    maxLength={70}\n                                                    name='address_line_2'\n                                                    id='address_line_2'\n                                                    label={localize('Second line of address (optional)')}\n                                                    value={values.address_line_2}\n                                                    error={errors.address_line_2}\n                                                    onChange={handleChange}\n                                                    onBlur={handleBlur}\n                                                    required\n                                                    disabled={isFieldDisabled('address_line_2')}\n                                                />\n                                            </fieldset>\n                                            <fieldset className='account-form__fieldset'>\n                                                <Input\n                                                    data-lpignore='true'\n                                                    autoComplete='off' // prevent chrome autocomplete\n                                                    type='text'\n                                                    name='address_city'\n                                                    id='address_city'\n                                                    label={localize('Town/City*')}\n                                                    value={values.address_city}\n                                                    error={errors.address_city}\n                                                    onChange={handleChange}\n                                                    onBlur={handleBlur}\n                                                    required\n                                                    disabled={isFieldDisabled('address_city')}\n                                                    data-testid='dt_address_city'\n                                                />\n                                            </fieldset>\n                                            <fieldset className='account-form__fieldset'>\n                                                {states_list.length ? (\n                                                    <FormSelectField\n                                                        label={localize('State/Province (optional)')}\n                                                        name='address_state'\n                                                        list_items={states_list}\n                                                        disabled={isFieldDisabled('address_state')}\n                                                    />\n                                                ) : (\n                                                    <Input\n                                                        data-lpignore='true'\n                                                        autoComplete='off' // prevent chrome autocomplete\n                                                        type='text'\n                                                        name='address_state'\n                                                        id='address_state'\n                                                        label={localize('State/Province (optional)')}\n                                                        value={values.address_state}\n                                                        error={errors.address_state}\n                                                        onChange={handleChange}\n                                                        onBlur={handleBlur}\n                                                        disabled={isFieldDisabled('address_state')}\n                                                    />\n                                                )}\n                                            </fieldset>\n                                            <fieldset className='account-form__fieldset'>\n                                                <Input\n                                                    data-lpignore='true'\n                                                    autoComplete='off' // prevent chrome autocomplete\n                                                    type='text'\n                                                    name='address_postcode'\n                                                    id='address_postcode'\n                                                    label={localize('Postal/ZIP code')}\n                                                    value={values.address_postcode}\n                                                    error={errors.address_postcode}\n                                                    onChange={handleChange}\n                                                    onBlur={handleBlur}\n                                                    disabled={isFieldDisabled('address_postcode')}\n                                                />\n                                            </fieldset>\n                                        </div>\n                                    </div>\n                                )}\n                                {!!current_landing_company?.support_professional_client && (\n                                    <Fragment>\n                                        <div className='account-form__divider' />\n                                        <div className='pro-client'>\n                                            <FormSubHeader title={localize('Professional Client')} />\n                                            <fieldset className='account-form__fieldset'>\n                                                <div>\n                                                    <Text as='p' size='xs'>\n                                                        <Localize\n                                                            i18n_default_text='By default, all {{brand_website_name}} clients are retail clients but anyone can request to be treated as a professional client.'\n                                                            values={{\n                                                                brand_website_name: getBrandWebsiteName(),\n                                                            }}\n                                                        />\n                                                    </Text>\n                                                    <Text as='p' size='xs'>\n                                                        <Localize i18n_default_text='A professional client receives a lower degree of client protection due to the following.' />\n                                                    </Text>\n                                                    <Text as='p' size='xs'>\n                                                        <Localize i18n_default_text='We presume that you possess the experience, knowledge, and expertise to make your own investment decisions and properly assess the risk involved.' />\n                                                    </Text>\n                                                    <Text as='p' size='xs' className='last-child'>\n                                                        <Localize i18n_default_text='We’re not obliged to conduct an appropriateness test, nor provide you with any risk warnings.' />\n                                                    </Text>\n                                                </div>\n                                                {is_account_verified ? (\n                                                    <Checkbox\n                                                        name='request_professional_status'\n                                                        value={!!values.request_professional_status}\n                                                        onChange={() => {\n                                                            setFieldValue(\n                                                                'request_professional_status',\n                                                                values.request_professional_status ? 0 : 1\n                                                            );\n                                                            setFieldTouched('request_professional_status', true, true);\n                                                        }}\n                                                        label={localize(\n                                                            'I would like to be treated as a professional client.'\n                                                        )}\n                                                        id='request_professional_status'\n                                                        disabled={\n                                                            is_virtual || !!account_settings.request_professional_status\n                                                        }\n                                                        greyDisabled\n                                                    />\n                                                ) : (\n                                                    <HintBox\n                                                        icon='IcInfoBlue'\n                                                        icon_height={20}\n                                                        icon_width={30}\n                                                        message={\n                                                            <Text as='p' size='xs'>\n                                                                <Localize\n                                                                    i18n_default_text='You’ll need to authenticate your account before requesting to become a professional client. <0>Authenticate my account</0>'\n                                                                    components={[\n                                                                        <a\n                                                                            key={0}\n                                                                            className='link--no-bold'\n                                                                            rel='noopener noreferrer'\n                                                                            target='_blank'\n                                                                            href={getRedirectionLink()}\n                                                                        />,\n                                                                    ]}\n                                                                />\n                                                            </Text>\n                                                        }\n                                                        is_info\n                                                        is_inline\n                                                    />\n                                                )}\n                                            </fieldset>\n                                        </div>\n                                        <div className='account-form__divider' />\n                                    </Fragment>\n                                )}\n                                <FormSubHeader title={localize('Email preference')} />\n                                <Fragment>\n                                    <fieldset\n                                        className={clsx(\n                                            'account-form__fieldset',\n                                            'account-form__fieldset--email-consent'\n                                        )}\n                                    >\n                                        <Checkbox\n                                            name='email_consent'\n                                            value={!!values.email_consent}\n                                            onChange={() => {\n                                                setFieldValue('email_consent', values.email_consent ? 0 : 1);\n                                                setFieldTouched('email_consent', true, true);\n                                            }}\n                                            label={localize('Get updates about Deriv products, services and events.')}\n                                            id='email_consent'\n                                            defaultChecked={!!values.email_consent}\n                                            disabled={isFieldDisabled('email_consent') && !is_virtual}\n                                            label_line_height={'m'}\n                                        />\n                                    </fieldset>\n                                </Fragment>\n                            </FormBody>\n                            <FormFooter>\n                                {status?.msg && displayErrorMessage(status)}\n                                {!is_virtual && !(isSubmitting || is_submit_success || status?.msg) && (\n                                    <Text\n                                        className='account-form__footer-note'\n                                        size='xxs'\n                                        color='prominent'\n                                        align={isDesktop ? 'right' : 'center'}\n                                    >\n                                        <Localize i18n_default_text='Ensure your information is correct.' />\n                                    </Text>\n                                )}\n                                <Button\n                                    className={clsx('account-form__footer-btn', {\n                                        'dc-btn--green': is_submit_success,\n                                    })}\n                                    type='submit'\n                                    is_disabled={\n                                        isSubmitting || !dirty || !isValid || is_btn_loading || is_submit_success\n                                    }\n                                    has_effect\n                                    is_loading={is_btn_loading}\n                                    is_submit_success={is_submit_success}\n                                    text={localize('Save changes')}\n                                    large\n                                    primary\n                                />\n                            </FormFooter>\n                        </Form>\n                    )}\n                </Fragment>\n            )}\n        </Formik>\n    );\n});\n\nexport default PersonalDetailsForm;\n","import { useCallback } from 'react';\n\ntype ScrollElementToTop = (rootEl: HTMLElement, targetEl: HTMLElement, offset: number) => void;\n\nexport const useScrollElementToTop = (): ScrollElementToTop => {\n    const scrollElementToTop: ScrollElementToTop = useCallback((rootEl, targetEl, offset = 0) => {\n        if (rootEl && targetEl) {\n            rootEl.scrollTo({\n                top: targetEl.offsetTop - offset,\n                behavior: 'smooth',\n            });\n        }\n    }, []);\n\n    return scrollElementToTop;\n};\n","import { localize } from '@deriv/translations';\n\nexport const account_opening_reason_list = () => [\n    { text: localize('Speculative'), value: 'Speculative' },\n    { text: localize('Income Earning'), value: 'Income Earning' },\n    { text: localize('Hedging'), value: 'Hedging' },\n];\n\nexport const account_opening_reason_new_list = () => [\n    { text: localize('Additional revenue'), value: 'Additional revenue' },\n    { text: localize('Savings'), value: 'Savings' },\n];\n","export const identity_status_codes = {\n    none: 'none',\n    pending: 'pending',\n    rejected: 'rejected',\n    verified: 'verified',\n    expired: 'expired',\n    suspected: 'suspected',\n} as const;\n\nexport const submission_status_code = {\n    selecting: 'selecting',\n    submitting: 'submitting',\n    complete: 'complete',\n} as const;\n\nexport const service_code = {\n    idv: 'idv',\n    onfido: 'onfido',\n    manual: 'manual',\n} as const;\n","import React from 'react';\nimport { Button, Icon } from '@deriv/components';\nimport { localize } from '@deriv/translations';\nimport IconMessageContent from '../../../icon-message-content';\n\ntype TExpired = {\n    handleRequireSubmission: () => void;\n    is_from_external?: boolean;\n    redirect_button?: React.ReactElement;\n};\n\nconst Expired = ({ handleRequireSubmission, is_from_external, redirect_button }: TExpired) => {\n    return (\n        <IconMessageContent\n            message={localize('New proof of identity document needed')}\n            icon={<Icon icon='IcPoiUpload' size={128} />}\n        >\n            <Button\n                type='button'\n                className='account-management__continue'\n                onClick={handleRequireSubmission}\n                large\n                text={localize('Upload Document')}\n                primary\n            />\n            {!is_from_external && redirect_button}\n        </IconMessageContent>\n    );\n};\n\nexport default Expired;\n","import Expired from './expired';\n\nexport default Expired;\n","import React from 'react';\nimport { Button, Text } from '@deriv/components';\nimport { localize } from '@deriv/translations';\nimport { DerivLightExclamationPoiIcon } from '@deriv/quill-icons';\nimport { POIContext } from '@deriv/shared';\nimport { submission_status_code } from '../../../../Sections/Verification/ProofOfIdentity/proof-of-identity-utils';\n\ntype TIdvLimited = {\n    handleRequireSubmission: () => void;\n};\n\nconst IdvLimited = ({ handleRequireSubmission }: TIdvLimited) => {\n    const { setSubmissionStatus } = React.useContext(POIContext);\n\n    return (\n        <div className='proof-of-identity__container'>\n            <DerivLightExclamationPoiIcon className='icon' />\n            <Text className='proof-of-identity__text btm-spacer' align='center' weight='bold'>\n                {localize('ID verification failed')}\n            </Text>\n            <Text className='proof-of-identity__text btm-spacer' align='center' size='xs'>\n                {localize('We were unable to verify your ID with the details you provided. ')}\n                {localize('Please upload your identity document.')}\n            </Text>\n            <Button\n                type='button'\n                className='account-management__continue'\n                onClick={() => {\n                    handleRequireSubmission();\n                    setSubmissionStatus(submission_status_code.selecting);\n                }}\n                large\n                text={localize('Upload identity document')}\n                primary\n            />\n        </div>\n    );\n};\n\nexport default IdvLimited;\n","import IdvLimited from './idv-limited';\n\nexport default IdvLimited;\n","import React from 'react';\nimport { ButtonLink, Text } from '@deriv/components';\nimport { routes } from '@deriv/shared';\nimport { Localize } from '@deriv/translations';\nimport clsx from 'clsx';\n\ntype TPoaButton = {\n    custom_text?: React.ReactNode;\n    class_name?: string;\n};\n\nconst DEFAULT_BTN_TEXT = <Localize i18n_default_text='Submit proof of address' />;\n\nconst PoaButton = ({ custom_text = DEFAULT_BTN_TEXT, class_name }: TPoaButton) => (\n    <ButtonLink className={clsx('account-management__button', class_name)} to={routes.proof_of_address}>\n        <Text className='dc-btn__text' as='p' weight='bold' data-testid='poa_button_text'>\n            {custom_text}\n        </Text>\n    </ButtonLink>\n);\n\nexport default PoaButton;\n","import PoaButton from './poa-button';\n\nexport default PoaButton;\n","import React from 'react';\nimport clsx from 'clsx';\nimport { Text } from '@deriv/components';\nimport { TIDVErrorStatus, IDV_ERROR_STATUS } from '@deriv/shared';\nimport { observer, useStore } from '@deriv/stores';\nimport { Localize } from '@deriv/translations';\nimport { DerivLightWaitingPoiIcon } from '@deriv/quill-icons';\nimport PoaButton from '../../../poa/poa-button';\n\ntype TIdvSubmitComplete = {\n    is_from_external: boolean;\n    mismatch_status: TIDVErrorStatus;\n    needs_poa: boolean;\n    redirect_button: React.ReactNode;\n};\n\nconst IdvSubmitComplete = observer(\n    ({ is_from_external, mismatch_status, needs_poa, redirect_button }: Partial<TIdvSubmitComplete>) => {\n        const { client } = useStore();\n        const { is_already_attempted } = client;\n\n        const is_mismatch_error =\n            mismatch_status === IDV_ERROR_STATUS.NameDobMismatch.code ||\n            mismatch_status === IDV_ERROR_STATUS.DobMismatch.code ||\n            mismatch_status === IDV_ERROR_STATUS.NameMismatch.code;\n\n        const is_expired_or_failed_error =\n            mismatch_status === IDV_ERROR_STATUS.Expired.code || mismatch_status === IDV_ERROR_STATUS.Failed.code;\n\n        const getHeaderText = () => {\n            if (is_already_attempted) {\n                if (is_mismatch_error) return <Localize i18n_default_text='Your profile is updated' />;\n                if (is_expired_or_failed_error)\n                    return <Localize i18n_default_text='Your document has been submitted' />;\n            }\n            return <Localize i18n_default_text='Review in progress' />;\n        };\n\n        const getDescriptionText = () => {\n            if (is_already_attempted && (is_mismatch_error || is_expired_or_failed_error))\n                return (\n                    <Localize i18n_default_text=\"We'll review your proof of identity again and will give you an update as soon as possible.\" />\n                );\n            return (\n                <Localize i18n_default_text='Your proof of identity is under review. We’ll get back to you within 5 minutes.' />\n            );\n        };\n\n        const poa_button = !is_from_external && <PoaButton custom_text={<Localize i18n_default_text='Next' />} />;\n\n        return (\n            <div className={clsx('proof-of-identity__container', 'proof-of-identity__container--status')}>\n                <DerivLightWaitingPoiIcon className='icon' />\n                <Text className='proof-of-identity__text btm-spacer' align='center' weight='bold'>\n                    {getHeaderText()}\n                </Text>\n                <Text className='proof-of-identity__text text' size='xs' align='center'>\n                    {getDescriptionText()}\n                </Text>\n                {needs_poa ? (\n                    <React.Fragment>\n                        <Text className='text' size='xs' align='center'>\n                            <Localize i18n_default_text='To start trading, you also need to verify your address.' />\n                        </Text>\n                        {poa_button}\n                    </React.Fragment>\n                ) : (\n                    <div className='proof-of-identity__redirection'>{redirect_button}</div>\n                )}\n            </div>\n        );\n    }\n);\n\nexport default React.memo(IdvSubmitComplete);\n","import IdvSubmitComplete from './idv-submit-complete';\n\nexport default IdvSubmitComplete;\n","import React from 'react';\nimport clsx from 'clsx';\nimport { ButtonLink, Text } from '@deriv/components';\nimport { Localize } from '@deriv/translations';\nimport { routes } from '@deriv/shared/src/utils/routes/routes';\n\ntype TContinueTradingButtonProps = { className?: string };\n\n/**\n * Renders a button that redirects to the trading platform\n * @name ContinueTradingButton\n * @param className - Styles to be applied to the button\n * @returns React Element\n */\nexport const ContinueTradingButton = ({ className }: TContinueTradingButtonProps) => (\n    <ButtonLink className={clsx('account-management__button', className)} to={routes.trade}>\n        <Text className='dc-btn__text' as='p' weight='bold' data-testid='continue_btn_text'>\n            <Localize i18n_default_text='Continue trading' />\n        </Text>\n    </ButtonLink>\n);\n","import IdvVerified from './idv-verified';\n\nexport default IdvVerified;\n","import React from 'react';\nimport clsx from 'clsx';\nimport { Text } from '@deriv/components';\nimport { useDevice } from '@deriv-com/ui';\nimport { Localize } from '@deriv/translations';\nimport { ContinueTradingButton } from '../../../poa/continue-trading-button/continue-trading-button';\nimport { DerivLightApprovedPoiIcon } from '@deriv/quill-icons';\nimport PoaButton from '../../../poa/poa-button/poa-button';\n\ntype TIdvVerified = {\n    needs_poa: boolean;\n    is_from_external: boolean;\n    redirect_button: React.ReactNode;\n};\n\nconst IdvVerified = ({ needs_poa, is_from_external, redirect_button }: Partial<TIdvVerified>) => {\n    const header_Text = needs_poa ? (\n        <Localize i18n_default_text='Your ID is verified. You will also need to submit proof of your address.' />\n    ) : (\n        <Localize i18n_default_text='ID verification passed' />\n    );\n    const { isDesktop } = useDevice();\n    return (\n        <div\n            className={clsx('proof-of-identity__container', 'proof-of-identity__container--status')}\n            data-testid='poi_idv_verified_container'\n        >\n            <DerivLightApprovedPoiIcon className='icon' />\n            <Text className='proof-of-identity__text btm-spacer' align='center' weight='bold'>\n                {header_Text}\n            </Text>\n            {needs_poa ? (\n                <React.Fragment>\n                    {isDesktop && (\n                        <Text className='text' size='xs' align='center'>\n                            <Localize i18n_default_text=\"Next, we'll need your proof of address.\" />\n                        </Text>\n                    )}\n                    {!is_from_external && (\n                        <PoaButton custom_text={<Localize i18n_default_text='Submit proof of address' />} />\n                    )}\n                </React.Fragment>\n            ) : (\n                redirect_button || <ContinueTradingButton className='continue-trade' />\n            )}\n        </div>\n    );\n};\n\nexport default IdvVerified;\n","import React from 'react';\nimport { formatIDVError } from '@deriv/shared';\nimport IdvLimited from '../../../Components/poi/idv-status/idv-limited';\nimport IdvSubmitComplete from '../../../Components/poi/idv-status/idv-submit-complete';\nimport IdvVerified from '../../../Components/poi/idv-status/idv-verified';\nimport { identity_status_codes } from './proof-of-identity-utils';\n\nconst Idv = ({ handleRequireSubmission, idv, is_from_external, needs_poa, redirect_button }) => {\n    const { status, submissions_left, last_rejected } = idv;\n    switch (status) {\n        case identity_status_codes.pending:\n            return (\n                <IdvSubmitComplete\n                    is_from_external={is_from_external}\n                    mismatch_status={formatIDVError(last_rejected, status)}\n                    needs_poa={needs_poa}\n                    redirect_button={redirect_button}\n                />\n            );\n        case identity_status_codes.rejected:\n        case identity_status_codes.suspected:\n        case identity_status_codes.expired:\n            if (Number(submissions_left) < 1) return <IdvLimited handleRequireSubmission={handleRequireSubmission} />;\n            return null;\n        case identity_status_codes.verified:\n            return (\n                <IdvVerified\n                    is_from_external={is_from_external}\n                    needs_poa={needs_poa}\n                    redirect_button={redirect_button}\n                />\n            );\n        default:\n            return null;\n    }\n};\n\nexport default Idv;\n","import { POILimited } from './limited';\n\nexport default POILimited;\n","import React from 'react';\nimport { Icon } from '@deriv/components';\nimport { localize, Localize } from '@deriv/translations';\nimport IconMessageContent from '../../../icon-message-content';\nimport { Chat } from '@deriv/utils';\n\nexport const POILimited = () => (\n    <IconMessageContent\n        message={localize(\"You've reached the limit for uploading your documents.\")}\n        text={\n            <Localize\n                i18n_default_text='Please contact us via <0>live chat</0>.'\n                components={[<span key={0} className='link link--orange' onClick={Chat.open} />]}\n            />\n        }\n        icon={<Icon icon='IcPoiFailed' size={128} />}\n    />\n);\n","import { OnfidoNotRequired } from './not-required';\n\nexport default OnfidoNotRequired;\n","import React from 'react';\nimport { Icon } from '@deriv/components';\nimport { localize } from '@deriv/translations';\nimport IconMessageContent from '../../../icon-message-content';\n\nexport const OnfidoNotRequired = () => (\n    <IconMessageContent\n        message={localize('Proof of identity verification not required')}\n        text={localize(\n            'Your account does not need identity verification at this time. We will inform you if identity verification is required in the future.'\n        )}\n        icon={<Icon icon='IcPoiVerified' size={128} />}\n    />\n);\n","import { RouteButton } from './route-button';\n\nexport default RouteButton;\n","import clsx from 'clsx';\nimport { ButtonLink, Text } from '@deriv/components';\n\ntype TRouteButtonProps = { route: string; button_label: string; className?: string };\n\n/**\n * Renders a button that redirects to the trading platform\n * @name RouteButton\n * @param route - Route to redirect to\n * @param button_label - Text to be displayed on the button\n * @param className - Styles to be applied to the button\n * @returns React Element\n */\nexport const RouteButton = ({ button_label, className, route }: TRouteButtonProps) => (\n    <ButtonLink className={clsx('account-management__button', className)} to={route}>\n        <Text className='dc-btn__text' as='p' weight='bold' data-testid='route_btn_text'>\n            {button_label}\n        </Text>\n    </ButtonLink>\n);\n","import React from 'react';\nimport { Icon, Text } from '@deriv/components';\nimport { routes } from '@deriv/shared';\nimport { useTranslations } from '@deriv-com/translations';\nimport RouteButton from '../../../route-button';\nimport PoaButton from '../../../poa/poa-button';\nimport IconMessageContent from '../../../icon-message-content/icon-message-content';\nimport { TPOIStatus } from 'Types';\n\nexport const UploadComplete = ({\n    needs_poa,\n    redirect_button,\n    is_from_external,\n    is_manual_upload = false,\n}: TPOIStatus) => {\n    const { localize } = useTranslations();\n    const message = localize('Review in progress');\n    const description = is_manual_upload\n        ? localize('Your proof of identity is under review. We’ll get back to you within 1–3 working days.')\n        : localize('Your proof of identity is under review. We’ll get back to you within 5 minutes.');\n\n    if (!needs_poa) {\n        return (\n            <IconMessageContent message={message} text={description} icon={<Icon icon='IcPoiVerified' size={128} />}>\n                {!is_from_external && (\n                    <RouteButton button_label={localize(\"Return to Trader's Hub\")} route={routes.traders_hub} />\n                )}\n            </IconMessageContent>\n        );\n    }\n    return (\n        <IconMessageContent message={message} icon={<Icon icon='IcPoiVerified' size={128} />}>\n            <React.Fragment>\n                <div className='account-management__text-container'>\n                    <Text align='center' size='xs' as='p'>\n                        {description}\n                    </Text>\n                    <Text align='center' size='xs' as='p'>\n                        {localize('To start trading, you also need to verify your address.')}\n                    </Text>\n                </div>\n                <PoaButton custom_text={localize('Next')} />\n            </React.Fragment>\n            {!is_from_external && redirect_button}\n        </IconMessageContent>\n    );\n};\n\nexport default UploadComplete;\n","import { UploadComplete } from './upload-complete';\n\nexport default UploadComplete;\n","import { ContinueTradingButton } from './continue-trading-button';\n\nexport default ContinueTradingButton;\n","import React from 'react';\nimport { Icon } from '@deriv/components';\nimport { localize } from '@deriv/translations';\nimport { TPOIStatus } from 'Types';\nimport IconMessageContent from '../../../icon-message-content';\nimport PoaButton from '../../../poa/poa-button';\nimport { service_code } from '../../../../Sections/Verification/ProofOfIdentity/proof-of-identity-utils';\nimport ContinueTradingButton from '../../../poa/continue-trading-button';\n\nexport const Verified = ({ needs_poa, redirect_button, is_from_external, service }: TPOIStatus) => {\n    const message =\n        service === service_code.idv\n            ? localize('ID verification passed')\n            : localize('Your proof of identity is verified');\n\n    if (!needs_poa) {\n        return (\n            <IconMessageContent\n                message={message}\n                icon={<Icon icon='IcPoaVerified' size={128} data_testid='dt_IcPoaVerified' />}\n                className='account-management-dashboard'\n            >\n                {!is_from_external && (redirect_button || <ContinueTradingButton />)}\n            </IconMessageContent>\n        );\n    }\n    return (\n        <IconMessageContent\n            message={message}\n            icon={<Icon icon='IcPoaVerified' size={128} />}\n            className='account-management-dashboard'\n            text={localize('To continue trading, you must also submit a proof of address.')}\n        >\n            {!is_from_external && (\n                <React.Fragment>\n                    <PoaButton />\n                </React.Fragment>\n            )}\n        </IconMessageContent>\n    );\n};\n\nexport default Verified;\n","import { Verified } from './verified';\n\nexport default Verified;\n","import React from 'react';\nimport { Text } from '@deriv/components';\nimport { Localize } from '@deriv/translations';\nimport { useDevice } from '@deriv-com/ui';\n\ntype TListItem = {\n    text: React.ReactNode;\n    index?: number;\n};\n\nconst ListItem = ({ text, index }: TListItem) => {\n    const { isDesktop } = useDevice();\n\n    const text_size = isDesktop ? 'xs' : 'xxs';\n    return (\n        <div className='account-management__list-text-container'>\n            {index && (\n                <Text size={text_size} className='account-management__list-text'>\n                    <Localize i18n_default_text='{{index}}.' values={{ index }} />{' '}\n                </Text>\n            )}\n            <Text size={text_size} className='account-management__list-text'>\n                {text}\n            </Text>\n        </div>\n    );\n};\n\nexport default ListItem;\n","import IconMessageList from './icon-message-list';\n\nexport default IconMessageList;\n","import React from 'react';\nimport clsx from 'clsx';\nimport { Div100vhContainer, Text, Button, ThemedScrollbars, Icon } from '@deriv/components';\nimport { getOnfidoError } from '@deriv/shared';\nimport { Localize } from '@deriv/translations';\nimport ListItem from './list-item';\nimport { useDevice } from '@deriv-com/ui';\n\ntype TIconMessageList = {\n    className?: string;\n    icon: React.ReactElement;\n    message: string;\n    message_list: Array<string>;\n    onContinue: () => void;\n};\n\nconst IconMessageList = ({ className, icon, message, message_list = [], onContinue }: TIconMessageList) => {\n    const { isDesktop, isMobile } = useDevice();\n\n    return (\n        <ThemedScrollbars is_bypassed={isMobile}>\n            <Div100vhContainer\n                className='account-management__message-wrapper'\n                is_disabled={isDesktop}\n                height_offset='110px'\n            >\n                <div\n                    className={clsx('account-management__message-content', {\n                        [`${className}__message-content`]: className,\n                    })}\n                    data-testid='dt_icon_message_list'\n                >\n                    {icon && (\n                        <div\n                            className={clsx('account-management__message-icon', {\n                                [`${className}__message-icon`]: className,\n                            })}\n                        >\n                            {icon}\n                        </div>\n                    )}\n                    <Text\n                        as='div'\n                        weight='bold'\n                        className={clsx('account-management__message', {\n                            [`${className}__message`]: className,\n                        })}\n                        size={isDesktop ? 's' : 'xs'}\n                    >\n                        {message}\n                    </Text>\n\n                    {message_list && (\n                        <div className='account-management__list-container'>\n                            <div className='account-management__list-message'>\n                                <div className='account-management__list-icon'>\n                                    <Icon icon='IcAlertDanger' color='red' />\n                                </div>\n                                <section>\n                                    {message_list.length < 2 ? (\n                                        <ListItem text={getOnfidoError(message_list[0])} />\n                                    ) : (\n                                        message_list.map((text, idx) => (\n                                            <ListItem\n                                                key={text}\n                                                text={getOnfidoError(message_list[idx])}\n                                                index={idx + 1}\n                                            />\n                                        ))\n                                    )}\n                                </section>\n                            </div>\n                        </div>\n                    )}\n                    {onContinue && (\n                        <Button\n                            type='button'\n                            className='account-management__continue'\n                            onClick={onContinue}\n                            large\n                            primary\n                        >\n                            <Localize i18n_default_text='Verify again' />\n                        </Button>\n                    )}\n                </div>\n            </Div100vhContainer>\n        </ThemedScrollbars>\n    );\n};\n\nexport default IconMessageList;\n","import { RejectedReasons } from './rejected-reasons';\n\nexport default RejectedReasons;\n","import React from 'react';\nimport { Icon } from '@deriv/components';\nimport { localize } from '@deriv/translations';\nimport IconMessageList from '../../../icon-message-list';\n\ntype TIconMessageList = {\n    handleRequireSubmission: () => void;\n    rejected_reasons: string[];\n};\n\nexport const RejectedReasons = ({ handleRequireSubmission, rejected_reasons }: TIconMessageList) => (\n    <IconMessageList\n        message={localize('Your proof of identity submission failed because:')}\n        icon={<Icon icon='IcPoiFailed' size={128} />}\n        message_list={rejected_reasons}\n        onContinue={handleRequireSubmission}\n    />\n);\n","import POIManualUploadFailed from './poi-manual-upload-failed';\n\nexport default POIManualUploadFailed;\n","import React, { ReactNode } from 'react';\nimport { Icon } from '@deriv/components';\nimport { Localize } from '@deriv/translations';\nimport IconMessageContent from '../icon-message-content';\n\ntype TPOIManualUploadFailed = {\n    error: string;\n    message?: ReactNode;\n};\nconst POIManualUploadFailed = ({ children, message, error }: React.PropsWithChildren<TPOIManualUploadFailed>) => (\n    <IconMessageContent\n        message={message ?? <Localize i18n_default_text={'Proof of identity documents upload failed'} />}\n        text={error}\n        icon={<Icon icon='IcPoiFailed' size={128} />}\n        className='account-management-dashboard'\n    >\n        {children}\n    </IconMessageContent>\n);\n\nexport default POIManualUploadFailed;\n","/**\n * Object containing error code strings returned by the API.\n */\nexport const API_ERROR_CODES = Object.freeze({\n    DUPLICATE_ACCOUNT: 'DuplicateAccount',\n    CLAIMED_DOCUMENT: 'ClaimedDocument',\n    DUPLICATE_DOCUMENT: 'DuplicateUpload',\n});\n","import DocumentUploader from '@binary-com/binary-document-uploader';\nimport { localize } from '@deriv/translations';\nimport { compressImageFiles, readFiles, TSettings } from '@deriv/shared';\nimport { TFile } from 'Types';\n\ntype TProcessedFile = TFile & TSettings & { message: string };\n\nconst fileReadErrorMessage = (filename: string) => {\n    return localize('Unable to read file {{name}}', { name: filename });\n};\n\nconst uploadFile = (file: File, getSocket: () => WebSocket, settings: TSettings) => {\n    return new Promise((resolve, reject) => {\n        if (!file) {\n            reject();\n        }\n\n        // File uploader instance connected to binary_socket\n        const uploader = new DocumentUploader({ connection: getSocket() });\n\n        let is_file_error = false;\n\n        compressImageFiles([file])\n            .then((files_to_process: Blob[]) => {\n                readFiles(files_to_process, fileReadErrorMessage, settings)\n                    .then(processed_files => {\n                        processed_files.forEach(item => {\n                            if (item.message) {\n                                is_file_error = true;\n                                reject(item);\n                            }\n                        });\n                        const total_to_upload = processed_files.length;\n                        if (is_file_error || !total_to_upload) {\n                            return; // don't start submitting files until all front-end validation checks pass\n                        }\n\n                        // send files\n                        uploader.upload(processed_files[0]).then(resolve).catch(reject);\n                    })\n                    /* eslint-disable no-console */\n                    .catch(error => console.error('error: ', error));\n            })\n            /* eslint-disable no-console */\n            .catch(error => console.error('error: ', error));\n    });\n};\n\nexport default uploadFile;\n","import React from 'react';\nimport { ButtonLink, Icon, Text } from '@deriv/components';\nimport { localize } from '@deriv/translations';\nimport IconMessageContent from '../../icon-message-content';\n\ntype TGoToPersonalDetailsButton = {\n    has_invalid_postal_code?: boolean;\n    anchor?: string;\n    from?: string;\n    text?: string;\n};\n\nconst GoToPersonalDetailsButton = ({ anchor, from, text }: TGoToPersonalDetailsButton) => {\n    const from_string = from ? `?from=${from}` : '';\n    const anchor_string = anchor ? `#${anchor}` : '';\n    return (\n        <ButtonLink to={`/account/personal-details${from_string}${anchor_string}`}>\n            <Text className='dc-btn__text' weight='bold' as='p'>\n                {text ?? localize('Go to personal details')}\n            </Text>\n        </ButtonLink>\n    );\n};\n\nexport const MissingPersonalDetails = ({ has_invalid_postal_code, from }: TGoToPersonalDetailsButton) => {\n    if (has_invalid_postal_code)\n        return (\n            <IconMessageContent\n                message={localize('Your postal code is invalid')}\n                text={localize('Please check and update your postal code before submitting proof of identity.')}\n                icon={<Icon icon='IcAccountMissingDetails' size={128} />}\n            >\n                <GoToPersonalDetailsButton\n                    anchor='address_postcode'\n                    from={from}\n                    text={localize('Update postal code')}\n                />\n            </IconMessageContent>\n        );\n    return (\n        <IconMessageContent\n            message={localize('Your personal details are missing')}\n            text={localize('Please complete your personal details before you verify your identity.')}\n            icon={<Icon icon='IcAccountMissingDetails' size={128} />}\n        >\n            <GoToPersonalDetailsButton from={from} />\n        </IconMessageContent>\n    );\n};\n","import { MissingPersonalDetails } from './missing-personal-details';\n\nexport default MissingPersonalDetails;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport clsx from 'clsx';\nimport { Field, useFormikContext } from 'formik';\n\nimport { Autocomplete, Checkbox, InlineMessage, RadioGroup, SelectNative, Text } from '@deriv/components';\nimport { useGetPhoneNumberList, useGrowthbookGetFeatureValue, useResidenceList } from '@deriv/hooks';\nimport { routes, validPhone } from '@deriv/shared';\nimport { Localize, localize } from '@deriv/translations';\nimport { useDevice } from '@deriv-com/ui';\n\nimport { isFieldImmutable, verifyFields } from '../../Helpers/utils';\nimport FormBodySection from '../form-body-section';\nimport FormSubHeader from '../form-sub-header';\nimport InlineNoteWithIcon from '../inline-note-with-icon';\n\nimport AccountOpeningReasonField from './form-fields/account-opening-reason';\nimport { DateOfBirthField, FormInputField } from './form-fields';\n\nconst PersonalDetailsForm = props => {\n    const { isDesktop } = useDevice();\n    const {\n        inline_note_text,\n        is_virtual,\n        is_eu_user,\n        is_svg,\n        is_rendered_for_idv,\n        editable_fields = [],\n        has_real_account,\n        is_fully_authenticated,\n        account_opening_reason_list,\n        closeRealAccountSignup,\n        salutation_list,\n        is_rendered_for_onfido,\n        is_qualified_for_poa,\n        class_name,\n        states_list,\n        side_note,\n        no_confirmation_needed,\n        mismatch_status,\n    } = props;\n    const autocomplete_value = 'none';\n    // need to put this check related to DIEL clients\n    const is_svg_only = is_svg && !is_eu_user;\n\n    const [isCountryCodeDropdownEnabled, isCountryCodeLoaded] = useGrowthbookGetFeatureValue({\n        featureFlag: 'enable_country_code_dropdown',\n    });\n\n    const { errors, touched, values, setFieldValue, handleChange, handleBlur } = useFormikContext();\n\n    const { data: residence_list } = useResidenceList();\n\n    const { legacy_core_countries_list } = useGetPhoneNumberList();\n\n    const getNameAndDobLabels = () => {\n        const is_asterisk_needed = is_svg || is_eu_user || is_rendered_for_onfido || is_rendered_for_idv;\n        const first_name_label = is_asterisk_needed ? localize('First name*') : localize('First name');\n        const last_name_label = is_asterisk_needed ? localize('Last name*') : localize('Last name');\n        const dob_label = is_asterisk_needed ? localize('Date of birth*') : localize('Date of birth');\n\n        return {\n            first_name_label,\n            last_name_label,\n            dob_label,\n        };\n    };\n\n    const is_rendered_for_idv_or_onfido = is_rendered_for_idv || is_rendered_for_onfido;\n\n    const getFieldHint = field_name =>\n        is_svg_only || is_rendered_for_idv_or_onfido ? (\n            <Localize\n                i18n_default_text={'Your {{ field_name }} as in your identity document'}\n                values={{ field_name }}\n            />\n        ) : (\n            <Localize\n                i18n_default_text={'Please enter your {{ field_name }} as in your official identity documents.'}\n                values={{ field_name }}\n            />\n        );\n\n    const handleSalutationSelection = event => {\n        if (event.target?.type === 'radio') {\n            setFieldValue('salutation', event.target?.value);\n        }\n    };\n\n    const poa_clarification_message = (\n        <Localize i18n_default_text='Use the same address that appears on your proof of address (utility bill, bank statement, etc.).' />\n    );\n\n    // need to disable the checkbox if the user has not filled in the name and dob fields initially\n    const is_confirmation_checkbox_disabled = verifyFields(mismatch_status).some(\n        field => !values[field] || errors[field]\n    );\n\n    return (\n        <React.Fragment>\n            <div\n                className={clsx(class_name, {\n                    'account-form__poi-confirm-example': is_rendered_for_idv,\n                })}\n            >\n                {(is_svg_only || is_rendered_for_idv_or_onfido) && (\n                    <div className='account-form__poi-inline-message'>\n                        <InlineMessage message={inline_note_text} size='md' />\n                    </div>\n                )}\n                {is_qualified_for_poa && (\n                    <InlineNoteWithIcon\n                        icon='IcAlertWarning'\n                        message={poa_clarification_message}\n                        font_size={isDesktop ? 'xs' : 'xxxs'}\n                    />\n                )}\n                <FormBodySection\n                    has_side_note={is_rendered_for_idv_or_onfido || is_svg_only}\n                    side_note={side_note}\n                    side_note_position='right'\n                    type='image'\n                >\n                    <fieldset className='account-form__fieldset'>\n                        {'salutation' in values && !is_eu_user && (\n                            <div>\n                                <Text size={isDesktop ? 'xxs' : 'xs'} align={!isDesktop && 'center'}>\n                                    {is_virtual ? (\n                                        localize(\n                                            'Please remember that it is your responsibility to keep your answers accurate and up to date. You can update your personal details at any time in your account settings.'\n                                        )\n                                    ) : (\n                                        <Localize\n                                            i18n_default_text='Please remember that it is your responsibility to keep your answers accurate and up to date. You can update your personal details at any time in your <0>account settings</0>.'\n                                            components={[\n                                                <Link\n                                                    to={routes.personal_details}\n                                                    key={0}\n                                                    className='link'\n                                                    onClick={closeRealAccountSignup}\n                                                />,\n                                            ]}\n                                        />\n                                    )}\n                                </Text>\n                            </div>\n                        )}\n                        {is_eu_user && !is_rendered_for_onfido && !is_qualified_for_poa && (\n                            <FormSubHeader\n                                title={'salutation' in values ? localize('Title and name') : localize('Name')}\n                            />\n                        )}\n                        {'salutation' in values && (\n                            <span onClick={handleSalutationSelection}>\n                                <RadioGroup\n                                    className='dc-radio__input'\n                                    name='salutation'\n                                    selected={values.salutation}\n                                    onToggle={e => {\n                                        e.persist();\n                                        setFieldValue('salutation', e.target.value);\n                                    }}\n                                    required\n                                >\n                                    {salutation_list.map(item => (\n                                        <RadioGroup.Item\n                                            key={item.value}\n                                            label={item.label}\n                                            value={item.value}\n                                            disabled={\n                                                !!values.salutation && isFieldImmutable('salutation', editable_fields)\n                                            }\n                                            has_error={!!(touched.salutation && errors.salutation)}\n                                        />\n                                    ))}\n                                </RadioGroup>\n                            </span>\n                        )}\n                        {'first_name' in values && (\n                            <FormInputField\n                                name='first_name'\n                                required={is_svg}\n                                label={getNameAndDobLabels().first_name_label}\n                                hint={getFieldHint(localize('first name'))}\n                                disabled={\n                                    isFieldImmutable('first_name', editable_fields) ||\n                                    (values?.first_name && has_real_account)\n                                }\n                                placeholder={localize('John')}\n                                data-testid='first_name'\n                            />\n                        )}\n                        {'last_name' in values && (\n                            <FormInputField\n                                name='last_name'\n                                required={is_svg}\n                                label={getNameAndDobLabels().last_name_label}\n                                hint={getFieldHint(localize('last name'))}\n                                disabled={\n                                    isFieldImmutable('last_name', editable_fields) ||\n                                    (values?.last_name && has_real_account)\n                                }\n                                placeholder={localize('Doe')}\n                                data-testid='last_name'\n                            />\n                        )}\n                        {is_eu_user && !is_qualified_for_poa && <FormSubHeader title={localize('Other details')} />}\n                        {'date_of_birth' in values && (\n                            <DateOfBirthField\n                                name='date_of_birth'\n                                required={is_svg}\n                                label={getNameAndDobLabels().dob_label}\n                                hint={getFieldHint(localize('date of birth'))}\n                                disabled={\n                                    isFieldImmutable('date_of_birth', editable_fields) ||\n                                    (values?.date_of_birth && has_real_account)\n                                }\n                                placeholder={localize('01-07-1999')}\n                                portal_id='modal_root'\n                                data_testid='date_of_birth'\n                            />\n                        )}\n                        {'address_line_1' in values && (\n                            <FormInputField\n                                name='address_line_1'\n                                label={localize('First line of address*')}\n                                disabled={isFieldImmutable('address_line_1', editable_fields)}\n                                data-testid='address_line_1'\n                                autoComplete='off'\n                                data-lpignore='true'\n                                type='text'\n                                maxLength={70}\n                                required\n                                onBlur={handleBlur}\n                                error={touched.address_line_1 && errors.address_line_1}\n                                value={values.address_line_1}\n                            />\n                        )}\n                        {'address_line_2' in values && (\n                            <FormInputField\n                                name='address_line_2'\n                                label={localize('Second line of address (optional)')}\n                                disabled={isFieldImmutable('address_line_2', editable_fields)}\n                                data-testid='address_line_2'\n                                autoComplete='off'\n                                data-lpignore='true'\n                                type='text'\n                                maxLength={70}\n                                onBlur={handleBlur}\n                                error={touched.address_line_2 && errors.address_line_2}\n                                value={values.address_line_2}\n                            />\n                        )}\n                        {'address_city' in values && (\n                            <FormInputField\n                                name='address_city'\n                                label={localize('Town/City*')}\n                                disabled={isFieldImmutable('address_city', editable_fields)}\n                                data-testid='address_city'\n                                autoComplete='off'\n                                data-lpignore='true'\n                                type='text'\n                                maxLength={70}\n                                required\n                                onBlur={handleBlur}\n                                error={touched.address_city && errors.address_city}\n                                value={values.address_city}\n                            />\n                        )}\n                        {'address_state' in values &&\n                            (states_list?.length ? (\n                                <React.Fragment>\n                                    {isDesktop ? (\n                                        <Field name='address_state'>\n                                            {({ field }) => (\n                                                <Autocomplete\n                                                    {...field}\n                                                    data-lpignore='true'\n                                                    autoComplete='new-password' // prevent chrome autocomplete\n                                                    type='text'\n                                                    label={localize('State/Province')}\n                                                    error={touched.address_state && errors.address_state}\n                                                    list_items={states_list}\n                                                    onItemSelection={({ value, text }) =>\n                                                        setFieldValue('address_state', value ? text : '', true)\n                                                    }\n                                                />\n                                            )}\n                                        </Field>\n                                    ) : (\n                                        <SelectNative\n                                            placeholder={localize('Please select')}\n                                            label={localize('State/Province')}\n                                            value={values.address_state}\n                                            list_items={states_list}\n                                            error={touched.address_state && errors.address_state}\n                                            use_text\n                                            onChange={e => setFieldValue('address_state', e.target.value, true)}\n                                        />\n                                    )}\n                                </React.Fragment>\n                            ) : (\n                                <FormInputField\n                                    data-lpignore='true'\n                                    autoComplete='off'\n                                    type='text'\n                                    name='address_state'\n                                    label={localize('State/Province')}\n                                    value={values.address_state}\n                                    error={touched.address_state && errors.address_state}\n                                    onBlur={handleBlur}\n                                />\n                            ))}\n                        {'address_postcode' in values && (\n                            <FormInputField\n                                name='address_postcode'\n                                label={localize('Postal/ZIP code')}\n                                disabled={isFieldImmutable('address_postcode', editable_fields)}\n                                data-testid='address_postcode'\n                                autoComplete='off'\n                                data-lpignore='true'\n                                type='text'\n                                maxLength={70}\n                                onBlur={handleBlur}\n                                error={touched.address_postcode && errors.address_postcode}\n                                value={values.address_postcode}\n                            />\n                        )}\n                        {!is_svg_only && 'place_of_birth' in values && (\n                            <PlaceOfBirthField\n                                handleChange={handleChange}\n                                setFieldValue={setFieldValue}\n                                disabled={isFieldImmutable('place_of_birth', editable_fields)}\n                                residence_list={residence_list}\n                                required\n                            />\n                        )}\n                        {'citizen' in values && (\n                            <Field name='citizen'>\n                                {({ field }) => (\n                                    <React.Fragment>\n                                        {isDesktop ? (\n                                            <Autocomplete\n                                                {...field}\n                                                data-lpignore='true'\n                                                autoComplete={autocomplete_value} // prevent chrome autocomplete\n                                                type='text'\n                                                label={is_eu_user ? localize('Citizenship*') : localize('Citizenship')}\n                                                error={touched.citizen && errors.citizen}\n                                                disabled={\n                                                    (values?.citizen && is_fully_authenticated) ||\n                                                    isFieldImmutable('citizen', editable_fields) ||\n                                                    (values?.citizen && has_real_account)\n                                                }\n                                                list_items={residence_list}\n                                                onItemSelection={({ value, text }) =>\n                                                    setFieldValue('citizen', value ? text : '', true)\n                                                }\n                                                list_portal_id='modal_root'\n                                                required\n                                                data-testid='citizenship'\n                                            />\n                                        ) : (\n                                            <SelectNative\n                                                placeholder={localize('Citizenship')}\n                                                name={field.name}\n                                                disabled={\n                                                    (values?.citizen && is_fully_authenticated) ||\n                                                    isFieldImmutable('citizen', editable_fields) ||\n                                                    (values?.citizen && has_real_account)\n                                                }\n                                                label={is_eu_user ? localize('Citizenship*') : localize('Citizenship')}\n                                                list_items={residence_list}\n                                                value={values.citizen}\n                                                use_text\n                                                error={touched.citizen && errors.citizen}\n                                                onChange={e => {\n                                                    handleChange(e);\n                                                    setFieldValue('citizen', e.target.value, true);\n                                                }}\n                                                {...field}\n                                                required\n                                                should_hide_disabled_options={false}\n                                                data_testid='citizenship_mobile'\n                                            />\n                                        )}\n                                    </React.Fragment>\n                                )}\n                            </Field>\n                        )}\n                        {!is_svg_only && 'phone' in values && (\n                            <PhoneField\n                                is_country_code_dropdown_enabled={isCountryCodeLoaded && isCountryCodeDropdownEnabled}\n                                handleChange={handleChange}\n                                setFieldValue={setFieldValue}\n                                country_code_list={legacy_core_countries_list}\n                                value={values.phone}\n                                editable_fields={editable_fields}\n                                has_real_account={has_real_account}\n                                required\n                            />\n                        )}\n                        {!is_svg_only && 'account_opening_reason' in values && (\n                            <AccountOpeningReasonField\n                                required\n                                account_opening_reason_list={account_opening_reason_list}\n                                setFieldValue={setFieldValue}\n                                disabled={\n                                    isFieldImmutable('account_opening_reason', editable_fields) ||\n                                    (values?.account_opening_reason && has_real_account)\n                                }\n                            />\n                        )}\n                    </fieldset>\n                </FormBodySection>\n                {!no_confirmation_needed && is_rendered_for_idv && (\n                    <Checkbox\n                        name='confirmation_checkbox'\n                        className='formik__confirmation-checkbox'\n                        value={values.confirmation_checkbox}\n                        label={\n                            <Localize i18n_default_text='I confirm that the name and date of birth above match my chosen identity document' />\n                        }\n                        label_font_size={isDesktop ? 'xs' : 'xxs'}\n                        disabled={is_confirmation_checkbox_disabled}\n                        onChange={handleChange}\n                        has_error={!!(touched.confirmation_checkbox && errors.confirmation_checkbox)}\n                    />\n                )}\n            </div>\n\n            {is_svg_only && (\n                <div className='account-form__poi-additional-information'>\n                    <FormSubHeader title={localize('Additional information')} />\n                    {'phone' in values && (\n                        <PhoneField\n                            is_country_code_dropdown_enabled={isCountryCodeLoaded && isCountryCodeDropdownEnabled}\n                            handleChange={handleChange}\n                            setFieldValue={setFieldValue}\n                            country_code_list={legacy_core_countries_list}\n                            value={values.phone}\n                            editable_fields={editable_fields}\n                            has_real_account={has_real_account}\n                            required\n                        />\n                    )}\n                    <React.Fragment>\n                        {'place_of_birth' in values && (\n                            <PlaceOfBirthField\n                                handleChange={handleChange}\n                                setFieldValue={setFieldValue}\n                                disabled={isFieldImmutable('place_of_birth', editable_fields)}\n                                residence_list={residence_list}\n                                required\n                            />\n                        )}\n                        {'account_opening_reason' in values && (\n                            <AccountOpeningReasonField\n                                account_opening_reason_list={account_opening_reason_list}\n                                setFieldValue={setFieldValue}\n                                disabled={\n                                    isFieldImmutable('account_opening_reason', editable_fields) ||\n                                    (values?.account_opening_reason && has_real_account)\n                                }\n                                required\n                                is_modal\n                            />\n                        )}\n                    </React.Fragment>\n                </div>\n            )}\n        </React.Fragment>\n    );\n};\n\nexport default PersonalDetailsForm;\n\nconst PhoneField = ({\n    handleChange,\n    setFieldValue,\n    country_code_list,\n    value,\n    editable_fields,\n    has_real_account,\n    required,\n    is_country_code_dropdown_enabled,\n}) => (\n    <React.Fragment>\n        <div className='account-form__phone-container'>\n            {is_country_code_dropdown_enabled && (\n                <CountryCodeDropdown\n                    handleChange={handleChange}\n                    setFieldValue={setFieldValue}\n                    disabled={\n                        isFieldImmutable('phone', editable_fields) ||\n                        (value && has_real_account && validPhone(value) && value?.length >= 9 && value?.length <= 35)\n                    }\n                    country_code_list={country_code_list}\n                    required\n                />\n            )}\n            <FormInputField\n                className='account-form__phone-container--input'\n                name='phone'\n                label={required ? localize('Phone number*') : localize('Phone number')}\n                placeholder={required ? localize('Phone number*') : localize('Phone number')}\n                disabled={\n                    isFieldImmutable('phone', editable_fields) ||\n                    (value && has_real_account && validPhone(value) && value?.length >= 9 && value?.length <= 35)\n                }\n                {...(is_country_code_dropdown_enabled && {\n                    onChange: e => {\n                        const phone_number = e.target.value.replace(/\\D/g, '');\n                        setFieldValue('phone', phone_number, true);\n                    },\n                })}\n                maxLength={50}\n                data-testid='phone'\n            />\n        </div>\n    </React.Fragment>\n);\n\nconst CountryCodeDropdown = ({ handleChange, setFieldValue, disabled, country_code_list, required }) => {\n    const { isDesktop } = useDevice();\n    return (\n        <Field name='calling_country_code'>\n            {({ field, meta }) => (\n                <React.Fragment>\n                    {isDesktop ? (\n                        <Autocomplete\n                            {...field}\n                            disabled={disabled}\n                            data-lpignore='true'\n                            autoComplete='new-password' // prevent chrome autocomplete\n                            label={required ? localize('Code*') : localize('Code')}\n                            error={meta.touched && meta.error}\n                            list_items={country_code_list}\n                            onItemSelection={country_list => {\n                                setFieldValue('calling_country_code', country_list.value, true);\n                            }}\n                            required\n                            data-testid='calling_country_code'\n                        />\n                    ) : (\n                        <SelectNative\n                            placeholder={required ? localize('Code*') : localize('Code')}\n                            name={field.name}\n                            disabled={disabled}\n                            label={required ? localize('Code*') : localize('Code')}\n                            list_items={country_code_list}\n                            value={field.value}\n                            use_text\n                            error={meta.touched && meta.error}\n                            onChange={e => {\n                                handleChange(e);\n                                setFieldValue('calling_country_code', e.target.value, true);\n                            }}\n                            {...field}\n                            list_portal_id='modal_root'\n                            required\n                            is_country_code_dropdown\n                            should_hide_disabled_options={false}\n                            data_testid='calling_country_code_mobile'\n                        />\n                    )}\n                </React.Fragment>\n            )}\n        </Field>\n    );\n};\n\nconst PlaceOfBirthField = ({ handleChange, setFieldValue, disabled, residence_list, required }) => {\n    const { isDesktop } = useDevice();\n    return (\n        <Field name='place_of_birth'>\n            {({ field, meta }) => (\n                <React.Fragment>\n                    {isDesktop ? (\n                        <Autocomplete\n                            {...field}\n                            disabled={disabled}\n                            data-lpignore='true'\n                            autoComplete='none' // prevent chrome autocomplete\n                            type='text'\n                            label={required ? localize('Place of birth*') : localize('Place of birth')}\n                            error={meta.touched && meta.error}\n                            list_items={residence_list}\n                            onItemSelection={({ value, text }) =>\n                                setFieldValue('place_of_birth', value ? text : '', true)\n                            }\n                            required\n                            data-testid='place_of_birth'\n                        />\n                    ) : (\n                        <SelectNative\n                            placeholder={required ? localize('Place of birth') : localize('Place of birth')}\n                            name={field.name}\n                            disabled={disabled}\n                            label={required ? localize('Place of birth*') : localize('Place of birth')}\n                            list_items={residence_list}\n                            value={field.value}\n                            use_text\n                            error={meta.touched && meta.error}\n                            onChange={e => {\n                                handleChange(e);\n                                setFieldValue('place_of_birth', e.target.value, true);\n                            }}\n                            {...field}\n                            list_portal_id='modal_root'\n                            required\n                            should_hide_disabled_options={false}\n                            data_testid='place_of_birth_mobile'\n                        />\n                    )}\n                </React.Fragment>\n            )}\n        </Field>\n    );\n};\n","import React from 'react';\nimport { GetAccountStatus, ResidenceList } from '@deriv/api-types';\nimport { IDV_ERROR_STATUS, getIDVError } from '@deriv/shared';\nimport { Localize } from '@deriv/translations';\nimport { DerivLightNameDobPoiIcon, DerivLightDobPoiIcon, DerivLightNamePoiIcon } from '@deriv/quill-icons';\nimport { getIDVDocumentType } from '../Helpers/utils';\nimport { Chat } from '@deriv/utils';\n\nconst handleOnClick = () => Chat.open();\n\nexport const GENERIC_ERROR_MESSAGE = (\n    <Localize i18n_default_text='Sorry, an internal error occurred. Hit the above checkbox to try again.' />\n);\n\nexport const DUPLICATE_ACCOUNT_ERROR_MESSAGE = (\n    <Localize\n        i18n_default_text='An account with these details already exists. Please make sure the details you entered are correct as only one real account is allowed per client. If this is a mistake, contact us via <0>live chat</0>.'\n        components={[<span key={0} className='link link--orange' onClick={handleOnClick} onKeyDown={handleOnClick} />]}\n    />\n);\n\nexport const CLAIMED_DOCUMENT_ERROR_MESSAGE = (\n    <Localize\n        i18n_default_text=\"This document number was already submitted for a different account. It seems you have an account with us that doesn't need further verification. Please contact us via <0>live chat</0> if you need help.\"\n        components={[<span key={0} className='link link--orange' onClick={handleOnClick} onKeyDown={handleOnClick} />]}\n    />\n);\n\nexport const generateIDVError = (\n    is_document_upload_required: boolean,\n    latest_status: DeepRequired<GetAccountStatus>['authentication']['attempts']['latest'],\n    chosen_country: ResidenceList[0],\n    mismatch_status: keyof typeof IDV_ERROR_STATUS\n) => {\n    const document_name = is_document_upload_required\n        ? 'identity document'\n        : getIDVDocumentType(latest_status, chosen_country);\n\n    switch (mismatch_status) {\n        case IDV_ERROR_STATUS.NameMismatch.code:\n            return {\n                required_fields: ['first_name', 'last_name'],\n                side_note_image: <DerivLightNamePoiIcon height='195px' width='285px' />,\n                inline_note_text: (\n                    <Localize\n                        i18n_default_text='To avoid delays, enter your <0>name</0> exactly as it appears on your {{document_name}}.'\n                        components={[<strong key={0} />]}\n                        values={{ document_name }}\n                    />\n                ),\n                failure_message: IDV_ERROR_STATUS.NameMismatch.message,\n            };\n        case IDV_ERROR_STATUS.DobMismatch.code:\n            return {\n                required_fields: ['date_of_birth'],\n                side_note_image: <DerivLightDobPoiIcon height='195px' width='285px' />,\n                inline_note_text: (\n                    <Localize\n                        i18n_default_text='To avoid delays, enter your <0>date of birth</0> exactly as it appears on your {{document_name}}.'\n                        components={[<strong key={0} />]}\n                        values={{ document_name }}\n                    />\n                ),\n                failure_message: IDV_ERROR_STATUS.DobMismatch.message,\n            };\n        default:\n            return {\n                required_fields: ['first_name', 'last_name', 'date_of_birth'],\n                side_note_image: <DerivLightNameDobPoiIcon height='195px' width='285px' />,\n                inline_note_text: (\n                    <Localize\n                        i18n_default_text='To avoid delays, enter your <0>name</0> and <0>date of birth</0> exactly as they appear on your {{document_name}}.'\n                        components={[<strong key={0} />]}\n                        values={{ document_name }}\n                    />\n                ),\n                failure_message: getIDVError(mismatch_status),\n            };\n    }\n};\n","import PoiConfirmWithExampleFormContainer from './poi-confirm-with-example-form-container';\n\nexport default PoiConfirmWithExampleFormContainer;\n","import React from 'react';\nimport clsx from 'clsx';\nimport { Form, Formik, FormikHelpers } from 'formik';\nimport { GetSettings } from '@deriv/api-types';\nimport { Checkbox, HintBox, Loading, Text } from '@deriv/components';\nimport { Localize, localize } from '@deriv/translations';\nimport {\n    filterObjProperties,\n    isEmptyObject,\n    isMobile,\n    removeEmptyPropertiesFromObject,\n    toMoment,\n    WS,\n} from '@deriv/shared';\nimport { DerivLightNameDobPoiIcon } from '@deriv/quill-icons';\nimport FormBody from '../../form-body';\nimport LoadErrorMessage from '../../load-error-message';\nimport PersonalDetailsForm from '../../forms/personal-details-form.jsx';\nimport { GENERIC_ERROR_MESSAGE, DUPLICATE_ACCOUNT_ERROR_MESSAGE } from '../../../Configs/poi-error-config';\nimport { API_ERROR_CODES } from '../../../Constants/api-error-codes';\nimport { makeSettingsRequest, validate, validateName } from '../../../Helpers/utils';\nimport { TInputFieldValues } from '../../../Types';\nimport { useDevice } from '@deriv-com/ui';\n\ntype TRestState = {\n    api_error: string;\n    show_form: boolean;\n    errors?: boolean;\n    form_initial_values: TInputFieldValues;\n    changeable_fields: string[];\n};\n\ntype TPoiConfirmWithExampleFormContainer = {\n    account_settings: GetSettings;\n    getChangeableFields: () => string[];\n    onFormConfirm?: () => void;\n};\n\nconst PoiConfirmWithExampleFormContainer = ({\n    account_settings,\n    getChangeableFields,\n    onFormConfirm,\n}: TPoiConfirmWithExampleFormContainer) => {\n    const { isDesktop } = useDevice();\n    const [is_loading, setIsLoading] = React.useState(true);\n    const [checked, setChecked] = React.useState(false);\n    const [rest_state, setRestState] = React.useState<TRestState>({\n        show_form: true,\n        form_initial_values: { first_name: '', last_name: '', date_of_birth: '' },\n        changeable_fields: [],\n        api_error: '',\n    });\n\n    const side_note_image = <DerivLightNameDobPoiIcon height='195px' width='285px' />;\n\n    React.useEffect(() => {\n        const initializeFormValues = async () => {\n            try {\n                await WS?.wait('get_settings');\n                const visible_settings = ['first_name', 'last_name', 'date_of_birth'];\n                const form_initial_values = filterObjProperties(account_settings, visible_settings);\n                if (form_initial_values.date_of_birth) {\n                    form_initial_values.date_of_birth = toMoment(form_initial_values.date_of_birth).format(\n                        'YYYY-MM-DD'\n                    );\n                }\n                setRestState({\n                    ...rest_state,\n                    changeable_fields: getChangeableFields(),\n                    form_initial_values,\n                });\n                setIsLoading(false);\n            } catch (e) {\n                // eslint-disable-next-line no-console\n                console.error(e);\n            }\n        };\n\n        initializeFormValues();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [account_settings]);\n\n    const onSubmit = async (\n        values: TInputFieldValues,\n        { setStatus, setSubmitting }: FormikHelpers<TInputFieldValues>\n    ) => {\n        if (checked) return;\n        setStatus({ error_msg: '' });\n        const request = makeSettingsRequest(\n            values,\n            rest_state?.changeable_fields ? [...rest_state.changeable_fields] : []\n        );\n        const data = await WS.setSettings(request);\n\n        if (data?.error) {\n            const response_error =\n                data.error?.code === API_ERROR_CODES.DUPLICATE_ACCOUNT\n                    ? DUPLICATE_ACCOUNT_ERROR_MESSAGE\n                    : GENERIC_ERROR_MESSAGE;\n            setStatus({ error_msg: response_error });\n            setSubmitting(false);\n        } else {\n            const response = await WS.authorized.storage.getSettings();\n            if (response?.error) {\n                setRestState({ ...rest_state, api_error: response.error.message });\n                return;\n            }\n            const { first_name, last_name, date_of_birth } = response?.get_settings ?? {\n                ...rest_state.form_initial_values,\n            };\n            setRestState({ ...rest_state, form_initial_values: { first_name, last_name, date_of_birth } });\n            setChecked(true);\n            setIsLoading(false);\n\n            if (onFormConfirm) {\n                setTimeout(() => {\n                    onFormConfirm();\n                }, 500);\n            }\n        }\n    };\n\n    const validateFields = (values: TInputFieldValues) => {\n        const errors: TInputFieldValues = {};\n        const validateValues = validate(errors, values);\n\n        const required_fields = ['first_name', 'last_name', 'date_of_birth'];\n\n        validateValues(val => val, required_fields, localize('This field is required'));\n\n        if (values.first_name) {\n            errors.first_name = validateName(values.first_name);\n        }\n        if (values.last_name) {\n            errors.last_name = validateName(values.last_name);\n        }\n\n        setRestState({ ...rest_state, errors: !isEmptyObject(removeEmptyPropertiesFromObject(errors)) });\n        return removeEmptyPropertiesFromObject(errors);\n    };\n\n    const {\n        form_initial_values: { ...form_initial_values },\n        api_error,\n    } = rest_state;\n\n    if (api_error) return <LoadErrorMessage error_message={api_error} />;\n\n    if (is_loading) {\n        return <Loading is_fullscreen={false} className='account__initial-loader' />;\n    }\n\n    return (\n        <Formik initialValues={form_initial_values} enableReinitialize onSubmit={onSubmit} validate={validateFields}>\n            {({ errors, handleSubmit, isSubmitting, status }) => (\n                <Form className='account-form__poi-confirm-example' onSubmit={handleSubmit}>\n                    <FormBody>\n                        <PersonalDetailsForm\n                            editable_fields={rest_state.changeable_fields}\n                            is_rendered_for_onfido\n                            side_note={side_note_image}\n                            inline_note_text={\n                                <Localize\n                                    i18n_default_text='To avoid delays, enter your <0>name</0> and <0>date of birth</0> exactly as they appear on your identity document.'\n                                    components={[<strong key={0} />]}\n                                />\n                            }\n                        />\n                        <button\n                            type='submit'\n                            className={clsx('account-form__poi-confirm-example--button', {\n                                'account-form__poi-confirm-example--button__disabled':\n                                    checked || !isEmptyObject(errors),\n                            })}\n                        >\n                            <Checkbox\n                                value={checked}\n                                label={\n                                    <Text size={isDesktop ? 'xs' : 'xxs'}>\n                                        {localize(\n                                            'I confirm that the name and date of birth above match my chosen identity document (see below)'\n                                        )}\n                                    </Text>\n                                }\n                                disabled={isSubmitting}\n                            />\n                        </button>\n                        {status?.error_msg && (\n                            <div className='account-form__poi-confirm-example--status-message'>\n                                <HintBox\n                                    icon='IcAlertDanger'\n                                    message={\n                                        <Text as='p' size='xxxs'>\n                                            {status?.error_msg}\n                                        </Text>\n                                    }\n                                    is_danger\n                                    className='hint-box-layout'\n                                />\n                            </div>\n                        )}\n                    </FormBody>\n                </Form>\n            )}\n        </Formik>\n    );\n};\n\nexport default PoiConfirmWithExampleFormContainer;\n","import React from 'react';\nimport clsx from 'clsx';\nimport { CSSTransition } from 'react-transition-group';\nimport { HintBox, Text } from '@deriv/components';\nimport { Localize } from '@deriv/translations';\n\ntype TOnfidoSdkView = {\n    is_onfido_disabled: boolean;\n    is_onfido_container_hidden?: boolean;\n    onfido_element_id?: string;\n    is_confirmed: boolean;\n    data_testid?: string;\n    is_onfido_initialized?: boolean;\n};\n\nconst OnfidoSdkView = ({\n    is_onfido_disabled,\n    is_onfido_container_hidden,\n    onfido_element_id = 'onfido',\n    is_confirmed,\n    data_testid,\n    is_onfido_initialized,\n}: TOnfidoSdkView) => {\n    const [is_status_message_visible, setIsStatusMessageVisible] = React.useState(false);\n    const transition_in_timeout_ref = React.useRef<ReturnType<typeof setTimeout>>();\n    const transition_out_timeout_ref = React.useRef<ReturnType<typeof setTimeout>>();\n\n    React.useEffect(() => {\n        const onConfirm = () => {\n            transition_in_timeout_ref.current = setTimeout(() => {\n                setIsStatusMessageVisible(true);\n            }, 800);\n            transition_out_timeout_ref.current = setTimeout(() => {\n                setIsStatusMessageVisible(false);\n                // the requirement is to hide the message after 5 sec, 4650 here + 350 in CSSTransition to make it smoother\n            }, 4650);\n        };\n\n        if (is_confirmed) {\n            onConfirm();\n        }\n    }, [is_confirmed]);\n\n    React.useEffect(() => {\n        return () => {\n            clearTimeout(transition_in_timeout_ref.current);\n            clearTimeout(transition_out_timeout_ref.current);\n        };\n    }, []);\n\n    return (\n        <div className='onfido-container-view_wrapper'>\n            <div className={clsx({ 'onfido-container__status-message_container': !is_onfido_disabled })}>\n                <CSSTransition\n                    appear={is_status_message_visible}\n                    in={is_status_message_visible}\n                    timeout={{\n                        exit: 350,\n                    }}\n                    classNames={{\n                        exit: 'onfido-container__status-message--exit',\n                    }}\n                    unmountOnExit\n                >\n                    <HintBox\n                        className='onfido-container__status-message'\n                        icon='IcAlertAnnounce'\n                        message={\n                            <Text as='p' size='xxxs'>\n                                <Localize i18n_default_text='Your personal details have been saved successfully.' />\n                            </Text>\n                        }\n                        is_info\n                    />\n                </CSSTransition>\n            </div>\n            <section>\n                {is_onfido_disabled && is_onfido_initialized && (\n                    <div className='onfido-container__info-message'>\n                        <HintBox\n                            icon='IcInfoBlue'\n                            message={\n                                <Text as='p' size='xxxs'>\n                                    <Localize i18n_default_text='Hit the checkbox above to choose your document.' />\n                                </Text>\n                            }\n                            is_info\n                        />\n                    </div>\n                )}\n                <div\n                    data-testid={data_testid}\n                    id={onfido_element_id}\n                    className={clsx({\n                        'onfido-container__disabled': is_onfido_disabled,\n                        'onfido-container__hidden': is_onfido_container_hidden,\n                    })}\n                />\n            </section>\n        </div>\n    );\n};\n\nexport default OnfidoSdkView;\n","import React, { useCallback } from 'react';\nimport { CSSTransition } from 'react-transition-group';\nimport { useSettings } from '@deriv/api';\nimport { ResidenceList } from '@deriv/api-types';\nimport { Loading, ThemedScrollbars } from '@deriv/components';\nimport { useNotificationEvent, useServiceToken } from '@deriv/hooks';\nimport { observer, useStore } from '@deriv/stores';\nimport ErrorMessage from '../../../Components/error-component';\nimport MissingPersonalDetails from '../../../Components/poi/missing-personal-details';\nimport PoiConfirmWithExampleFormContainer from '../../../Components/poi/poi-confirm-with-example-form-container';\nimport OnfidoSdkView from './onfido-sdk-view';\nimport type { SdkError, SdkHandle, SdkResponse, SupportedLanguages } from '../../../Types';\nimport { convertAlpha2toAlpha3, convertAlpha3toAlpha2, getOnfidoSupportedLocaleCode } from '../../../Helpers/utils';\nimport { getOnfidoPhrases } from '../../../Constants/onfido';\nimport { useDevice } from '@deriv-com/ui';\n\ntype TAPIError = {\n    code?: string;\n    message?: string;\n    type?: string;\n};\n\ntype TOnfidoSdkViewContainer = {\n    country_code: string;\n    documents_supported:\n        | string[]\n        | DeepRequired<ResidenceList>[0]['identity']['services']['onfido']['documents_supported'];\n    getChangeableFields: () => string[];\n    handleViewComplete: () => void;\n    height?: number | string;\n    is_default_enabled?: boolean;\n};\n\nconst OnfidoSdkViewContainer = observer(\n    ({\n        country_code,\n        documents_supported,\n        getChangeableFields,\n        handleViewComplete,\n        height,\n        is_default_enabled,\n    }: TOnfidoSdkViewContainer) => {\n        const [api_error, setAPIError] = React.useState<string>();\n        const [missing_personal_details, setMissingPersonalDetails] = React.useState('');\n        const [is_onfido_disabled, setIsOnfidoDisabled] = React.useState(true);\n        const [is_confirmed, setIsConfirmed] = React.useState(false);\n        const [is_onfido_initialized, setIsOnfidoInitialized] = React.useState(false);\n        // used to check that we only initialize and load the onfido script once\n        const [is_onfido_loaded, setIsOnfidoLoaded] = React.useState(false);\n        const { data: account_settings } = useSettings();\n\n        const { send, isSuccess: isNotified } = useNotificationEvent();\n        const { common } = useStore();\n        const { current_language } = common;\n        const { isMobile } = useDevice();\n\n        // IDV country code - Alpha ISO2. Onfido country code - Alpha ISO3\n        const onfido_country_code = convertAlpha2toAlpha3(country_code);\n\n        // Service Token country code - Alpha ISO2\n        const token_country_code = convertAlpha3toAlpha2(country_code);\n\n        const { service_token, isSuccess, isError, error, isLoading } = useServiceToken({\n            service: 'onfido',\n            country: token_country_code,\n        });\n\n        const onfido_init = React.useRef<SdkHandle>();\n\n        // Onfido `document_supported` checks are made for an array of string.\n        // Ensure that `document_supported` passed respects this no the matter source.\n        const onfido_documents = Array.isArray(documents_supported)\n            ? documents_supported\n            : Object.keys(documents_supported).map(d => documents_supported[d].display_name);\n\n        let component_to_load: React.ReactNode;\n\n        const onComplete = React.useCallback(\n            (data: Omit<SdkResponse, 'data'> & { data?: { id?: string } }) => {\n                onfido_init?.current?.tearDown();\n                const document_ids = Object.keys(data).map(key => data[key as keyof SdkResponse]?.id);\n                if (document_ids?.length) {\n                    send({\n                        category: 'authentication',\n                        event: 'poi_documents_uploaded',\n                        args: {\n                            documents: document_ids as Array<string>,\n                        },\n                    });\n                }\n            },\n            [send]\n        );\n\n        const initOnfido = React.useCallback(\n            async (service_token: string) => {\n                if (!service_token) return;\n                try {\n                    onfido_init.current = await window.Onfido.init({\n                        containerId: 'onfido',\n                        language: {\n                            locale: getOnfidoSupportedLocaleCode(current_language) as SupportedLanguages,\n                            phrases: getOnfidoPhrases(),\n                            mobilePhrases: getOnfidoPhrases(),\n                        },\n                        token: service_token,\n                        useModal: false,\n                        useMemoryHistory: true,\n                        onComplete,\n                        steps: [\n                            {\n                                type: 'document',\n                                options: {\n                                    documentTypes: {\n                                        passport: onfido_documents.some(doc => /Passport/g.test(doc)),\n                                        driving_licence: onfido_documents.some(doc => /Driving Licence/g.test(doc))\n                                            ? {\n                                                  country: onfido_country_code,\n                                              }\n                                            : false,\n                                        national_identity_card: onfido_documents.some(doc =>\n                                            /National Identity Card/g.test(doc)\n                                        )\n                                            ? {\n                                                  country: onfido_country_code,\n                                              }\n                                            : false,\n                                    },\n                                    hideCountrySelection: true,\n                                },\n                            },\n                            'face',\n                        ],\n                    });\n                    setIsOnfidoInitialized(true);\n                } catch (err) {\n                    setAPIError((err as SdkError)?.message ?? err);\n                    setIsOnfidoDisabled(true);\n                    onfido_init.current = undefined;\n                } finally {\n                    setIsOnfidoLoaded(true);\n                }\n            },\n            [onComplete, onfido_documents, onfido_country_code, current_language]\n        );\n\n        const loadOnfidoSdkScript = React.useCallback(\n            (token: string) => {\n                document.getElementById('onfido_sdk')?.remove();\n                document.getElementById('onfido_style')?.remove();\n\n                // check if the onfido sdk script has been loaded, and if its still loading the onfido script, don't re-attempt to load the script again\n                const script_node = document.createElement('script');\n                const link_node = document.createElement('link');\n\n                // [TODO] - Need to lock version of onfido sdk - Current version in CDN is 13.8.4\n                script_node.id = 'onfido_sdk';\n                script_node.src = 'https://assets.onfido.com/web-sdk-releases/13.8.4/onfido.min.js';\n                link_node.href = 'https://assets.onfido.com/web-sdk-releases/13.8.4/style.css';\n                link_node.rel = 'stylesheet';\n                link_node.id = 'onfido_style';\n\n                document.body.appendChild(script_node);\n                document.body.appendChild(link_node);\n\n                script_node.addEventListener('load', () => {\n                    initOnfido(token);\n                });\n            },\n            [initOnfido]\n        );\n\n        const handleError = (error: TAPIError) => {\n            switch (error.code) {\n                case 'MissingPersonalDetails':\n                    setMissingPersonalDetails('all');\n                    break;\n                case 'InvalidPostalCode':\n                    setMissingPersonalDetails('postal_code');\n                    break;\n                default:\n                    setAPIError(error.message);\n                    break;\n            }\n        };\n\n        const onConfirm = useCallback(() => {\n            setIsConfirmed(true);\n            setIsOnfidoDisabled(false);\n        }, []);\n\n        React.useEffect(() => {\n            if (isSuccess && service_token?.onfido?.token && !is_onfido_loaded) {\n                loadOnfidoSdkScript(service_token?.onfido?.token);\n            } else if (isError) {\n                handleError(error as TAPIError);\n            }\n        }, [error, isError, isSuccess, is_onfido_loaded, loadOnfidoSdkScript, service_token?.onfido?.token]);\n\n        React.useEffect(() => {\n            /**\n             * Enables onfido sdk\n             * Pass is_default_enabled to enable onfido immediately if personal detail component is not required\n             * so no user prompt will be there so submit the details in i.e. in case of flow for nigerian clients ATM\n             */\n            if (is_default_enabled) {\n                setIsOnfidoDisabled(false);\n            }\n        }, [is_default_enabled]);\n\n        React.useEffect(() => {\n            /**\n             * Handles cleanup operations when document submission is completed\n             */\n            if (isNotified) {\n                handleViewComplete();\n            }\n        }, [handleViewComplete, isNotified]);\n\n        if (isLoading || !is_onfido_loaded) {\n            component_to_load = <Loading is_fullscreen={false} />;\n        } else if (missing_personal_details) {\n            component_to_load = (\n                <MissingPersonalDetails\n                    has_invalid_postal_code={missing_personal_details === 'postal_code'}\n                    from='proof_of_identity'\n                />\n            );\n        } else if (api_error) {\n            // Error message will only display if retry count exceeds 3\n            component_to_load = <ErrorMessage message={api_error} />;\n        }\n\n        return (\n            <ThemedScrollbars is_bypassed={isMobile} height={height}>\n                <div className='onfido-container'>\n                    {component_to_load || (\n                        <CSSTransition\n                            appear={is_onfido_disabled}\n                            in={is_onfido_disabled}\n                            timeout={{\n                                exit: 350,\n                            }}\n                            classNames={{\n                                exit: 'account-form__poi-confirm-example_wrapper--exit',\n                            }}\n                            unmountOnExit\n                        >\n                            <div className='account-form__poi-confirm-example_wrapper account-form__poi-confirm-example_container'>\n                                <PoiConfirmWithExampleFormContainer\n                                    account_settings={account_settings}\n                                    getChangeableFields={getChangeableFields}\n                                    onFormConfirm={onConfirm}\n                                />\n                            </div>\n                        </CSSTransition>\n                    )}\n                    <OnfidoSdkView\n                        is_onfido_disabled={is_onfido_disabled}\n                        is_confirmed={is_confirmed}\n                        is_onfido_container_hidden={!!component_to_load}\n                        is_onfido_initialized={is_onfido_initialized}\n                    />\n                </div>\n            </ThemedScrollbars>\n        );\n    }\n);\n\nOnfidoSdkViewContainer.displayName = 'OnfidoSdkViewContainer';\n\nexport default OnfidoSdkViewContainer;\n","import { localize } from '@deriv/translations';\nimport { FormikValues } from 'formik';\n\nexport const ROOT_CLASS = 'manual-poi-details';\n\nexport const DOCUMENT_TYPES = {\n    NATIONAL_IDENTITY_CARD: 'national_identity_card',\n    NIMC_SLIP: 'nimc_slip',\n    PASSPORT: 'passport',\n    DRIVING_LICENCE: 'driving_licence',\n    BIRTH_CERTIFICATE: 'birth_certificate',\n    SELFIE_WITH_ID: 'selfie_with_id',\n    OTHER: 'other',\n};\n\nconst PAGE_TYPE = {\n    FRONT: 'front',\n    BACK: 'back',\n    PHOTO: 'photo',\n};\n\nexport const SELFIE_DOCUMENT = {\n    document_type: DOCUMENT_TYPES.SELFIE_WITH_ID,\n    pageType: PAGE_TYPE.PHOTO,\n    name: 'selfie_with_id',\n    icon: 'IcSelfie',\n    info: localize('Upload your selfie.'),\n};\n\nexport const date_field = {\n    name: 'expiry_date',\n    label: localize('Expiry date'),\n    type: 'date',\n    required: true,\n};\n\nexport const getDocumentIndex = ({ country_code }: FormikValues) => [\n    {\n        onfido_name: 'Passport',\n        card: {\n            title: localize('Passport'),\n            description: localize('Upload the page that contains your photo.'),\n            icon: 'IcPoiPassport',\n        },\n        details: {\n            fields: [\n                {\n                    name: 'document_id',\n                    label: localize('Passport number'),\n                    type: 'text',\n                    required: true,\n                },\n                { ...date_field },\n            ],\n            documents_title: localize('Next, upload the page of your passport that contains your photo.'),\n            documents: [\n                {\n                    document_type: DOCUMENT_TYPES.PASSPORT,\n                    pageType: PAGE_TYPE.FRONT,\n                    name: 'passport',\n                    icon: 'IcPassport',\n                    info: localize('Upload the page of your passport that contains your photo.'),\n                },\n            ],\n        },\n    },\n    {\n        onfido_name: 'Driving Licence',\n        card: {\n            title: localize('Driving licence'),\n            description: localize('Upload the front and back of your driving licence.'),\n            icon: 'IcPoiDrivingLicence',\n        },\n        details: {\n            fields_title: localize('First, enter your driving licence number and the expiry date.'),\n            fields: [\n                {\n                    name: 'document_id',\n                    label: localize('Driving licence number'),\n                    type: 'text',\n                    required: true,\n                },\n                { ...date_field },\n            ],\n            documents_title: localize('Next, upload the front and back of your driving licence.'),\n            documents: [\n                {\n                    document_type: DOCUMENT_TYPES.DRIVING_LICENCE,\n                    pageType: PAGE_TYPE.FRONT,\n                    name: 'driving_licence_front',\n                    icon: 'IcDrivingLicenceFront',\n                    info: localize('Upload the front of your driving licence.'),\n                },\n                {\n                    document_type: DOCUMENT_TYPES.DRIVING_LICENCE,\n                    pageType: PAGE_TYPE.BACK,\n                    name: 'driving_licence_back',\n                    icon: 'IcIdCardBack',\n                    info: localize('Upload the back of your driving licence.'),\n                },\n            ],\n        },\n    },\n    {\n        onfido_name: 'National Identity Card',\n        card: {\n            title: localize('Identity card'),\n            description: localize('Upload the front and back of your identity card.'),\n            icon: 'IcPoiIdentityCard',\n        },\n        details: {\n            fields_title: localize('First, enter your identity card number and the expiry date.'),\n            fields: [\n                {\n                    name: 'document_id',\n                    label: localize('Identity card number'),\n                    type: 'text',\n                    required: true,\n                },\n                { ...date_field },\n            ],\n            documents_title: localize('Next, upload the front and back of your identity card.'),\n            documents: [\n                {\n                    document_type: DOCUMENT_TYPES.NATIONAL_IDENTITY_CARD,\n                    pageType: PAGE_TYPE.FRONT,\n                    name: 'identity_card_front',\n                    icon: 'IcIdCardFront',\n                    info: localize('Upload the front of your identity card.'),\n                },\n                {\n                    document_type: DOCUMENT_TYPES.NATIONAL_IDENTITY_CARD,\n                    pageType: PAGE_TYPE.BACK,\n                    name: 'identity_card_back',\n                    icon: 'IcIdCardBack',\n                    info: localize('Upload the back of your identity card.'),\n                },\n            ],\n        },\n    },\n    ...(country_code === 'ng'\n        ? [\n              {\n                  card: {\n                      title: localize('NIMC slip and proof of age'),\n                      description: localize('Upload both of these documents to prove your identity.'),\n                      icon: 'IcPoiNimcSlip',\n                  },\n                  details: {\n                      fields: [\n                          {\n                              name: 'document_id',\n                              label: localize('NIMC slip number'),\n                              type: 'text',\n                              required: true,\n                          },\n                      ],\n                      documents_title: localize('Next, upload both of the following documents.'),\n                      documents: [\n                          {\n                              document_type: DOCUMENT_TYPES.NIMC_SLIP,\n                              lifetime_valid: true,\n                              pageType: PAGE_TYPE.FRONT,\n                              name: 'nimc_slip',\n                              icon: 'IcPoiNimcSlipHorizontal',\n                              info: localize('Upload your NIMC slip.'),\n                          },\n                          {\n                              document_type: DOCUMENT_TYPES.BIRTH_CERTIFICATE,\n                              pageType: PAGE_TYPE.PHOTO,\n                              name: 'birth_certificate_front',\n                              icon: 'IcDop',\n                              info: localize(\n                                  'Upload your proof of age: birth certificate or age declaration document.'\n                              ),\n                          },\n                      ],\n                  },\n              },\n          ]\n        : []),\n];\n","import React from 'react';\nimport { Field, FormikValues } from 'formik';\nimport { DatePicker, Input } from '@deriv/components';\nimport { toMoment } from '@deriv/shared';\nimport { ROOT_CLASS } from '../constants';\n\nconst InputField = ({ data }: FormikValues) => {\n    const min_date = toMoment().add(6, 'months').format('YYYY-MM-DD');\n    switch (data.type) {\n        case 'text':\n            return (\n                <Field name={data.name}>\n                    {({ field, form: { errors, touched } }: FormikValues) => (\n                        <Input\n                            {...field}\n                            className={`${ROOT_CLASS}__field`}\n                            type='text'\n                            label={`${data.label}${data.required ? '*' : ''}`}\n                            error={touched[field.name] && errors[field.name]}\n                        />\n                    )}\n                </Field>\n            );\n        case 'date':\n            return (\n                <Field name={data.name}>\n                    {({ field, form: { errors, touched } }: FormikValues) => (\n                        <DatePicker\n                            {...field}\n                            className={`${ROOT_CLASS}__field`}\n                            date_format='YYYY-MM-DD'\n                            display_format='DD-MM-YYYY'\n                            start_date={min_date}\n                            min_date={min_date}\n                            name={data.name}\n                            label={`${data.label}${data.required ? '*' : ''}`}\n                            error={touched[field.name] && errors[field.name]}\n                            readOnly\n                        />\n                    )}\n                </Field>\n            );\n        default:\n            return null;\n    }\n};\n\nexport default InputField;\n","import React from 'react';\nimport clsx from 'clsx';\nimport { Field, FieldProps, FormikProps, FormikValues } from 'formik';\nimport { localize } from '@deriv/translations';\nimport { supported_filetypes, max_document_size } from '@deriv/shared';\nimport { Button, Icon, Text, FileDropzone } from '@deriv/components';\nimport { ROOT_CLASS } from '../constants';\nimport { useDevice } from '@deriv-com/ui';\n\nconst DROPZONE_ERRORS = {\n    'file-too-large': localize('File size should be 8MB or less'),\n    'file-invalid-type': localize('File uploaded is not supported'),\n    'too-many-files': localize('Please select one file only'),\n    GENERAL: localize('Sorry, an error occured. Please select another file.'),\n};\ntype TDROPZONE_ERRORS = Readonly<typeof DROPZONE_ERRORS>;\n\ntype TUploader = {\n    data: FormikValues;\n    value: FormikValues;\n    is_full?: boolean;\n    has_frame?: boolean;\n    onChange?: (e: unknown) => void;\n    setFieldValue: FormikProps<FormikValues>['setFieldValue'];\n    handleChange: (file: object | null, setFieldValue: FormikProps<FormikValues>['setFieldValue']) => void;\n};\n\ntype TMessage = {\n    data?: FormikValues;\n    open?: () => void;\n};\n\ntype THandleRejectFiles = Array<{\n    file: File;\n    errors: [\n        {\n            message: string;\n            code: string;\n        }\n    ];\n}>;\n\nconst Message = ({ data, open }: TMessage) => {\n    const { isDesktop } = useDevice();\n    return (\n        <div className={`${ROOT_CLASS}__uploader-details`}>\n            <Icon className={`${ROOT_CLASS}__uploader-icon`} icon={data?.icon} size={236} />\n            <Text as='p' size='xs' color='general' align='center'>\n                {data?.info}\n            </Text>\n            <Button\n                medium\n                secondary\n                text={isDesktop ? localize('Drop file or click here to upload') : localize('Tap here to upload')}\n                onClick={open}\n            />\n        </div>\n    );\n};\n\nconst Preview = ({ data, setFieldValue, value, has_frame, handleChange }: Omit<TUploader, 'is_full' | 'onChange'>) => {\n    const [background_url, setBackgroundUrl] = React.useState('');\n\n    React.useEffect(() => {\n        setBackgroundUrl(value?.file ? URL.createObjectURL(value?.file) : '');\n    }, [value]);\n\n    return (\n        <div className={`${ROOT_CLASS}__uploader-details ${ROOT_CLASS}__uploader-details--preview`}>\n            <div\n                className={clsx(`${ROOT_CLASS}__uploader-image`, {\n                    [`${ROOT_CLASS}__uploader-image--has-frame`]: has_frame,\n                })}\n                style={{ backgroundImage: `url(${background_url})` }}\n            >\n                {has_frame && <Icon icon='IcPoiFrame' className={`${ROOT_CLASS}__uploader-frame`} />}\n                {(!background_url || value?.file.type.indexOf('pdf') !== -1) && (\n                    <React.Fragment>\n                        <Icon icon='IcCloudUpload' size={50} />\n                        <Text as='p' size='xs' color='general' align='center'>\n                            {value?.file.name}\n                        </Text>\n                    </React.Fragment>\n                )}\n                <Icon\n                    icon='IcCloseCircle'\n                    className={`${ROOT_CLASS}__uploader-remove`}\n                    onClick={() => {\n                        handleChange?.(null, setFieldValue);\n                    }}\n                    size={16}\n                />\n            </div>\n            <Text as='p' size='xs' color='general' align='center'>\n                {data?.info}\n            </Text>\n        </div>\n    );\n};\n\nconst Uploader = ({ data, value, is_full, onChange, has_frame }: Omit<TUploader, 'setFieldValue' | 'handleChange'>) => {\n    const { isDesktop } = useDevice();\n    const [image, setImage] = React.useState<FormikValues>();\n\n    React.useEffect(() => {\n        setImage(value);\n    }, [value]);\n\n    const handleChange = (file: object | null, setFieldValue: FormikProps<FormikValues>['setFieldValue']) => {\n        onChange?.(file);\n        setFieldValue?.(data?.name, file);\n    };\n\n    const handleAccept = (files: object[], setFieldValue: FormikProps<FormikValues>['setFieldValue']) => {\n        const file = { file: files[0], errors: [], ...data };\n        handleChange(file, setFieldValue);\n    };\n\n    const handleReject = (files: THandleRejectFiles, setFieldValue: FormikProps<FormikValues>['setFieldValue']) => {\n        const errors = files[0].errors?.map((error: { code: string }) =>\n            DROPZONE_ERRORS[error.code as keyof TDROPZONE_ERRORS]\n                ? DROPZONE_ERRORS[error.code as keyof TDROPZONE_ERRORS]\n                : DROPZONE_ERRORS.GENERAL\n        );\n        const file = { ...files[0], errors, ...data };\n        handleChange(file, setFieldValue);\n    };\n\n    const ValidationErrorMessage: React.ComponentProps<typeof FileDropzone>['validation_error_message'] = open => (\n        <div className={`${ROOT_CLASS}__uploader-details`}>\n            {image?.errors?.map((error: string, index: number) => (\n                <Text key={index} as='p' size='xs' color='secondary' align='center'>\n                    {error}\n                </Text>\n            ))}\n            <Button\n                medium\n                secondary\n                text={isDesktop ? localize('Drop file or click here to upload') : localize('Tap here to upload')}\n                onClick={open}\n            />\n        </div>\n    );\n\n    return (\n        <Field name={data?.name}>\n            {({ form: { setFieldValue } }: FieldProps) => (\n                <div\n                    className={clsx(`${ROOT_CLASS}__uploader`, {\n                        [`${ROOT_CLASS}__uploader--full`]: is_full,\n                    })}\n                >\n                    <FileDropzone\n                        accept={supported_filetypes}\n                        error_message={localize('Please upload supported file type.')}\n                        filename_limit={32}\n                        hover_message={localize('Drop files here..')}\n                        max_size={max_document_size}\n                        message={(open?: () => void) => <Message open={open} data={data} />}\n                        preview_single={\n                            image && (\n                                <Preview\n                                    data={data}\n                                    value={image}\n                                    has_frame={has_frame}\n                                    setFieldValue={setFieldValue}\n                                    handleChange={handleChange}\n                                />\n                            )\n                        }\n                        multiple={false}\n                        onDropAccepted={(files: object[]) => handleAccept(files, setFieldValue)}\n                        onDropRejected={(files: THandleRejectFiles) => handleReject(files, setFieldValue)}\n                        validation_error_message={value?.errors?.length ? ValidationErrorMessage : undefined}\n                        noClick\n                        value={(image ? [image] : []) as unknown as React.ComponentProps<typeof FileDropzone>['value']}\n                    />\n                </div>\n            )}\n        </Field>\n    );\n};\n\nexport default Uploader;\n","import { localize } from '@deriv/translations';\nimport { FormikErrors, FormikValues } from 'formik';\n\nexport const setInitialValues = (fields: FormikValues) => {\n    const values: FormikValues = {};\n    fields.forEach((field: FormikValues) => {\n        values[field.name] = '';\n    });\n    return values;\n};\n\nexport const checkIsEmpty = (value: unknown) => {\n    return typeof value === 'string' ? !value.trim() : !value;\n};\n\ntype TFields = {\n    name: string;\n    label: string;\n    type: string;\n    required: boolean;\n}[];\n\ntype TDocument = {\n    document_type: string;\n    pageType: string;\n    name: string;\n    icon: string;\n    info: string;\n}[];\n\nexport const validateFields = (values: FormikValues, fields: TFields = [], documents: TDocument = []) => {\n    const errors: FormikErrors<FormikValues> = {};\n\n    fields.forEach((field: { name: string; label: string; type: string; required: boolean }) => {\n        const { name, label, type } = field;\n        const value = values[name];\n\n        if (field.required && checkIsEmpty(value)) {\n            errors[name] = localize('{{label}} is required.', {\n                label,\n            });\n        } else if (type === 'text' && value.length > 30) {\n            errors[name] = localize('{{label}} must be less than 30 characters.', {\n                label,\n            });\n        } else if (type === 'text' && !/^[\\w\\s-]{0,30}$/g.test(value)) {\n            errors[name] = localize('Only letters, numbers, space, underscore, and hyphen are allowed for {{label}}.', {\n                label,\n            });\n        }\n    });\n\n    documents.forEach((document: { name: string }) => {\n        const { name } = document;\n        const value = values[name];\n\n        if (checkIsEmpty(value)) {\n            errors[name] = localize('{{name}} is required.', {\n                name,\n            });\n        } else if (value.errors?.length) {\n            errors[name] = value.errors[0];\n        }\n    });\n\n    return errors;\n};\n","import React from 'react';\nimport clsx from 'clsx';\nimport { Formik, Form, FormikValues } from 'formik';\nimport { Localize, localize } from '@deriv/translations';\nimport { useDevice } from '@deriv-com/ui';\nimport { Button, Icon, Text } from '@deriv/components';\nimport InputField from './input-field';\nimport Uploader from './uploader';\nimport { setInitialValues, validateFields } from './utils';\nimport { ROOT_CLASS, date_field, getDocumentIndex } from '../constants';\nimport FormFooter from '../../../../form-footer';\nimport FormBody from '../../../../form-body';\n\nconst icons = [\n    {\n        icon: 'IcPoiClearPhoto',\n        text: localize('A clear colour photo or scanned image'),\n    },\n    {\n        icon: 'IcPoiFileFormat',\n        text: localize('JPEG, JPG, PNG, PDF, or GIF'),\n    },\n    {\n        icon: 'IcPoiFileSize',\n        text: localize('Less than 8MB'),\n    },\n    {\n        icon: 'IcPoiDocExpiry',\n        text: localize('Must be valid for at least 6 months'),\n    },\n];\n\ntype TDocumentsUpload = {\n    initial_values?: FormikValues;\n    is_from_external?: boolean;\n    goToCards: () => void;\n    onSubmit: () => void;\n    data: ReturnType<typeof getDocumentIndex>[number]['details'];\n};\n\ntype TIconsItem = {\n    data: FormikValues;\n};\n\nconst IconsItem = ({ data }: TIconsItem) => (\n    <div className={`${ROOT_CLASS}__icons-item`}>\n        <Icon icon={data.icon} size={24} />\n        <Text as='p' size='xxxs' align='center'>\n            {data.text}\n        </Text>\n    </div>\n);\n\nconst DocumentsUpload = ({ initial_values, is_from_external, data, goToCards, onSubmit }: TDocumentsUpload) => {\n    const { isDesktop } = useDevice();\n    const { fields, documents_title, documents } = data;\n    const is_expiry_date_required = fields.some(field => field.name === date_field.name);\n\n    const fields_title = is_expiry_date_required ? (\n        <Localize\n            i18n_default_text='First, enter your {{label}} and the expiry date.'\n            values={{\n                label: fields?.[0].label,\n            }}\n        />\n    ) : (\n        <Localize\n            i18n_default_text='First, enter your {{label}}.'\n            values={{\n                label: fields?.[0].label,\n            }}\n        />\n    );\n\n    return (\n        <div\n            className={clsx(ROOT_CLASS, {\n                [`${ROOT_CLASS}--mobile`]: !isDesktop,\n            })}\n        >\n            <Formik\n                initialValues={initial_values || setInitialValues([...(fields || []), ...(documents || [])])}\n                validate={values => validateFields(values, fields, documents)}\n                onSubmit={onSubmit}\n            >\n                {({ values, isValid, touched }: FormikValues) => {\n                    const is_form_touched = Object.keys(touched).length > 0;\n                    const is_form_empty = Object.values(values).some(\n                        (field, key) => (field === null || field === '') && fields?.[key]?.required\n                    );\n\n                    return (\n                        <Form className={`${ROOT_CLASS}__form`}>\n                            <FormBody className='form-body' scroll_offset={isDesktop ? '80px' : '180px'}>\n                                <div className={`${ROOT_CLASS}__fields-content`}>\n                                    <Text as='h3' size='s' color='prominent'>\n                                        {fields_title}\n                                    </Text>\n                                    <div className={`${ROOT_CLASS}__fields-wrap`}>\n                                        {fields?.map((field: FormikValues) => (\n                                            <InputField key={field.name} data={field} />\n                                        ))}\n                                    </div>\n                                    <div className={`${ROOT_CLASS}__divider`} />\n                                    <Text as='h3' size='s' color='prominent'>\n                                        {documents_title}\n                                    </Text>\n                                    <div className={`${ROOT_CLASS}__uploaders-wrap`}>\n                                        {documents?.map((item: FormikValues) => (\n                                            <Uploader\n                                                key={item.name}\n                                                data={item}\n                                                value={values[item.name]}\n                                                is_full={documents.length === 1 || is_from_external}\n                                            />\n                                        ))}\n                                    </div>\n                                    <div className={`${ROOT_CLASS}__icons`}>\n                                        {icons.map(item =>\n                                            item.icon === 'IcPoiDocExpiry' && !is_expiry_date_required ? null : (\n                                                <IconsItem key={item.icon} data={item} />\n                                            )\n                                        )}\n                                    </div>\n                                </div>\n                            </FormBody>\n                            <FormFooter>\n                                <div className={`${ROOT_CLASS}__btns`}>\n                                    <Button onClick={goToCards} secondary large text={localize('Back')} />\n                                    <Button\n                                        type='submit'\n                                        primary\n                                        large\n                                        is_disabled={!isValid || (!is_form_touched && is_form_empty)}\n                                        text={localize('Next')}\n                                    />\n                                </div>\n                            </FormFooter>\n                        </Form>\n                    );\n                }}\n            </Formik>\n        </div>\n    );\n};\n\nexport default DocumentsUpload;\n","import React from 'react';\nimport clsx from 'clsx';\nimport { Form, Formik, FormikProps, FormikValues } from 'formik';\nimport { Localize, localize } from '@deriv/translations';\nimport { useDevice } from '@deriv-com/ui';\nimport { Button, Text } from '@deriv/components';\nimport Uploader from './uploader';\nimport { setInitialValues, validateFields } from './utils';\nimport { ROOT_CLASS, SELFIE_DOCUMENT } from '../constants';\nimport FormBody from '../../../../form-body';\nimport FormFooter from '../../../../form-footer';\n\ntype TSelfieUpload = {\n    initial_values?: FormikValues;\n    goBack: () => void;\n    onConfirm: () => void;\n    onFileDrop: () => void;\n};\n\nconst SelfieUpload = ({ initial_values, goBack, onConfirm, onFileDrop }: TSelfieUpload) => {\n    const { isDesktop } = useDevice();\n    return (\n        <div\n            className={clsx(ROOT_CLASS, {\n                [`${ROOT_CLASS}--mobile`]: !isDesktop,\n            })}\n        >\n            <Formik\n                initialValues={initial_values || setInitialValues([SELFIE_DOCUMENT])}\n                validate={values => validateFields(values, undefined, [SELFIE_DOCUMENT])}\n                onSubmit={onConfirm}\n            >\n                {({ values, isValid, isSubmitting, touched }: Partial<FormikProps<FormikValues>>) => {\n                    let is_form_touched, is_form_empty;\n                    if (touched) {\n                        is_form_touched = Object.keys(touched).length > 0;\n                    }\n                    if (values) {\n                        is_form_empty = Object.values(values).some(field => field === null || field === '');\n                    }\n\n                    return (\n                        <Form className={`${ROOT_CLASS}__form`}>\n                            <FormBody className='form-body' scroll_offset={isDesktop ? '8rem' : '18rem'}>\n                                <div className={`${ROOT_CLASS}__fields-content`}>\n                                    <Text as='h3' size='s' weight='bold' color='prominent'>\n                                        <Localize i18n_default_text='Upload your selfie' />\n                                    </Text>\n                                    <div className={`${ROOT_CLASS}__uploaders-wrap`}>\n                                        <Uploader\n                                            data={SELFIE_DOCUMENT}\n                                            value={values ? values[SELFIE_DOCUMENT.name] : ''}\n                                            is_full\n                                            onChange={onFileDrop}\n                                            has_frame\n                                        />\n                                    </div>\n                                    <div className={`${ROOT_CLASS}__notice`}>\n                                        <Text as='p' size='xs' color='general'>\n                                            <Localize i18n_default_text='Before uploading, please ensure that you’re facing forward in the selfie, your face is within the frame, and your eyes are clearly visible even if you’re wearing glasses.' />\n                                        </Text>\n                                    </div>\n                                </div>\n                            </FormBody>\n                            <FormFooter>\n                                <div className={`${ROOT_CLASS}__btns`}>\n                                    <Button onClick={goBack} secondary large text={localize('Back')} />\n                                    <Button\n                                        type='submit'\n                                        primary\n                                        large\n                                        is_disabled={!isValid || isSubmitting || (!is_form_touched && is_form_empty)}\n                                        text={localize('Confirm and upload')}\n                                    />\n                                </div>\n                            </FormFooter>\n                        </Form>\n                    );\n                }}\n            </Formik>\n        </div>\n    );\n};\n\nexport default SelfieUpload;\n","import CardDetails from './card-details';\n\nexport default CardDetails;\n","import React from 'react';\nimport DocumentsUpload from './documents-upload';\nimport SelfieUpload from './selfie-upload';\nimport { SELFIE_DOCUMENT, getDocumentIndex } from '../constants';\nimport './card-details.scss';\nimport { FormikValues } from 'formik';\n\ntype TCardDetails = {\n    data: ReturnType<typeof getDocumentIndex>[number]['details'];\n    onComplete: (e: object) => void;\n    goToCards: () => void;\n    is_from_external?: boolean;\n};\n\nconst CardDetails = ({ data, goToCards, onComplete, is_from_external }: TCardDetails) => {\n    const [documents, setDocuments] = React.useState<FormikValues>();\n    const [selfie, setSelfie] = React.useState<FormikValues>();\n    const [is_selfie_upload, setIsSelfieUpload] = React.useState(false);\n\n    const onSubmitDocuments = (values?: FormikValues) => {\n        setDocuments(values);\n        setIsSelfieUpload(true);\n    };\n\n    const onConfirmDocuments = (values?: FormikValues) => {\n        onComplete({ ...documents, ...values });\n    };\n\n    return (\n        <React.Fragment>\n            {!is_selfie_upload ? (\n                <DocumentsUpload\n                    initial_values={documents}\n                    is_from_external={is_from_external}\n                    data={data}\n                    goToCards={goToCards}\n                    onSubmit={onSubmitDocuments}\n                />\n            ) : (\n                <SelfieUpload\n                    initial_values={selfie}\n                    goBack={() => setIsSelfieUpload(false)}\n                    onConfirm={onConfirmDocuments}\n                    onFileDrop={(value?: string) => setSelfie({ [SELFIE_DOCUMENT.name]: value })}\n                />\n            )}\n        </React.Fragment>\n    );\n};\n\nexport default CardDetails;\n","/* eslint-disable @typescript-eslint/ban-ts-comment */\n//@ts-nocheck [TODO] - Need to fix typescript errors in OnfidoUpload component\nimport React from 'react';\nimport { Loading, Icon, Text, Button } from '@deriv/components';\nimport { localize, Localize } from '@deriv/translations';\nimport { WS } from '@deriv/shared';\nimport { UploadComplete } from '../upload-complete/upload-complete';\nimport POIManualUploadFailed from '../../../poi-manual-upload-failed';\nimport { API_ERROR_CODES } from '../../../../Constants/api-error-codes';\nimport uploadFile from '../../../file-uploader-container/upload-file';\nimport OnfidoUpload from '../../../../Sections/Verification/ProofOfIdentity/onfido-sdk-view-container';\n\nimport CardDetails from './card-details';\nimport { SELFIE_DOCUMENT, getDocumentIndex } from './constants';\nimport { FormikValues } from 'formik';\n\nconst STATUS = {\n    IS_UPLOADING: 'IS_UPLOADING',\n    IS_COMPLETED: 'IS_COMPLETED',\n    IS_FAILED: 'IS_FAILED',\n};\n\ntype TDetailComponent = {\n    document: ReturnType<typeof getDocumentIndex>[number];\n    onClickBack: () => void;\n    root_class: string;\n    country_code_key?: string;\n    height?: string | number;\n    handleComplete?: () => void;\n    is_onfido_supported?: boolean;\n    is_from_external?: boolean;\n    is_for_mt5?: boolean;\n    handlePOIforMT5Complete?: () => void;\n    needs_poa?: boolean;\n};\n\nconst DetailComponent = ({\n    document,\n    onClickBack,\n    root_class,\n    country_code_key,\n    height,\n    handleComplete,\n    is_onfido_supported,\n    is_from_external,\n    is_for_mt5,\n    handlePOIforMT5Complete,\n    needs_poa,\n    ...props\n}: TDetailComponent) => {\n    const [status, setStatus] = React.useState('');\n    const [response_error, setError] = React.useState('');\n\n    let is_any_failed = false;\n\n    const uploadFiles = (data: FormikValues) =>\n        new Promise((resolve, reject) => {\n            const docs = document.details.documents.map((item: FormikValues) => item.name);\n            const files = Object.values(data).filter(item => [...docs, SELFIE_DOCUMENT.name].includes(item.name));\n            const files_length = files.length;\n            let file_to_upload_index = 0;\n            const results: object[] = [];\n            const uploadNext = () => {\n                const item = files[file_to_upload_index];\n                const { file, document_type, pageType, lifetime_valid } = item;\n                const expiration_date =\n                    typeof data.expiry_date?.format === 'function' ? data.expiry_date.format('YYYY-MM-DD') : undefined;\n                uploadFile(file, WS.getSocket, {\n                    document_type,\n                    page_type: pageType,\n                    expiration_date,\n                    document_id: data.document_id || '',\n                    lifetime_valid: +(lifetime_valid && !expiration_date),\n                    document_issuing_country: country_code_key,\n                })\n                    .then(response => {\n                        file_to_upload_index += 1;\n                        if (response?.warning === API_ERROR_CODES.DUPLICATE_DOCUMENT) {\n                            setStatus(STATUS.IS_DUPLICATE_UPLOAD);\n                        } else if (response?.warning || response.error) {\n                            is_any_failed = true;\n                            setStatus(STATUS.IS_FAILED);\n                            setError(\n                                response.message || (response.error ? response.error.message : localize('Failed'))\n                            );\n                            if (file_to_upload_index < files_length) {\n                                uploadNext();\n                            }\n                        } else if (file_to_upload_index < files_length) {\n                            results.push(response);\n                            uploadNext();\n                        } else {\n                            resolve(results);\n                        }\n                    })\n                    .catch(error => {\n                        reject(error);\n                    });\n            };\n\n            uploadNext();\n        });\n\n    const onComplete = (values: FormikValues) => {\n        setStatus(STATUS.IS_UPLOADING);\n        uploadFiles(values)\n            .then(() => {\n                if (!is_any_failed) {\n                    if (is_for_mt5) {\n                        handlePOIforMT5Complete?.();\n                    } else {\n                        setStatus(STATUS.IS_COMPLETED);\n                    }\n                }\n            })\n            .catch(error => {\n                setStatus(STATUS.IS_FAILED);\n                setError(error.message);\n            });\n    };\n\n    switch (status) {\n        case STATUS.IS_UPLOADING:\n            return <Loading is_fullscreen={false} is_slow_loading status={[localize('Uploading documents')]} />;\n        case STATUS.IS_COMPLETED:\n            return <UploadComplete is_from_external needs_poa={needs_poa} is_manual_upload />;\n        case STATUS.IS_FAILED:\n            return <POIManualUploadFailed error={response_error} />;\n        case STATUS.IS_DUPLICATE_UPLOAD:\n            return (\n                <POIManualUploadFailed\n                    error={\n                        <Localize i18n_default_text='It seems you’ve submitted this document before. Upload a new document.' />\n                    }\n                >\n                    <Button onClick={onClickBack} large primary className='upload_error_btn'>\n                        <Localize i18n_default_text='Try Again' />\n                    </Button>\n                </POIManualUploadFailed>\n            );\n\n        default:\n            return (\n                <React.Fragment>\n                    {is_onfido_supported ? (\n                        <React.Fragment>\n                            <div className={`${root_class}__detail-header`} onClick={onClickBack}>\n                                <Icon icon='IcArrowLeftBold' />\n                                <Text\n                                    as='p'\n                                    size='xs'\n                                    weight='bold'\n                                    color='prominent'\n                                    className={`${root_class}__back-title`}\n                                >\n                                    {localize('Back')}\n                                </Text>\n                            </div>\n                            <OnfidoUpload\n                                country_code={country_code_key}\n                                documents_supported={[document.onfido_name]}\n                                height={height ?? null}\n                                handleComplete={is_for_mt5 ? handlePOIforMT5Complete : handleComplete}\n                                is_default_enabled\n                                handleViewComplete={is_for_mt5 ? handlePOIforMT5Complete : handleComplete}\n                                {...props}\n                            />\n                        </React.Fragment>\n                    ) : (\n                        <CardDetails\n                            data={document.details}\n                            onComplete={onComplete}\n                            goToCards={onClickBack}\n                            is_from_external={is_from_external}\n                        />\n                    )}\n                </React.Fragment>\n            );\n    }\n};\n\nexport default DetailComponent;\n","import React from 'react';\nimport { Icon, Text } from '@deriv/components';\nimport { useDevice } from '@deriv-com/ui';\n\ntype TCardWithArrow = {\n    onClick: () => void;\n    title: string;\n    description: string;\n    icon: string;\n};\n\nconst CardWithArrow = ({ onClick, title, description, icon }: TCardWithArrow) => {\n    const { isDesktop } = useDevice();\n    return (\n        <div className='manual-poi__card' onClick={onClick}>\n            <Icon className='manual-poi__card-icon' icon={icon} size={64} />\n            <div className='manual-poi__card-content'>\n                <Text as='p' size='xs' weight='bold' color='prominent'>\n                    {title}\n                </Text>\n                <Text as='p' size={isDesktop ? 'xxs' : 'xxxs'}>\n                    {description}\n                </Text>\n            </div>\n\n            <Icon icon='IcChevronRight' size={isDesktop ? 31 : 23} />\n        </div>\n    );\n};\n\nexport { CardWithArrow };\n","import React from 'react';\nimport { Card } from '@deriv/components';\nimport { CardWithArrow } from './card-with-arrow';\nimport { getDocumentIndex } from './constants';\n\ntype TDocument = {\n    toggleDetail: (index: number) => void;\n    documents: ReturnType<typeof getDocumentIndex>;\n};\n\nexport const Documents = ({ toggleDetail, documents }: TDocument) => (\n    <React.Fragment>\n        {documents.map((item, index: number) => (\n            <Card\n                key={item.card?.icon}\n                renderContent={() => <CardWithArrow onClick={() => toggleDetail(index)} {...item.card} />}\n            />\n        ))}\n    </React.Fragment>\n);\n","import React from 'react';\nimport { Button, Text } from '@deriv/components';\nimport { Localize } from '@deriv/translations';\nimport { identity_status_codes } from '../../../../Sections/Verification/ProofOfIdentity/proof-of-identity-utils';\nimport DetailComponent from './detail-component';\nimport { Documents } from './documents';\nimport { getDocumentIndex, DOCUMENT_TYPES } from './constants';\nimport UploadComplete from '../upload-complete';\nimport { FormikValues } from 'formik';\nimport Verified from '../verified';\nimport Limited from '../limited';\nimport Expired from '../expired';\nimport FormFooter from '../../../form-footer';\n\nconst checkNimcStep = (documents: FormikValues) => {\n    let has_nimc = false;\n    documents.forEach((document: FormikValues) => {\n        if (document.document_type === DOCUMENT_TYPES.NIMC_SLIP) {\n            has_nimc = true;\n        }\n    });\n    return has_nimc;\n};\n\ntype TUnsupported = {\n    country_code: string;\n    handlePOIforMT5Complete: () => void;\n    manual: {\n        status: string;\n    };\n    redirect_button: React.ReactElement;\n    needs_poa: boolean;\n    handleBack: () => void;\n    handleRequireSubmission: () => void;\n    handleViewComplete: () => void;\n    allow_poi_resubmission: boolean;\n    onfido: {\n        submissions_left: number;\n    };\n    is_for_mt5?: boolean;\n    is_resubmission?: boolean;\n};\n\nconst Unsupported = ({\n    country_code,\n    handlePOIforMT5Complete,\n    manual,\n    redirect_button,\n    needs_poa,\n    handleBack,\n    handleRequireSubmission,\n    allow_poi_resubmission,\n    handleViewComplete,\n    onfido,\n    is_for_mt5,\n    is_resubmission,\n    ...props\n}: TUnsupported) => {\n    const [detail, setDetail] = React.useState<number | null>(null);\n    const toggleDetail = (index: number) => setDetail(index);\n\n    const documents = getDocumentIndex({\n        country_code,\n    });\n\n    if (manual) {\n        if (manual.status === identity_status_codes.pending)\n            return <UploadComplete is_manual_upload needs_poa={needs_poa} redirect_button={redirect_button} />;\n        else if (\n            [identity_status_codes.rejected, identity_status_codes.suspected].some(status => status === manual.status)\n        ) {\n            if (!allow_poi_resubmission) return <Limited />;\n        } else if (manual.status === identity_status_codes.verified) {\n            return <Verified needs_poa={needs_poa} redirect_button={redirect_button} />;\n        } else if (manual.status === identity_status_codes.expired) {\n            return <Expired redirect_button={redirect_button} handleRequireSubmission={handleRequireSubmission} />;\n        }\n    }\n\n    if (detail !== null) {\n        const is_onfido_supported =\n            country_code === 'ng' &&\n            !checkNimcStep(documents[detail ?? 0].details.documents) &&\n            onfido &&\n            onfido.submissions_left > 0;\n        return (\n            <DetailComponent\n                is_onfido_supported={is_onfido_supported}\n                country_code_key={country_code}\n                document={documents[detail]}\n                root_class='manual-poi'\n                onClickBack={() => setDetail(null)}\n                handlePOIforMT5Complete={handlePOIforMT5Complete}\n                handleComplete={handleViewComplete}\n                is_for_mt5={is_for_mt5}\n                needs_poa={needs_poa}\n                {...props}\n            />\n        );\n    }\n\n    return (\n        <div className='manual-poi'>\n            <Text as='h2' color='prominent' size='xs' className='manual-poi__title'>\n                <Localize i18n_default_text='Please upload one of the following documents:' />\n            </Text>\n            <Documents documents={documents} toggleDetail={toggleDetail} />\n            {!is_for_mt5 && !is_resubmission && (\n                <FormFooter className='proof-of-identity__footer'>\n                    <Button className='back-btn' onClick={handleBack} type='button' has_effect large secondary>\n                        <Localize i18n_default_text='Back' />\n                    </Button>\n                </FormFooter>\n            )}\n        </div>\n    );\n};\nexport default Unsupported;\n","import Unsupported from './unsupported';\nimport './unsupported.scss';\n\nexport default Unsupported;\n","import React from 'react';\nimport { formatOnfidoError } from '@deriv/shared';\nimport UploadComplete from '../../../Components/poi/status/upload-complete';\nimport Verified from '../../../Components/poi/status/verified';\nimport RejectedReasons from '../../../Components/poi/status/rejected-reasons';\nimport Unsupported from '../../../Components/poi/status/unsupported';\nimport { identity_status_codes, service_code } from './proof-of-identity-utils';\n\nconst Onfido = ({\n    handleRequireSubmission,\n    is_from_external,\n    needs_poa,\n    onfido,\n    redirect_button,\n    manual,\n    country_code,\n    handleViewComplete,\n}) => {\n    const { status, submissions_left, last_rejected: rejected_reasons } = onfido;\n\n    switch (status) {\n        case identity_status_codes.pending:\n            return (\n                <UploadComplete\n                    is_from_external={is_from_external}\n                    needs_poa={needs_poa}\n                    redirect_button={redirect_button}\n                />\n            );\n        case identity_status_codes.rejected:\n        case identity_status_codes.suspected:\n        case identity_status_codes.expired: {\n            const submission_errors = formatOnfidoError(status, rejected_reasons);\n            if (Number(submissions_left) < 1) {\n                return (\n                    <Unsupported\n                        manual={manual}\n                        is_from_external={is_from_external}\n                        country_code={country_code}\n                        handleViewComplete={handleViewComplete}\n                        onfido={onfido}\n                    />\n                );\n            }\n            return (\n                <RejectedReasons\n                    rejected_reasons={submission_errors}\n                    handleRequireSubmission={handleRequireSubmission}\n                />\n            );\n        }\n        case identity_status_codes.verified:\n            return (\n                <Verified\n                    is_from_external={is_from_external}\n                    needs_poa={needs_poa}\n                    redirect_button={redirect_button}\n                    service={service_code.onfido}\n                />\n            );\n        default:\n            return null;\n    }\n};\n\nexport default Onfido;\n","import PoiCountrySelector from './poi-country-selector';\n\nexport default PoiCountrySelector;\n","import React from 'react';\nimport clsx from 'clsx';\nimport { Formik, Field, FormikErrors, FormikValues, FormikHelpers } from 'formik';\nimport { Autocomplete, Button, HintBox, Text, SelectNative } from '@deriv/components';\nimport { IDV_ERROR_STATUS, TIDVErrorStatus, POIContext } from '@deriv/shared';\nimport { Localize, localize } from '@deriv/translations';\nimport FormFooter from '../../form-footer';\nimport { useDevice } from '@deriv-com/ui';\nimport { useResidenceList } from '@deriv/api';\n\ntype TCountrySelector = {\n    handleSelectionNext?: () => void;\n    is_from_external: boolean;\n    mismatch_status?: TIDVErrorStatus;\n};\n\nconst CountrySelector = ({ handleSelectionNext, is_from_external, mismatch_status }: TCountrySelector) => {\n    const { setSelectedCountry } = React.useContext(POIContext);\n    const { data: country_list, isLoading } = useResidenceList();\n\n    const initial_form_values: FormikValues = {\n        country_input: '',\n    };\n\n    const validateFields = (values: FormikValues) => {\n        const errors: FormikErrors<FormikValues> = {};\n        const { country_input } = values;\n\n        if (!country_input) {\n            errors.country_input = localize('Please select the country of document issuance.');\n        } else if (!country_list.find((c: FormikValues) => c.text === country_input)) {\n            errors.country_input = localize('Please select a valid country of document issuance.');\n        }\n\n        return errors;\n    };\n    const { isDesktop } = useDevice();\n\n    const updateSelectedCountry = (country_name: string) => {\n        const matching_country = country_list?.find((c: FormikValues) => c.text === country_name);\n        if (matching_country) {\n            setSelectedCountry?.(matching_country);\n        }\n    };\n\n    const submitHandler = (values: FormikValues, { setSubmitting }: FormikHelpers<FormikValues>) => {\n        updateSelectedCountry(values.country_input);\n        setSubmitting(false);\n        handleSelectionNext?.();\n    };\n\n    const failed_message: React.ReactNode = mismatch_status ? IDV_ERROR_STATUS[mismatch_status]?.message ?? null : null;\n\n    return (\n        <Formik initialValues={initial_form_values} validate={validateFields} onSubmit={submitHandler}>\n            {({\n                dirty,\n                errors,\n                handleBlur,\n                handleChange,\n                handleSubmit,\n                isSubmitting,\n                isValid,\n                setFieldValue,\n                touched,\n                values,\n            }) => (\n                <React.Fragment>\n                    <div\n                        className={clsx('proof-of-identity__container proof-of-identity__country-container', {\n                            'min-height': !is_from_external,\n                        })}\n                    >\n                        {failed_message ? (\n                            <React.Fragment>\n                                <Text align='center' weight='bold' size={isDesktop ? 's' : 'xs'}>\n                                    <Localize i18n_default_text='Your identity verification failed because:' />\n                                </Text>\n                                <HintBox\n                                    className={clsx('proof-of-identity__failed-message', 'hint-box-layout')}\n                                    icon='IcAlertDanger'\n                                    message={\n                                        <Text as='p' size={isDesktop ? 'xs' : 'xxs'}>\n                                            {failed_message}\n                                        </Text>\n                                    }\n                                    is_danger\n                                />\n                            </React.Fragment>\n                        ) : (\n                            <Text className='proof-of-identity__header' align='center' weight='bold'>\n                                <Localize i18n_default_text='Proof of identity' />\n                            </Text>\n                        )}\n\n                        <Text className='proof-of-identity__country-text ' size='xs'>\n                            <Localize i18n_default_text='In which country was your document issued?' />\n                        </Text>\n                        <fieldset className='proof-of-identity__fieldset'>\n                            <Field name='country_input'>\n                                {({ field }: FormikValues) => (\n                                    <React.Fragment>\n                                        {isDesktop ? (\n                                            <Autocomplete\n                                                className={clsx({ 'external-dropdown': is_from_external })}\n                                                {...field}\n                                                data_testid='dt_external_dropdown'\n                                                name='country_input'\n                                                data-lpignore='true'\n                                                error={touched.country_input && errors.country_input}\n                                                autoComplete='off'\n                                                type='text'\n                                                label={localize('Country')}\n                                                list_items={country_list}\n                                                value={values.country_input}\n                                                onBlur={(e: FormikValues) => {\n                                                    handleBlur(e);\n                                                    const current_input = e.target.value;\n                                                    if (\n                                                        !country_list.find(\n                                                            (c: FormikValues) => c.text === current_input\n                                                        )\n                                                    ) {\n                                                        setFieldValue('country_input', '', true);\n                                                        updateSelectedCountry('');\n                                                    }\n                                                }}\n                                                onChange={handleChange}\n                                                onItemSelection={({ text }: FormikValues) => {\n                                                    const select_value =\n                                                        text === 'No results found' || !text ? '' : text;\n                                                    setFieldValue('country_input', select_value, true);\n                                                    updateSelectedCountry(text);\n                                                }}\n                                                required\n                                            />\n                                        ) : (\n                                            <div className='proof-of-identity__dropdown-container'>\n                                                <SelectNative\n                                                    {...field}\n                                                    name='country_input'\n                                                    error={touched.country_input && errors.country_input}\n                                                    label={localize('Country')}\n                                                    placeholder={localize('Please select')}\n                                                    list_items={country_list}\n                                                    value={values.country_input}\n                                                    onChange={(e: React.ChangeEvent<HTMLSelectElement>) => {\n                                                        handleChange(e);\n                                                        updateSelectedCountry(e.target.value);\n                                                    }}\n                                                    use_text={true}\n                                                    required\n                                                />\n                                            </div>\n                                        )}\n                                    </React.Fragment>\n                                )}\n                            </Field>\n                        </fieldset>\n                    </div>\n                    <FormFooter className={clsx('proof-of-identity__footer', { 'external-footer': is_from_external })}>\n                        <Button\n                            className='proof-of-identity__submit-button'\n                            type='submit'\n                            onClick={() => handleSubmit()}\n                            has_effect\n                            is_disabled={!dirty || isSubmitting || !isValid || isLoading}\n                            is_loading={false}\n                            text={localize('Next')}\n                            large\n                            primary\n                        />\n                    </FormFooter>\n                </React.Fragment>\n            )}\n        </Formik>\n    );\n};\n\nexport default CountrySelector;\n","/* eslint-disable @typescript-eslint/ban-ts-comment */\n//@ts-nocheck [TODO] - Need to fix typescript errors\n\nimport React from 'react';\nimport clsx from 'clsx';\nimport { Field, FormikProps, FieldProps, useFormikContext } from 'formik';\nimport { ResidenceList } from '@deriv/api-types';\nimport { Autocomplete, Input, SelectNative } from '@deriv/components';\nimport { formatInput, getIDVNotApplicableOption } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\nimport {\n    getDocumentData,\n    preventEmptyClipboardPaste,\n    generatePlaceholderText,\n    getExampleFormat,\n} from '../../Helpers/utils';\nimport { TDocument, TIDVFormValues } from '../../Types';\nimport { useDevice } from '@deriv-com/ui';\n\ntype TIDVFormProps = {\n    selected_country: ResidenceList[0];\n    hide_hint?: boolean;\n    class_name?: string;\n    is_for_real_account_signup_modal?: boolean;\n    is_for_mt5?: boolean;\n};\n\nconst IDVForm = ({\n    class_name,\n    selected_country,\n    hide_hint,\n    is_for_real_account_signup_modal = false,\n    is_for_mt5 = false,\n}: TIDVFormProps) => {\n    const [document_list, setDocumentList] = React.useState<Array<TDocument>>([]);\n    const [selected_doc, setSelectedDoc] = React.useState('');\n    const { isDesktop } = useDevice();\n\n    const { documents_supported: document_data } = selected_country?.identity?.services?.idv ?? {};\n\n    const { errors, touched, values, handleBlur, handleChange, setFieldValue }: FormikProps<TIDVFormValues> =\n        useFormikContext();\n    const default_document = {\n        id: '',\n        text: '',\n        value: '',\n        example_format: '',\n    };\n\n    const IDV_NOT_APPLICABLE_OPTION = React.useMemo(\n        () => getIDVNotApplicableOption(is_for_real_account_signup_modal),\n        [is_for_real_account_signup_modal]\n    );\n\n    React.useEffect(() => {\n        if (document_data && selected_country && selected_country.value) {\n            const document_types = Object.keys(document_data);\n            if (document_types.length === 0) return;\n\n            const new_document_list = document_types.map(key => {\n                const { display_name, format } = document_data[key];\n                const { new_display_name, example_format, additional_document_example_format } = getDocumentData(\n                    selected_country.value ?? '',\n                    key\n                );\n                const needs_additional_document = !!document_data[key].additional;\n\n                if (needs_additional_document) {\n                    return {\n                        id: key,\n                        text: display_name ?? new_display_name, // Display document name from API if available, else use the one from the helper function\n                        additional: {\n                            display_name: document_data[key].additional?.display_name,\n                            format: document_data[key].additional?.format,\n                            example_format: additional_document_example_format,\n                        },\n                        value: format,\n                        example_format,\n                    };\n                }\n                return {\n                    id: key,\n                    text: display_name ?? new_display_name, // Display document name from API if available, else use the one from the helper function\n                    value: format,\n                    example_format,\n                };\n            });\n\n            setDocumentList([...new_document_list, IDV_NOT_APPLICABLE_OPTION]);\n        }\n    }, [document_data, selected_country, IDV_NOT_APPLICABLE_OPTION, is_for_mt5]);\n\n    const resetDocumentItemSelected = () => {\n        setFieldValue('document_type', default_document, true);\n    };\n\n    const getDocument = (text: string) => {\n        return document_list.find(d => d.text === text) ?? default_document;\n    };\n\n    const onKeyUp = (e: { target: HTMLInputElement }, document_name: string) => {\n        const example_format =\n            document_name === 'document_number'\n                ? values?.document_type?.example_format\n                : values?.document_type?.additional?.example_format;\n        let current_input: string | null = null;\n        current_input = example_format?.includes('-')\n            ? formatInput(example_format, current_input ?? e.target.value, '-')\n            : e.target.value;\n        setFieldValue(document_name, current_input, true);\n    };\n\n    const bindDocumentData = (item: TDocument) => {\n        setFieldValue('document_type', item, true);\n        setSelectedDoc(item?.id);\n        if (item?.id === IDV_NOT_APPLICABLE_OPTION.id) {\n            setFieldValue('document_number', '', false);\n            setFieldValue('document_additional', '', false);\n        }\n    };\n    return (\n        <section className={clsx('idv-form', class_name)}>\n            <div className='details-form'>\n                <div className='poi-form-on-signup__fields'>\n                    <div\n                        className={clsx('proof-of-identity__container', {\n                            'proof-of-identity__container--idv': hide_hint,\n                        })}\n                    >\n                        <div className={clsx('proof-of-identity__inner-container')}>\n                            <div className='proof-of-identity__fieldset-container'>\n                                <fieldset className={clsx({ 'proof-of-identity__fieldset': !hide_hint })}>\n                                    <Field name='document_type'>\n                                        {({ field }: FieldProps) => (\n                                            <React.Fragment>\n                                                {isDesktop ? (\n                                                    <Autocomplete\n                                                        {...field}\n                                                        data-lpignore='true'\n                                                        error={touched.document_type && errors.document_type}\n                                                        autoComplete='off'\n                                                        type='text'\n                                                        label={localize('Choose the document type')}\n                                                        list_items={document_list}\n                                                        value={values.document_type.text}\n                                                        onBlur={(e: { target: HTMLInputElement }) => {\n                                                            handleBlur(e);\n                                                            if (!getDocument(e.target.value)) {\n                                                                resetDocumentItemSelected();\n                                                            }\n                                                        }}\n                                                        onChange={handleChange}\n                                                        onItemSelection={(item: TDocument) => {\n                                                            if (item.text === 'No results found' || !item.text) {\n                                                                setSelectedDoc('');\n                                                                resetDocumentItemSelected();\n                                                            } else {\n                                                                bindDocumentData(item);\n                                                            }\n                                                        }}\n                                                        required\n                                                    />\n                                                ) : (\n                                                    <SelectNative\n                                                        {...field}\n                                                        name='document_type'\n                                                        error={\n                                                            touched.document_type &&\n                                                            (errors.document_type as string | undefined)\n                                                        }\n                                                        label={localize('Choose the document type')}\n                                                        placeholder={localize('Please select')}\n                                                        list_items={document_list}\n                                                        value={values.document_type.text}\n                                                        onChange={e => {\n                                                            handleChange(e);\n                                                            const selected_document = getDocument(e.target.value);\n                                                            bindDocumentData(selected_document);\n                                                        }}\n                                                        use_text={true}\n                                                        required\n                                                    />\n                                                )}\n                                            </React.Fragment>\n                                        )}\n                                    </Field>\n                                </fieldset>\n                                {values?.document_type?.id !== IDV_NOT_APPLICABLE_OPTION.id && (\n                                    <React.Fragment>\n                                        <fieldset\n                                            className={clsx('additional-field', {\n                                                'proof-of-identity__fieldset-input': !hide_hint,\n                                            })}\n                                        >\n                                            <Field name='document_number'>\n                                                {({ field }: FieldProps) => (\n                                                    <Input\n                                                        {...field}\n                                                        name='document_number'\n                                                        bottom_label={\n                                                            values.document_type &&\n                                                            getExampleFormat(values.document_type.example_format ?? '')\n                                                        }\n                                                        disabled={!values.document_type.id}\n                                                        error={\n                                                            (values.document_type.id &&\n                                                                touched.document_number &&\n                                                                errors.document_number) ||\n                                                            errors.error_message\n                                                        }\n                                                        autoComplete='off'\n                                                        placeholder={generatePlaceholderText(selected_doc)}\n                                                        value={values.document_number}\n                                                        onPaste={preventEmptyClipboardPaste}\n                                                        onBlur={handleBlur}\n                                                        onChange={handleChange}\n                                                        onKeyUp={(e: { target: HTMLInputElement }) =>\n                                                            onKeyUp(e, 'document_number')\n                                                        }\n                                                        required\n                                                        label={\n                                                            values.document_type.id &&\n                                                            generatePlaceholderText(selected_doc)\n                                                        }\n                                                    />\n                                                )}\n                                            </Field>\n                                        </fieldset>\n                                        {values.document_type.additional?.display_name && (\n                                            <fieldset className='additional-field'>\n                                                <Field name='document_additional'>\n                                                    {({ field }: FieldProps) => {\n                                                        const additional_document_placeholder = localize(\n                                                            'Enter your {{document_name}}',\n                                                            {\n                                                                document_name:\n                                                                    values.document_type?.additional?.display_name?.toLowerCase() ??\n                                                                    localize('additional document number'),\n                                                            }\n                                                        );\n                                                        return (\n                                                            <Input\n                                                                {...field}\n                                                                name='document_additional'\n                                                                bottom_label={\n                                                                    values.document_type.additional &&\n                                                                    getExampleFormat(\n                                                                        values.document_type.additional?.example_format\n                                                                    )\n                                                                }\n                                                                disabled={!values.document_type.id}\n                                                                error={\n                                                                    (touched.document_additional &&\n                                                                        errors.document_additional) ||\n                                                                    errors.error_message\n                                                                }\n                                                                autoComplete='off'\n                                                                placeholder={additional_document_placeholder}\n                                                                value={values.document_additional}\n                                                                onPaste={preventEmptyClipboardPaste}\n                                                                onBlur={handleBlur}\n                                                                onChange={handleChange}\n                                                                onKeyUp={(e: { target: HTMLInputElement }) =>\n                                                                    onKeyUp(e, 'document_additional')\n                                                                }\n                                                                required\n                                                            />\n                                                        );\n                                                    }}\n                                                </Field>\n                                            </fieldset>\n                                        )}\n                                    </React.Fragment>\n                                )}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </section>\n    );\n};\n\nexport default IDVForm;\n","import IdvDocumentSubmit from './idv-document-submit';\n\nexport default IdvDocumentSubmit;\n","import React from 'react';\nimport clsx from 'clsx';\nimport { Form, Formik, FormikErrors, FormikHelpers } from 'formik';\nimport { Button, HintBox, Text } from '@deriv/components';\nimport { Localize, localize } from '@deriv/translations';\nimport {\n    filterObjProperties,\n    formatIDVFormValues,\n    getIDVNotApplicableOption,\n    removeEmptyPropertiesFromObject,\n    toMoment,\n    WS,\n} from '@deriv/shared';\nimport { observer, useStore } from '@deriv/stores';\nimport { useDevice } from '@deriv-com/ui';\nimport {\n    isAdditionalDocumentValid,\n    isDocumentNumberValid,\n    isDocumentTypeValid,\n    makeSettingsRequest,\n    shouldHideHelperImage,\n    validate,\n    validateName,\n} from '../../../Helpers/utils';\nimport { DerivLightNameDobPoiIcon } from '@deriv/quill-icons';\nimport IDVForm from '../../forms/idv-form';\nimport PersonalDetailsForm from '../../forms/personal-details-form';\nimport FormBody from '../../form-body';\nimport FormFooter from '../../form-footer';\nimport FormSubHeader from '../../form-sub-header';\nimport { ResidenceList } from '@deriv/api-types';\nimport {\n    CLAIMED_DOCUMENT_ERROR_MESSAGE,\n    DUPLICATE_ACCOUNT_ERROR_MESSAGE,\n    GENERIC_ERROR_MESSAGE,\n} from '../../../Configs/poi-error-config';\nimport { TIDVFormValues, TConfirmPersonalDetailsForm } from 'Types';\nimport { API_ERROR_CODES } from '../../../Constants/api-error-codes';\n\ntype TIDVDocumentSubmitProps = {\n    handleBack: React.MouseEventHandler;\n    handleViewComplete: () => void;\n    selected_country: ResidenceList[0];\n    getChangeableFields: () => Array<string>;\n    handleSelectionNext?: (should_show_manual: boolean) => void;\n};\n\nexport type TIdvDocumentSubmitForm = TIDVFormValues & TConfirmPersonalDetailsForm;\n\nconst IdvDocumentSubmit = observer(\n    ({ handleBack, handleViewComplete, handleSelectionNext, selected_country }: TIDVDocumentSubmitProps) => {\n        const { client } = useStore();\n        const { account_settings, getChangeableFields } = client;\n        const { isDesktop } = useDevice();\n\n        const IDV_NOT_APPLICABLE_OPTION = React.useMemo(() => getIDVNotApplicableOption(), []);\n        const shouldSkipIdv = (document_id?: string) => document_id === IDV_NOT_APPLICABLE_OPTION.id;\n        const visible_settings = ['first_name', 'last_name', 'date_of_birth'];\n        const side_note_image = <DerivLightNameDobPoiIcon height='195px' width='285px' />;\n\n        const form_initial_values = filterObjProperties(account_settings, visible_settings) as {\n            [Property in keyof TConfirmPersonalDetailsForm]: string;\n        };\n\n        if (form_initial_values.date_of_birth) {\n            form_initial_values.date_of_birth = toMoment(form_initial_values.date_of_birth).format('YYYY-MM-DD');\n        }\n\n        const changeable_fields = getChangeableFields();\n\n        const initial_values: TIdvDocumentSubmitForm = {\n            document_type: {\n                id: '',\n                text: '',\n                value: '',\n                example_format: '',\n            },\n            document_number: '',\n            ...form_initial_values,\n            confirmation_checkbox: false,\n        };\n\n        const validateFields = (values: TIdvDocumentSubmitForm) => {\n            const errors: FormikErrors<Record<keyof TIdvDocumentSubmitForm, string>> = {};\n            const { document_type, document_number, document_additional } = values;\n\n            if (shouldSkipIdv(document_type.id)) {\n                return errors;\n            }\n\n            const needs_additional_document = !!document_type.additional;\n\n            errors.document_type = isDocumentTypeValid(document_type);\n            if (!shouldHideHelperImage(document_type?.id)) {\n                if (needs_additional_document) {\n                    errors.document_additional = isAdditionalDocumentValid(document_type, document_additional);\n                }\n                errors.document_number = isDocumentNumberValid(document_number, document_type);\n            }\n            const required_fields = ['first_name', 'last_name', 'date_of_birth'];\n            const validateValues = validate(errors, values);\n            validateValues(val => val, required_fields, localize('This field is required'));\n\n            if (values.first_name) {\n                errors.first_name = validateName(values.first_name);\n            }\n            if (values.last_name) {\n                errors.last_name = validateName(values.last_name);\n            }\n\n            if (!values.confirmation_checkbox) {\n                errors.confirmation_checkbox = 'error';\n            }\n\n            return removeEmptyPropertiesFromObject(errors);\n        };\n\n        const submitHandler = async (\n            values: TIdvDocumentSubmitForm,\n            { setSubmitting, setStatus }: FormikHelpers<TIdvDocumentSubmitForm>\n        ) => {\n            if (shouldSkipIdv(values?.document_type?.id)) {\n                handleSelectionNext?.(true);\n                return;\n            }\n\n            setSubmitting(true);\n\n            const request = makeSettingsRequest(values, changeable_fields);\n\n            const data = await WS.setSettings(request);\n\n            if (data?.error) {\n                const response_error =\n                    data.error?.code === API_ERROR_CODES.DUPLICATE_ACCOUNT\n                        ? DUPLICATE_ACCOUNT_ERROR_MESSAGE\n                        : GENERIC_ERROR_MESSAGE;\n                setStatus({ error_message: response_error });\n                setSubmitting(false);\n                return;\n            }\n            const get_settings = await WS.authorized.storage.getSettings();\n            if (get_settings?.error) {\n                setStatus({ error_message: get_settings?.error?.message ?? GENERIC_ERROR_MESSAGE });\n                setSubmitting(false);\n                return;\n            }\n\n            const submit_data = {\n                identity_verification_document_add: 1,\n                ...formatIDVFormValues(values, selected_country.value as string),\n            };\n\n            const idv_update_response = await WS.send(submit_data);\n\n            if (idv_update_response?.error) {\n                const response_error =\n                    idv_update_response.error?.code === API_ERROR_CODES.CLAIMED_DOCUMENT\n                        ? CLAIMED_DOCUMENT_ERROR_MESSAGE\n                        : (idv_update_response.error?.message ?? GENERIC_ERROR_MESSAGE);\n                setStatus({ error_message: response_error });\n                setSubmitting(false);\n                return;\n            }\n            setSubmitting(false);\n            handleViewComplete();\n        };\n\n        return (\n            <Formik\n                initialValues={{ ...initial_values }}\n                validate={validateFields}\n                onSubmit={submitHandler}\n                enableReinitialize\n            >\n                {({ dirty, isSubmitting, isValid, values, status }) => {\n                    const should_skip_idv = shouldSkipIdv(values?.document_type?.id);\n                    const is_button_disabled = should_skip_idv ? false : !dirty || isSubmitting || !isValid;\n                    const getButtonText = () =>\n                        should_skip_idv ? (\n                            <Localize i18n_default_text='Next' />\n                        ) : (\n                            <Localize i18n_default_text='Verify' />\n                        );\n                    return (\n                        <Form\n                            className={clsx('proof-of-identity__container proof-of-identity__container--reset', {\n                                'min-height': shouldSkipIdv(values?.document_type?.id),\n                            })}\n                        >\n                            {status?.error_message && (\n                                <div className='account-form__poi-confirm-example--generic-error-msg'>\n                                    <HintBox\n                                        icon='IcAlertDanger'\n                                        message={\n                                            <Text as='p' size='xxxs'>\n                                                {status.error_message}\n                                            </Text>\n                                        }\n                                        is_danger\n                                        className='hint-box-layout'\n                                    />\n                                </div>\n                            )}\n                            <FormBody className='form-body' scroll_offset={isDesktop ? '80px' : '180px'}>\n                                <FormSubHeader title={localize('Identity verification')} />\n                                <IDVForm selected_country={selected_country} class_name='idv-layout' />\n                                {!shouldSkipIdv(values?.document_type?.id) && (\n                                    <React.Fragment>\n                                        <FormSubHeader title={localize('Details')} />\n                                        <PersonalDetailsForm\n                                            class_name='account-form__poi-confirm-example_container'\n                                            is_rendered_for_idv\n                                            editable_fields={values.confirmation_checkbox ? [] : changeable_fields}\n                                            side_note={side_note_image}\n                                            inline_note_text={\n                                                <Localize\n                                                    i18n_default_text='To avoid delays, enter your <0>name</0> and <0>date of birth</0> exactly as they appear on your identity document.'\n                                                    components={[<strong key={0} />]}\n                                                />\n                                            }\n                                        />\n                                    </React.Fragment>\n                                )}\n                            </FormBody>\n                            <FormFooter className='proof-of-identity__footer '>\n                                {isDesktop && (\n                                    <Button\n                                        className='back-btn'\n                                        onClick={handleBack}\n                                        type='button'\n                                        has_effect\n                                        large\n                                        secondary\n                                    >\n                                        <Localize i18n_default_text='Back' />\n                                    </Button>\n                                )}\n                                <Button\n                                    className='proof-of-identity__submit-button'\n                                    type='submit'\n                                    has_effect\n                                    is_disabled={is_button_disabled}\n                                    large\n                                    primary\n                                >\n                                    {getButtonText()}\n                                </Button>\n                            </FormFooter>\n                        </Form>\n                    );\n                }}\n            </Formik>\n        );\n    }\n);\n\nexport default IdvDocumentSubmit;\n","import IdvRejected from './idv-failed';\n\nexport default IdvRejected;\n","import React from 'react';\nimport clsx from 'clsx';\nimport { Form, Formik, FormikHelpers, FormikValues } from 'formik';\nimport { GetAccountStatus, GetSettings, ResidenceList } from '@deriv/api-types';\nimport { Button, HintBox, Loading, Text } from '@deriv/components';\nimport {\n    filterObjProperties,\n    getIDVNotApplicableOption,\n    IDV_ERROR_STATUS,\n    isEmptyObject,\n    removeEmptyPropertiesFromObject,\n    TIDVErrorStatus,\n    toMoment,\n    WS,\n} from '@deriv/shared';\nimport { useStore } from '@deriv/stores';\nimport { Localize, localize } from '@deriv/translations';\nimport { DerivLightNameDobPoiIcon } from '@deriv/quill-icons';\nimport FormBody from '../../../form-body';\nimport IDVForm from '../../../forms/idv-form';\nimport FormFooter from '../../../form-footer';\nimport FormSubHeader from '../../../form-sub-header';\nimport PersonalDetailsForm from '../../../forms/personal-details-form.jsx';\nimport {\n    isAdditionalDocumentValid,\n    isDocumentNumberValid,\n    isDocumentTypeValid,\n    makeSettingsRequest,\n    shouldHideHelperImage,\n    validate,\n    validateName,\n} from '../../../../Helpers/utils';\nimport {\n    GENERIC_ERROR_MESSAGE,\n    DUPLICATE_ACCOUNT_ERROR_MESSAGE,\n    CLAIMED_DOCUMENT_ERROR_MESSAGE,\n    generateIDVError,\n} from '../../../../Configs/poi-error-config';\nimport { API_ERROR_CODES } from '../../../../Constants/api-error-codes';\nimport { TIDVFormValues, TConfirmPersonalDetailsForm } from '../../../../Types';\nimport LoadErrorMessage from '../../../load-error-message';\nimport { TIdvDocumentSubmitForm } from '../../idv-document-submit/idv-document-submit';\nimport { useDevice } from '@deriv-com/ui';\n\ntype TRestState = {\n    api_error: string;\n    errors?: boolean;\n    form_initial_values: TIdvFailedForm;\n    changeable_fields: string[];\n};\n\ntype TIdvFailed = {\n    account_settings: GetSettings;\n    getChangeableFields: () => string[];\n    handleSubmit: () => void;\n    is_from_external: boolean;\n    mismatch_status: TIDVErrorStatus;\n    residence_list: ResidenceList;\n    latest_status: DeepRequired<GetAccountStatus>['authentication']['attempts']['latest'];\n    selected_country?: ResidenceList[0];\n    handleSelectionNext?: (should_show_manual: boolean) => void;\n};\n\ntype TIDVFailureConfig = {\n    required_fields: string[];\n    side_note_image: JSX.Element;\n    failure_message: React.ReactNode;\n    inline_note_text: React.ReactNode;\n};\n\ntype TIdvFailedForm = Partial<TIDVFormValues> & Partial<TConfirmPersonalDetailsForm>;\n\nconst IdvFailed = ({\n    getChangeableFields,\n    is_from_external,\n    residence_list,\n    account_settings,\n    handleSubmit,\n    mismatch_status = IDV_ERROR_STATUS.Failed.code,\n    latest_status,\n    selected_country,\n    handleSelectionNext,\n}: TIdvFailed) => {\n    const { client } = useStore();\n    const { setIsAlreadyAttempted } = client;\n    const { isMobile, isDesktop } = useDevice();\n\n    const [idv_failure, setIdvFailure] = React.useState<TIDVFailureConfig>({\n        required_fields: [],\n        side_note_image: <DerivLightNameDobPoiIcon height='195px' width='285px' />,\n        failure_message: null,\n        inline_note_text: null,\n    });\n    const [is_loading, setIsLoading] = React.useState(true);\n    const [rest_state, setRestState] = React.useState<TRestState>({\n        api_error: '',\n        errors: false,\n        form_initial_values: {},\n        changeable_fields: [],\n    });\n\n    // Document upload not required for the below error codes\n    const is_document_upload_required = React.useMemo(\n        () =>\n            ![\n                IDV_ERROR_STATUS.DobMismatch.code,\n                IDV_ERROR_STATUS.NameMismatch.code,\n                IDV_ERROR_STATUS.NameDobMismatch.code,\n            ].includes(mismatch_status),\n        [mismatch_status]\n    );\n\n    /**\n     * If user needs to resubmit IDV document, the country should be the new selected country\n     * If user needs to update Personal info, the country should be the country of the latest status\n     */\n    const chosen_country = React.useMemo(\n        () =>\n            is_document_upload_required && !is_from_external\n                ? selected_country ?? {}\n                : residence_list.find(residence_data => residence_data.value === latest_status?.country_code) ?? {},\n        [selected_country, is_document_upload_required, latest_status?.country_code, residence_list, is_from_external]\n    );\n\n    const IDV_NOT_APPLICABLE_OPTION = React.useMemo(() => getIDVNotApplicableOption(), []);\n    const shouldSkipIdv = (document_id?: string) => document_id === IDV_NOT_APPLICABLE_OPTION.id;\n\n    React.useEffect(() => {\n        const initializeFormValues = async (required_fields: string[]) => {\n            await WS?.wait('get_settings');\n            const form_data = filterObjProperties(account_settings, required_fields);\n            if (form_data.date_of_birth) {\n                form_data.date_of_birth = toMoment(form_data.date_of_birth).format('YYYY-MM-DD');\n            }\n            // Remove the checkbox value as it is used only for moving cursor to the error field\n            form_data.confirmation_checkbox = false;\n            let initial_form_values = form_data;\n            if (is_document_upload_required) {\n                initial_form_values = {\n                    document_type: {\n                        id: '',\n                        text: '',\n                        value: '',\n                        example_format: '',\n                        sample_image: '',\n                    },\n                    document_number: '',\n                    ...initial_form_values,\n                };\n            }\n            setRestState({\n                form_initial_values: { ...initial_form_values },\n                changeable_fields: [...getChangeableFields()],\n                api_error: '',\n            });\n            setIsLoading(false);\n        };\n\n        setIsAlreadyAttempted(true);\n\n        const error_config = generateIDVError(\n            is_document_upload_required,\n            latest_status,\n            chosen_country,\n            mismatch_status\n        );\n        setIdvFailure(error_config);\n        initializeFormValues(error_config?.required_fields ?? []).catch(e => {\n            setRestState({\n                form_initial_values: {},\n                changeable_fields: [],\n                api_error: e?.error?.message,\n            });\n        });\n    }, [\n        mismatch_status,\n        account_settings,\n        is_document_upload_required,\n        getChangeableFields,\n        generateIDVError,\n        setIsAlreadyAttempted,\n    ]);\n\n    const onSubmit = async (values: TIdvFailedForm, { setStatus, setSubmitting }: FormikHelpers<TIdvFailedForm>) => {\n        if (shouldSkipIdv(values?.document_type?.id)) {\n            handleSelectionNext?.(true);\n            return;\n        }\n\n        delete values.confirmation_checkbox;\n        setSubmitting(true);\n        setStatus({ error_msg: null });\n        const { document_number, document_type } = values;\n        const request = makeSettingsRequest(\n            values,\n            rest_state?.changeable_fields ? [...rest_state.changeable_fields] : []\n        );\n        const data = await WS.setSettings(request);\n\n        if (data.error) {\n            const response_error =\n                data.error?.code === API_ERROR_CODES.DUPLICATE_ACCOUNT\n                    ? DUPLICATE_ACCOUNT_ERROR_MESSAGE\n                    : GENERIC_ERROR_MESSAGE;\n            setStatus({ error_msg: response_error });\n            setSubmitting(false);\n        } else {\n            const response = await WS.authorized.storage.getSettings();\n            if (response.error) {\n                setRestState(prev_state => ({ ...prev_state, api_error: response.error.message }));\n                setSubmitting(false);\n                return;\n            }\n            const submit_data = {\n                identity_verification_document_add: 1,\n                document_number,\n                document_type: document_type?.id,\n                issuing_country: chosen_country.value,\n            };\n\n            if (!submit_data.document_type || shouldSkipIdv(submit_data.document_type)) {\n                setSubmitting(false);\n                handleSubmit();\n                return;\n            }\n            const idv_update_response = await WS.send(submit_data);\n            if (idv_update_response?.error) {\n                const response_error =\n                    idv_update_response.error?.code === API_ERROR_CODES.CLAIMED_DOCUMENT\n                        ? CLAIMED_DOCUMENT_ERROR_MESSAGE\n                        : idv_update_response?.error?.message ?? GENERIC_ERROR_MESSAGE;\n                setStatus({ error_msg: response_error });\n                setSubmitting(false);\n                return;\n            }\n            setSubmitting(false);\n            handleSubmit();\n        }\n    };\n\n    const validateFields = (values: TIdvFailedForm) => {\n        const errors: Record<string, unknown> = {};\n        if (is_document_upload_required) {\n            const { document_type, document_number, document_additional } = values;\n\n            if (shouldSkipIdv(document_type?.id)) {\n                return errors;\n            }\n\n            const needs_additional_document = !!document_type?.additional;\n            errors.document_type = isDocumentTypeValid(document_type as FormikValues);\n            if (!shouldHideHelperImage(document_type?.id as string)) {\n                if (needs_additional_document) {\n                    errors.document_additional = isAdditionalDocumentValid(document_type, document_additional);\n                }\n                errors.document_number = isDocumentNumberValid(document_number ?? '', document_type as FormikValues);\n            }\n        }\n\n        const validateValues = validate(errors as Record<string, string>, values);\n\n        validateValues(val => val, idv_failure?.required_fields ?? [], localize('This field is required'));\n\n        if (values.first_name) {\n            errors.first_name = validateName(values.first_name);\n        }\n        if (values.last_name) {\n            errors.last_name = validateName(values.last_name);\n        }\n\n        if (!values.confirmation_checkbox) {\n            errors.confirmation_checkbox = 'error';\n        }\n\n        setRestState(prev_state => ({\n            ...prev_state,\n            errors: !isEmptyObject(removeEmptyPropertiesFromObject(errors)),\n        }));\n\n        return removeEmptyPropertiesFromObject(errors);\n    };\n\n    if (rest_state?.api_error) return <LoadErrorMessage error_message={rest_state.api_error} />;\n\n    if (is_loading && Object.keys(rest_state?.form_initial_values ?? {}).length === 0) {\n        return <Loading is_fullscreen={false} className='account__initial-loader' />;\n    }\n\n    const setScrollOffset = () => {\n        if (!isDesktop) {\n            if (is_from_external) {\n                return '140px';\n            }\n            return '180px';\n        }\n        return '80px';\n    };\n\n    const buttonText = (is_idv_skipping: boolean) => {\n        if (is_idv_skipping) return localize('Next');\n        if (is_document_upload_required) return localize('Verify');\n        return localize('Update profile');\n    };\n\n    return (\n        <Formik\n            initialValues={rest_state?.form_initial_values ?? {}}\n            onSubmit={onSubmit}\n            validate={validateFields}\n            className='proof-of-identity__container'\n        >\n            {({ isSubmitting, isValid, dirty, status, values }) => (\n                <Form\n                    className={clsx('proof-of-identity__mismatch-container', {\n                        'upload-layout': is_document_upload_required,\n                        'min-height': shouldSkipIdv(values?.document_type?.id),\n                    })}\n                >\n                    <FormBody className='form-body' scroll_offset={setScrollOffset()}>\n                        <Text size={isMobile ? 'xs' : 's'} weight='bold' align='center'>\n                            <Localize i18n_default_text='Your identity verification failed because:' />\n                        </Text>\n                        {(status?.error_msg || idv_failure?.failure_message) && (\n                            <HintBox\n                                className={clsx('proof-of-identity__failed-message', 'hint-box-layout')}\n                                icon='IcAlertDanger'\n                                message={\n                                    <Text as='p' size={isMobile ? 'xxs' : 'xs'} data-testid={mismatch_status}>\n                                        {status?.error_msg ?? idv_failure?.failure_message}\n                                    </Text>\n                                }\n                                is_danger\n                            />\n                        )}\n                        {is_document_upload_required && (\n                            <div>\n                                <Text size='xs' align={isMobile ? 'left' : 'center'}>\n                                    <Localize i18n_default_text='Let’s try again. Choose another document and enter the corresponding details.' />\n                                </Text>\n                                <FormSubHeader title={localize('Identity verification')} />\n                                <IDVForm selected_country={chosen_country} class_name='idv-layout idv-resubmit' />\n                                {!shouldSkipIdv(values?.document_type?.id) && (\n                                    <FormSubHeader title={localize('Details')} />\n                                )}\n                            </div>\n                        )}\n                        {!shouldSkipIdv(values?.document_type?.id) && (\n                            <PersonalDetailsForm\n                                class_name='account-form__poi-confirm-example_container'\n                                editable_fields={values.confirmation_checkbox ? [] : rest_state?.changeable_fields}\n                                is_rendered_for_idv\n                                side_note={idv_failure?.side_note_image}\n                                inline_note_text={idv_failure?.inline_note_text}\n                                mismatch_status={mismatch_status}\n                            />\n                        )}\n                    </FormBody>\n                    <FormFooter className='proof-of-identity__footer'>\n                        <Button\n                            className='proof-of-identity__submit-button'\n                            type='submit'\n                            has_effect\n                            is_disabled={!dirty || isSubmitting || !isValid}\n                            text={buttonText(shouldSkipIdv(values?.document_type?.id))}\n                            large\n                            primary\n                        />\n                    </FormFooter>\n                </Form>\n            )}\n        </Formik>\n    );\n};\n\nexport default IdvFailed;\n","import React from 'react';\nimport { formatIDVError, WS, IDV_ERROR_STATUS, POIContext, isIDVReportNotAvailable } from '@deriv/shared';\nimport { observer, useStore } from '@deriv/stores';\nimport CountrySelector from '../../../Components/poi/poi-country-selector';\nimport IdvDocumentSubmit from '../../../Components/poi/idv-document-submit';\nimport IdvFailed from '../../../Components/poi/idv-status/idv-failed';\nimport IdvSubmitComplete from '../../../Components/poi/idv-status/idv-submit-complete';\nimport Unsupported from '../../../Components/poi/status/unsupported';\nimport UploadComplete from '../../../Components/poi/status/upload-complete';\nimport OnfidoSdkViewContainer from './onfido-sdk-view-container';\nimport { identity_status_codes, submission_status_code, service_code } from './proof-of-identity-utils';\n\nconst POISubmission = observer(\n    ({\n        allow_poi_resubmission,\n        has_require_submission,\n        height,\n        identity_last_attempt,\n        idv,\n        is_from_external,\n        is_idv_disallowed,\n        needs_poa,\n        onfido,\n        onStateChange,\n        redirect_button,\n        residence_list,\n        should_show_mismatch_form,\n    }) => {\n        const {\n            submission_service,\n            setSubmissionService,\n            submission_status,\n            setSubmissionStatus,\n            selected_country,\n            setSelectedCountry,\n        } = React.useContext(POIContext);\n\n        const { client, notifications } = useStore();\n\n        const { account_settings, getChangeableFields, account_status } = client;\n        const { refreshNotifications } = notifications;\n        const is_high_risk = account_status.risk_classification === 'high';\n\n        const handleSelectionNext = (should_show_manual = false) => {\n            if (Object.keys(selected_country).length) {\n                const { submissions_left: idv_submissions_left } = idv;\n                const { submissions_left: onfido_submissions_left } = onfido;\n                const is_idv_supported = selected_country.identity.services.idv.is_country_supported;\n                const is_onfido_supported =\n                    selected_country.identity.services.onfido.is_country_supported && selected_country.value !== 'ng';\n\n                if (!should_show_manual && is_idv_supported && Number(idv_submissions_left) > 0 && !is_idv_disallowed) {\n                    setSubmissionService(service_code.idv);\n                } else if (!should_show_manual && Number(onfido_submissions_left) > 0 && is_onfido_supported) {\n                    setSubmissionService(service_code.onfido);\n                } else {\n                    setSubmissionService(service_code.manual);\n                }\n                setSubmissionStatus(submission_status_code.submitting);\n            }\n        };\n\n        const handleViewComplete = () => {\n            if (onStateChange && typeof onStateChange === 'function') {\n                onStateChange(identity_status_codes.pending);\n            }\n            setSubmissionStatus(submission_status_code.complete);\n\n            WS.authorized.getAccountStatus().then(() => {\n                refreshNotifications();\n            });\n        };\n\n        const handleBack = () => setSubmissionStatus(submission_status_code.selecting);\n\n        const getCountryFromResidence = React.useCallback(\n            country_code => residence_list.find(residence => residence.value === country_code),\n            [residence_list]\n        );\n\n        const needs_resubmission = has_require_submission || allow_poi_resubmission;\n        const is_report_not_available = isIDVReportNotAvailable(idv);\n        const mismatch_status = formatIDVError(idv.last_rejected, idv.status, is_high_risk, is_report_not_available);\n\n        const setIdentityService = React.useCallback(\n            identity_last_attempt => {\n                const { service, country_code } = identity_last_attempt;\n                setSelectedCountry(getCountryFromResidence(country_code));\n                switch (service) {\n                    case service_code.idv:\n                    case service_code.onfido: {\n                        if (Number(idv.submissions_left) > 0 || Number(onfido.submissions_left) > 0) {\n                            setSubmissionStatus(submission_status_code.selecting);\n                        } else {\n                            setSubmissionService(service_code.manual);\n                            setSubmissionStatus(submission_status_code.submitting);\n                        }\n                        break;\n                    }\n                    case service_code.manual: {\n                        setSubmissionService(service_code.manual);\n                        setSubmissionStatus(submission_status_code.submitting);\n                        break;\n                    }\n                    default:\n                        break;\n                }\n            },\n            [\n                getCountryFromResidence,\n                idv.submissions_left,\n                onfido.submissions_left,\n                setSelectedCountry,\n                setSubmissionService,\n                setSubmissionStatus,\n                is_idv_disallowed,\n            ]\n        );\n\n        React.useEffect(() => {\n            if (submission_status != submission_status_code.selecting) {\n                return;\n            }\n            if (needs_resubmission && identity_last_attempt) {\n                setIdentityService(identity_last_attempt);\n            } else if (\n                mismatch_status &&\n                [\n                    IDV_ERROR_STATUS.DobMismatch.code,\n                    IDV_ERROR_STATUS.NameMismatch.code,\n                    IDV_ERROR_STATUS.NameDobMismatch.code,\n                ].includes(mismatch_status) &&\n                idv.submissions_left > 0\n            ) {\n                setSubmissionService(service_code.idv);\n                setSubmissionStatus(submission_status_code.submitting);\n            } else {\n                setSubmissionStatus(submission_status_code.selecting);\n            }\n        }, [\n            allow_poi_resubmission,\n            identity_last_attempt,\n            needs_resubmission,\n            setIdentityService,\n            submission_status,\n            idv,\n            mismatch_status,\n            setSubmissionService,\n            setSubmissionStatus,\n        ]);\n\n        switch (submission_status) {\n            case submission_status_code.selecting: {\n                return (\n                    <CountrySelector\n                        handleSelectionNext={handleSelectionNext}\n                        is_from_external={is_from_external}\n                        mismatch_status={mismatch_status}\n                    />\n                );\n            }\n\n            case submission_status_code.submitting: {\n                switch (submission_service) {\n                    case service_code.idv:\n                        return should_show_mismatch_form ? (\n                            <IdvFailed\n                                account_settings={account_settings}\n                                getChangeableFields={getChangeableFields}\n                                mismatch_status={mismatch_status}\n                                residence_list={residence_list}\n                                handleSubmit={handleViewComplete}\n                                latest_status={identity_last_attempt}\n                                selected_country={selected_country}\n                                handleSelectionNext={handleSelectionNext}\n                                report_available={!!idv?.report_available}\n                            />\n                        ) : (\n                            <IdvDocumentSubmit\n                                handleSelectionNext={handleSelectionNext}\n                                handleViewComplete={handleViewComplete}\n                                handleBack={handleBack}\n                                selected_country={selected_country}\n                            />\n                        );\n                    case service_code.onfido: {\n                        const country_code = selected_country.value;\n                        const doc_obj = selected_country.identity.services.onfido.documents_supported;\n                        const documents_supported = Object.keys(doc_obj).map(d => doc_obj[d].display_name);\n                        return (\n                            <OnfidoSdkViewContainer\n                                country_code={country_code}\n                                documents_supported={documents_supported}\n                                getChangeableFields={getChangeableFields}\n                                handleViewComplete={handleViewComplete}\n                                height={height}\n                            />\n                        );\n                    }\n                    case service_code.manual:\n                        return (\n                            <Unsupported\n                                country_code={selected_country.value}\n                                is_from_external={is_from_external}\n                                allow_poi_resubmission={allow_poi_resubmission}\n                                handleViewComplete={handleViewComplete}\n                                onfido={onfido}\n                                handleBack={handleBack}\n                                is_resubmission={needs_resubmission}\n                            />\n                        );\n                    default:\n                        return null;\n                }\n            }\n            case submission_status_code.complete: {\n                switch (submission_service) {\n                    case service_code.idv:\n                        return (\n                            <IdvSubmitComplete\n                                is_from_external={is_from_external}\n                                mismatch_status={mismatch_status}\n                                needs_poa={needs_poa}\n                                redirect_button={redirect_button}\n                            />\n                        );\n                    // This will be replaced in the next Manual Upload Project\n                    case service_code.manual:\n                        return (\n                            <UploadComplete\n                                is_from_external={is_from_external}\n                                needs_poa={needs_poa}\n                                redirect_button={redirect_button}\n                                is_manual_upload\n                            />\n                        );\n                    case service_code.onfido:\n                        return (\n                            <UploadComplete\n                                is_from_external={is_from_external}\n                                needs_poa={needs_poa}\n                                redirect_button={redirect_button}\n                            />\n                        );\n                    default:\n                        return null;\n                }\n            }\n            default:\n                return null;\n        }\n    }\n);\n\nexport default POISubmission;\n","export const populateVerificationStatus = account_status => {\n    if (!account_status || !account_status.authentication) return {};\n\n    const { attempts, document, identity, income, needs_verification } = account_status.authentication;\n\n    const identity_status = identity.status;\n    const document_status = document.status;\n    const income_status = income.status;\n\n    const allow_document_upload = account_status.status.some(status => status === 'allow_document_upload');\n    const allow_poi_resubmission = account_status.status.some(status => status === 'allow_poi_resubmission');\n    const allow_poa_resubmission = account_status.status.some(status => status === 'allow_poa_resubmission');\n    const allow_poinc_resubmission = account_status.status.some(status => status === 'allow_poinc_resubmission');\n    const is_age_verified = account_status.status.some(status => status === 'age_verification');\n    const is_fully_authenticated = account_status.status.some(status => status === 'authenticated');\n    const is_idv_disallowed = account_status.status.some(status => status === 'idv_disallowed');\n    const poa_address_mismatch = account_status.status.some(status => status === 'poa_address_mismatch');\n    const poi_expiring_soon = account_status.status.some(status => status === 'poi_expiring_soon');\n    const poa_authenticated_with_idv = account_status.status.some(status => status === 'poa_authenticated_with_idv');\n    const poa_authenticated_with_idv_photo = account_status.status.some(\n        status => status === 'poa_authenticated_with_idv_photo'\n    );\n    const poa_expiring_soon = account_status.status.some(status => status === 'poa_expiring_soon');\n    const poi_acknowledged = ['pending', 'verified'].includes(identity_status);\n    const has_poa = !(document && document.status === 'none');\n    const has_poi = !(identity && identity.status === 'none');\n    const has_poinc = !(income && income.status === 'none');\n    const has_submitted_poa = document_status === 'pending' && !allow_poa_resubmission;\n    const needs_poa =\n        !(has_submitted_poa || document_status === 'verified') ||\n        (needs_verification.length && needs_verification.includes('document'));\n    const needs_poi =\n        !poi_acknowledged || (Boolean(needs_verification.length) && needs_verification.includes('identity'));\n    const needs_poinc = needs_verification.length && needs_verification.includes('income');\n\n    const { idv, onfido, manual } = identity.services;\n    const identity_last_attempt = attempts.latest;\n    const has_attempted_idv = Boolean(attempts.history.length && attempts.history.find(h => h.service === 'idv'));\n\n    return {\n        allow_document_upload,\n        allow_poa_resubmission,\n        allow_poi_resubmission,\n        allow_poinc_resubmission,\n        has_attempted_idv,\n        has_poa,\n        has_poi,\n        has_poinc,\n        has_submitted_poa,\n        identity_last_attempt,\n        identity_status,\n        document_status,\n        income_status,\n        idv,\n        is_age_verified,\n        is_fully_authenticated,\n        is_idv_disallowed,\n        manual,\n        needs_poa,\n        needs_poi,\n        needs_poinc,\n        needs_verification,\n        onfido,\n        poa_address_mismatch,\n        poa_authenticated_with_idv,\n        poa_authenticated_with_idv_photo,\n        poi_expiring_soon,\n        poa_expiring_soon,\n    };\n};\n","import React from 'react';\nimport { useHistory } from 'react-router';\nimport { Button, Loading } from '@deriv/components';\nimport { isEmptyObject, WS, getPlatformRedirect, platforms } from '@deriv/shared';\nimport { observer, useStore } from '@deriv/stores';\nimport { identity_status_codes, service_code } from './proof-of-identity-utils';\nimport DemoMessage from '../../../Components/demo-message';\nimport ErrorMessage from '../../../Components/error-component';\nimport Expired from '../../../Components/poi/status/expired';\nimport IdvContainer from './idv.jsx';\nimport Limited from '../../../Components/poi/status/limited';\nimport { Localize } from '@deriv/translations';\nimport NotRequired from '../../../Components/poi/status/not-required';\nimport Onfido from './onfido.jsx';\nimport POISubmission from './proof-of-identity-submission.jsx';\nimport Unsupported from '../../../Components/poi/status/unsupported';\nimport UploadComplete from '../../../Components/poi/status/upload-complete';\nimport Verified from '../../../Components/poi/status/verified';\nimport { populateVerificationStatus } from '../Helpers/verification';\n\nconst ProofOfIdentityContainer = observer(\n    ({ height, is_from_external, onStateChange, getChangeableFields, updateAccountStatus }) => {\n        const history = useHistory();\n        const [api_error, setAPIError] = React.useState();\n        const [has_require_submission, setHasRequireSubmission] = React.useState(false);\n        const [residence_list, setResidenceList] = React.useState([]);\n        const [is_status_loading, setStatusLoading] = React.useState(true);\n\n        const { client, common, notifications } = useStore();\n\n        const {\n            account_settings,\n            account_status,\n            fetchResidenceList,\n            is_switching,\n            is_high_risk,\n            is_withdrawal_lock,\n            should_allow_authentication,\n            is_virtual,\n        } = client;\n        const { app_routing_history, routeBackInApp, is_language_changing } = common;\n        const { refreshNotifications } = notifications;\n\n        const from_platform = getPlatformRedirect(app_routing_history);\n\n        const should_show_redirect_btn = Object.keys(platforms).includes(from_platform?.ref);\n\n        const routeBackTo = redirect_route => routeBackInApp(history, [redirect_route]);\n        const handleRequireSubmission = () => setHasRequireSubmission(true);\n        const country_code = account_settings?.citizen || account_settings?.country_code;\n\n        const handleManualSubmit = () => {\n            WS.authorized.getAccountStatus().then(() => {\n                refreshNotifications();\n            });\n        };\n\n        const loadResidenceList = React.useCallback(() => {\n            fetchResidenceList().then(response_residence_list => {\n                if (response_residence_list.error) {\n                    setAPIError(response_residence_list.error);\n                } else {\n                    setResidenceList(response_residence_list.residence_list);\n                }\n            });\n        }, [fetchResidenceList]);\n\n        React.useEffect(() => {\n            if (is_language_changing) {\n                loadResidenceList();\n            }\n        }, [is_language_changing, loadResidenceList]);\n\n        React.useEffect(() => {\n            // only re-mount logic when switching is done\n            if (!is_switching) {\n                setAPIError(null);\n                WS.authorized.getAccountStatus().then(response_account_status => {\n                    if (response_account_status.error) {\n                        setAPIError(response_account_status.error);\n                        setStatusLoading(false);\n                        return;\n                    }\n                    loadResidenceList();\n                    setStatusLoading(false);\n                });\n            }\n        }, [loadResidenceList, is_switching]);\n\n        if (api_error) {\n            return <ErrorMessage error_message={api_error?.message || api_error} />;\n        } else if (is_status_loading || is_switching || isEmptyObject(account_status) || residence_list.length === 0) {\n            /**\n             * Display loader while waiting for the account status and residence list to be populated\n             */\n            return <Loading is_fullscreen={false} />;\n        } else if (is_virtual) {\n            return <DemoMessage />;\n        }\n\n        const verification_status = populateVerificationStatus(account_status);\n        const {\n            identity,\n            idv,\n            allow_poi_resubmission,\n            identity_last_attempt,\n            identity_status,\n            is_age_verified,\n            is_idv_disallowed,\n            manual,\n            needs_poa,\n            onfido,\n            poi_expiring_soon,\n        } = verification_status;\n        const should_ignore_idv = is_high_risk && is_withdrawal_lock;\n\n        if (!should_allow_authentication && !is_age_verified && !poi_expiring_soon) {\n            return <NotRequired />;\n        }\n        const onClickRedirectButton = () => {\n            const platform = platforms[from_platform.ref];\n            const { is_hard_redirect = false, url = '' } = platform ?? {};\n            if (is_hard_redirect) {\n                window.location.href = url;\n                window.sessionStorage.removeItem('config.platform');\n            } else {\n                routeBackTo(from_platform.route);\n            }\n        };\n\n        const redirect_button = should_show_redirect_btn && (\n            <Button primary className='proof-of-identity__redirect' onClick={onClickRedirectButton}>\n                <Localize\n                    i18n_default_text='Back to {{platform_name}}'\n                    values={{ platform_name: from_platform.name }}\n                />\n            </Button>\n        );\n        const should_show_mismatch_form =\n            identity_status != identity_status_codes.verified &&\n            idv.submissions_left > 0 &&\n            [identity_status_codes.rejected, identity_status_codes.suspected, identity_status_codes.expired].includes(\n                idv.status\n            );\n\n        if (\n            identity_status === identity_status_codes.none ||\n            has_require_submission ||\n            allow_poi_resubmission ||\n            should_show_mismatch_form ||\n            poi_expiring_soon\n        ) {\n            return (\n                <POISubmission\n                    account_settings={account_settings}\n                    allow_poi_resubmission={allow_poi_resubmission}\n                    has_require_submission={has_require_submission}\n                    height={height ?? null}\n                    getChangeableFields={getChangeableFields}\n                    identity_last_attempt={identity_last_attempt}\n                    idv={idv}\n                    is_from_external={!!is_from_external}\n                    is_idv_disallowed={is_idv_disallowed || should_ignore_idv}\n                    manual={manual}\n                    needs_poa={needs_poa}\n                    onfido={onfido}\n                    onStateChange={onStateChange}\n                    redirect_button={redirect_button}\n                    refreshNotifications={refreshNotifications}\n                    residence_list={residence_list}\n                    updateAccountStatus={updateAccountStatus}\n                    should_show_mismatch_form={should_show_mismatch_form}\n                />\n            );\n        } else if (\n            !identity_last_attempt ||\n            // Prioritise verified status from back office. How we know this is if there is mismatch between current statuses (Should be refactored)\n\n            (identity_status === identity_status_codes.verified &&\n                identity_status !== identity?.services[identity_last_attempt?.service].status)\n        ) {\n            switch (identity_status) {\n                case identity_status_codes.pending:\n                    return (\n                        <UploadComplete\n                            is_from_external={!!is_from_external}\n                            needs_poa={needs_poa}\n                            redirect_button={redirect_button}\n                            is_manual_upload={manual?.status === 'pending'}\n                        />\n                    );\n                case identity_status_codes.verified:\n                    return (\n                        <Verified\n                            is_from_external={!!is_from_external}\n                            needs_poa={needs_poa}\n                            redirect_button={redirect_button}\n                            service={identity_last_attempt?.service}\n                        />\n                    );\n                case identity_status_codes.expired:\n                    return (\n                        <Expired\n                            is_from_external={!!is_from_external}\n                            redirect_button={redirect_button}\n                            handleRequireSubmission={handleRequireSubmission}\n                        />\n                    );\n                case identity_status_codes.rejected:\n                case identity_status_codes.suspected:\n                    return <Limited handleRequireSubmission={handleRequireSubmission} />;\n                default:\n                    break;\n            }\n        }\n\n        switch (identity_last_attempt.service) {\n            case service_code.idv:\n                return (\n                    <IdvContainer\n                        account_settings={account_settings}\n                        handleRequireSubmission={handleRequireSubmission}\n                        getChangeableFields={getChangeableFields}\n                        idv={idv}\n                        is_from_external={!!is_from_external}\n                        needs_poa={needs_poa}\n                        redirect_button={redirect_button}\n                        residence_list={residence_list}\n                    />\n                );\n            case service_code.onfido:\n                return (\n                    <Onfido\n                        handleRequireSubmission={handleRequireSubmission}\n                        is_from_external={!!is_from_external}\n                        needs_poa={needs_poa}\n                        onfido={onfido}\n                        manual={manual}\n                        redirect_button={redirect_button}\n                        country_code={country_code}\n                        handleViewComplete={handleManualSubmit}\n                    />\n                );\n            case service_code.manual:\n                return (\n                    <Unsupported\n                        manual={manual}\n                        country_code={country_code}\n                        is_from_external={is_from_external}\n                        needs_poa={needs_poa}\n                        redirect_button={redirect_button}\n                        handleRequireSubmission={handleRequireSubmission}\n                        handleViewComplete={handleManualSubmit}\n                        onfido={onfido}\n                    />\n                );\n            default:\n                return null;\n        }\n    }\n);\n\nexport default ProofOfIdentityContainer;\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { AutoHeightWrapper } from '@deriv/components';\nimport ProofOfIdentityContainer from './proof-of-identity-container.jsx';\n\nconst ProofOfIdentity = ({ is_from_external, onStateChange }) => {\n    return (\n        <AutoHeightWrapper>\n            {({ setRef, height }) => (\n                <div ref={setRef} className='proof-of-identity'>\n                    <div className='proof-of-identity__main-container'>\n                        <ProofOfIdentityContainer\n                            height={height}\n                            is_from_external={is_from_external}\n                            onStateChange={onStateChange}\n                        />\n                    </div>\n                </div>\n            )}\n        </AutoHeightWrapper>\n    );\n};\n\nexport default withRouter(ProofOfIdentity);\n","import React from 'react';\n\nimport { Loading } from '@deriv/components';\nimport { useGrowthbookGetFeatureValue } from '@deriv/hooks';\nimport { ACCOUNTS_OS_POI_STATUS_URL, ACCOUNTS_OS_POI_URL, getSocketURL } from '@deriv/shared';\nimport { observer, useStore } from '@deriv/stores';\nimport { LocalStorageUtils, URLUtils, WebSocketUtils } from '@deriv-com/utils';\n\nimport { useKycAuthStatus } from '../../../hooks';\n\nimport ProofOfIdentity from './proof-of-identity';\n\nconst ProofOfIdentityFlow = observer(() => {\n    const {\n        client: { getToken, residence },\n        common: { is_from_tradershub_os },\n    } = useStore();\n    const { kyc_auth_status, isLoading: isKYCLoading } = useKycAuthStatus({ country: residence });\n    const [shouldRedirectToAccountsOSApp, isRedirectToAccountsOSAppFFLoaded] = useGrowthbookGetFeatureValue({\n        featureFlag: 'redirect_to_poi_in_accounts_os',\n    });\n    const localize_language = LocalStorageUtils.getValue<string>('i18n_language');\n    const url_lang = URLUtils.getQueryParameter('lang');\n    const i18n_language = localize_language || url_lang || 'en';\n\n    const getFormattedURL = (url_link: string) => {\n        const url = new URL(url_link);\n        const urlParams = new URLSearchParams(location.search);\n        const platformConfig = urlParams.get('platform') ?? window.sessionStorage.getItem('config.platform');\n        const platform = platformConfig ?? (is_from_tradershub_os ? 'tradershub_os' : 'deriv_app');\n\n        const params = {\n            platform,\n            appid: WebSocketUtils.getAppId(),\n            lang: i18n_language,\n            server: getSocketURL(),\n            token: getToken(),\n        };\n\n        Object.entries(params).forEach(([key, value]) => {\n            url.searchParams.append(key, value);\n        });\n\n        return url.toString();\n    };\n\n    if (isRedirectToAccountsOSAppFFLoaded && !isKYCLoading) {\n        if (shouldRedirectToAccountsOSApp && kyc_auth_status) {\n            const { identity } = kyc_auth_status;\n            const redirect_url =\n                identity.status === 'none' || identity.status === 'required'\n                    ? ACCOUNTS_OS_POI_URL\n                    : ACCOUNTS_OS_POI_STATUS_URL;\n            window.location.replace(getFormattedURL(redirect_url));\n        } else {\n            return <ProofOfIdentity />;\n        }\n    }\n\n    return <Loading is_fullscreen={false} className='account__initial-loader' />;\n});\n\nexport default ProofOfIdentityFlow;\n","import { Expired as PoaExpired } from './expired';\n\nexport default PoaExpired;\n","import { Button, Icon, Text } from '@deriv/components';\nimport { Localize } from '@deriv/translations';\nimport React from 'react';\nimport IconMessageContent from '../../../icon-message-content';\n\ntype TExpired = {\n    onClick: () => void;\n};\n\nexport const Expired = ({ onClick }: TExpired) => (\n    <div className='account-management__container'>\n        <IconMessageContent\n            message={<Localize i18n_default_text='New proof of address is needed' />}\n            text={\n                <Localize\n                    i18n_default_text='Your document for proof of address is expired. <0/>Please submit again.'\n                    components={[<br key={0} />]}\n                />\n            }\n            icon={<Icon icon='IcPoaUpload' size={128} />}\n        >\n            <Button onClick={onClick} has_effect primary>\n                <Text className='dc-btn__text' size='xs' weight='bold' as='p'>\n                    <Localize i18n_default_text='Resubmit' />\n                </Text>\n            </Button>\n        </IconMessageContent>\n    </div>\n);\n","import { NotRequired as PoaNotRequired } from './not-required';\n\nexport default PoaNotRequired;\n","import React from 'react';\nimport { Icon } from '@deriv/components';\nimport { localize } from '@deriv/translations';\nimport IconMessageContent from '../../../icon-message-content';\n\nexport const NotRequired = () => (\n    <IconMessageContent\n        message={localize('Proof of address verification not required')}\n        text={localize(\n            'Your account does not need address verification at this time. We will inform you if address verification is required in the future.'\n        )}\n        icon={<Icon icon='IcPoaVerified' size={128} />}\n    />\n);\n","import React from 'react';\nimport clsx from 'clsx';\nimport { FileDropzone, Icon, Text } from '@deriv/components';\nimport { Localize, localize } from '@deriv/translations';\nimport { getSupportedFiles, max_document_size, supported_filetypes } from '@deriv/shared';\nimport { DropzoneOptions } from 'react-dropzone';\nimport { useDevice } from '@deriv-com/ui';\nimport { TFile } from '../../Types';\n\ntype THandleRejectedFiles = DropzoneOptions['onDropRejected'];\n\ntype TFileUploaderProps = {\n    onFileDrop: (files: File[]) => void;\n    onError?: (error_message: string) => void;\n};\n\nconst UploadMessage = () => {\n    const { isDesktop, isMobile } = useDevice();\n\n    return (\n        <React.Fragment>\n            <Icon icon='IcUpload' className='dc-file-dropzone__message-icon' size={30} />\n            <div className='dc-file-dropzone__message-subtitle'>\n                <Text size='xxs' align='center' weight='bold' color='less-prominent'>\n                    {isDesktop ? (\n                        <Localize i18n_default_text='Drag and drop a file or click to browse your files.' />\n                    ) : (\n                        <Localize i18n_default_text='Click here to browse your files.' />\n                    )}\n                </Text>\n                <Text size={isMobile ? 'xxxxs' : 'xxxs'} align='center' color='less-prominent'>\n                    <Localize i18n_default_text='Remember, selfies, pictures of houses, or non-related images will be rejected.' />\n                </Text>\n            </div>\n        </React.Fragment>\n    );\n};\n\nconst FileUploader = ({ onFileDrop, onError }: TFileUploaderProps) => {\n    const [document_files, setDocumentFiles] = React.useState<File[]>([]);\n    const [file_error, setFileError] = React.useState<string | null>(null);\n\n    React.useEffect(() => {\n        if (document_files) {\n            onFileDrop(document_files);\n            onError?.('');\n        }\n    }, [document_files, onFileDrop, onError]);\n\n    const handleAcceptedFiles = (files: File[]) => {\n        if (files.length > 0) {\n            setDocumentFiles(files);\n            setFileError(null);\n            onError?.('');\n        }\n    };\n\n    const handleRejectedFiles: THandleRejectedFiles = files => {\n        const is_file_too_large = files.length > 0 && files[0].file.size > max_document_size;\n        const supported_files = files.filter(each_file => getSupportedFiles(each_file.file.name));\n        const error_message =\n            is_file_too_large && supported_files.length > 0\n                ? localize('File size should be 8MB or less')\n                : localize('File uploaded is not supported');\n\n        setDocumentFiles([]);\n        onError?.(error_message);\n        setFileError(error_message);\n    };\n\n    const removeFile = () => {\n        setDocumentFiles([]);\n        setFileError(null);\n        onError?.('');\n    };\n\n    return (\n        <React.Fragment>\n            <FileDropzone\n                accept={supported_filetypes}\n                error_message={localize('Please upload supported file type.')}\n                filename_limit={26}\n                hover_message={localize('Drop files here..')}\n                max_size={max_document_size}\n                message={<UploadMessage />}\n                multiple={false}\n                onDropAccepted={handleAcceptedFiles}\n                onDropRejected={handleRejectedFiles}\n                validation_error_message={file_error}\n                value={document_files as TFile[]}\n            />\n            {((document_files && document_files?.length > 0) || file_error) && (\n                <div className='file-uploader__remove-btn-container'>\n                    <Icon\n                        icon='IcCloseCircle'\n                        className={clsx('file-uploader__remove-btn', {\n                            'file-uploader__remove-btn--error': file_error,\n                        })}\n                        onClick={removeFile}\n                        color='secondary'\n                        data_testid='dt_remove_file_icon'\n                    />\n                </div>\n            )}\n        </React.Fragment>\n    );\n};\n\nexport default FileUploader;\n","import React from 'react';\nimport { TFilesDescription, TListItem } from '../Types';\nimport { localize, Localize } from '@deriv-com/translations';\n\nexport const getFileUploaderDescriptions = (page: string, is_eu?: boolean): TFilesDescription => {\n    const proof_of_income_descriptions = {\n        title: <Localize i18n_default_text='The document must be recent and include your name and address:' />,\n        descriptions: [\n            {\n                id: 'signed_document',\n                value: (\n                    <Localize i18n_default_text='The document must be up-to-date and signed by the issuance authority.' />\n                ),\n            },\n            {\n                id: 'contains_letterhead',\n                value: <Localize i18n_default_text='The document must contain a letterhead.' />,\n            },\n            {\n                id: 'invalid_rejected',\n                value: <Localize i18n_default_text='Invalid or incomplete documents shall be rejected.' />,\n            },\n        ],\n    };\n    const proof_of_address_descriptions = {\n        title: (\n            <Localize\n                i18n_default_text='Upload an original (unaltered) document that clearly shows your name and address, issued within the past {{expiry_in_months}} months. We accept:'\n                values={{ expiry_in_months: is_eu ? 6 : 12 }}\n            />\n        ),\n        descriptions: [\n            {\n                id: 'utility_bill',\n                value: (\n                    <Localize\n                        i18n_default_text='<0>Utility bill:</0> Electricity, water, gas, or landline phone bill.'\n                        components={[<strong key={0} />]}\n                    />\n                ),\n            },\n            {\n                id: 'financial_legal_government_document',\n                value: (\n                    <Localize\n                        i18n_default_text='<0>Financial, legal, or government document:</0> Recent bank statement, affidavit, or government-issued letter.'\n                        components={[<strong key={0} />]}\n                    />\n                ),\n            },\n            {\n                id: 'tenancy_agreement',\n                value: (\n                    <Localize\n                        i18n_default_text='<0>Tenancy agreement:</0> Valid and current agreement.'\n                        components={[<strong key={0} />]}\n                    />\n                ),\n            },\n        ],\n    };\n\n    if (page === 'poinc') return proof_of_income_descriptions;\n    if (page === 'poa') return proof_of_address_descriptions;\n    return { title: '', descriptions: [] };\n};\n\nexport const getSupportedProofOfAddressDocuments = (): Required<TListItem>[] => {\n    return [\n        {\n            value: 'utility_bill',\n            text: localize('Utility bill (electricity, water, gas)'),\n        },\n        {\n            value: 'phone_bill',\n            text: localize('Landline phone bill'),\n        },\n        {\n            value: 'bank_statement',\n            text: localize('Bank statement'),\n        },\n        {\n            value: 'affidavit',\n            text: localize('Official residence declaration or affidavit'),\n        },\n        {\n            value: 'official_letter',\n            text: localize('Official letter issued by the government or solicitor'),\n        },\n        {\n            value: 'rental_agreement',\n            text: localize('Rental/tenancy agreement'),\n        },\n        {\n            text: localize('Others'),\n            value: 'poa_others',\n        },\n    ];\n};\n","/* eslint-disable @typescript-eslint/ban-ts-comment */\n//@ts-nocheck [TODO] - Need to fix typescript errors in this file\nimport React from 'react';\nimport { Autocomplete, Loading, Text } from '@deriv/components';\nimport { Localize, useTranslations } from '@deriv-com/translations';\nimport FileUploader from './file-uploader';\nimport { useDevice } from '@deriv-com/ui';\nimport { useKycAuthStatus } from '../../hooks';\nimport { getSupportedProofOfAddressDocuments } from '../../Constants/file-uploader';\nimport { TListItem } from 'Types';\nimport { Field, FieldProps } from 'formik';\n\ntype TFileUploaderContainer = {\n    onFileDrop: (files: File[]) => void;\n    country_of_residence?: string;\n    files_description?: React.ReactNode;\n    examples?: React.ReactNode;\n    onError?: (error_message: string) => void;\n    placeholder?: string;\n};\n\nconst FileUploaderContainer = ({\n    examples,\n    files_description,\n    country_of_residence,\n    onFileDrop,\n    onError,\n    placeholder,\n}: TFileUploaderContainer) => {\n    const { isMobile } = useDevice();\n    const { localize } = useTranslations();\n    const { kyc_auth_status, isLoading } = useKycAuthStatus({ country: country_of_residence });\n    const [document_list, setDocumentList] = React.useState<Required<TListItem>[]>([]);\n\n    React.useEffect(() => {\n        if (kyc_auth_status) {\n            const { address } = kyc_auth_status;\n            const { supported_documents } = address;\n            const doc_list = getSupportedProofOfAddressDocuments().filter(doc =>\n                supported_documents?.includes(doc.value)\n            );\n            setDocumentList(doc_list);\n        }\n    }, [kyc_auth_status]);\n\n    if (isLoading) {\n        return <Loading is_fullscreen={false} />;\n    }\n\n    return (\n        <div className='file-uploader__container' data-testid='dt_file_uploader_container'>\n            {files_description}\n            {examples}\n            {country_of_residence && (\n                <React.Fragment>\n                    <Text size={isMobile ? 'xxs' : 'xs'} as='div' className='file-uploader__file-title' weight='bold'>\n                        <Localize i18n_default_text='Select the type of document:' />\n                    </Text>\n                    <Field name='document_type'>\n                        {({ field, form: { setFieldValue } }: FieldProps<string>) => (\n                            <Autocomplete\n                                {...field}\n                                data-lpignore='true'\n                                autoComplete='off'\n                                list_items={document_list}\n                                type='text'\n                                value={field.value}\n                                label={placeholder}\n                                placeholder={placeholder ?? localize('Select a document')}\n                                onItemSelection={(item: TListItem) => {\n                                    setFieldValue('document_type', item.text, true);\n                                }}\n                                required\n                            />\n                        )}\n                    </Field>\n                </React.Fragment>\n            )}\n            <Text size={isMobile ? 'xxs' : 'xs'} as='div' className='file-uploader__file-title' weight='bold'>\n                <Localize i18n_default_text='Upload file' />\n            </Text>\n            <div className='file-uploader__file-dropzone-wrapper'>\n                <FileUploader onError={onError} onFileDrop={onFileDrop} />\n            </div>\n            <div className='file-uploader__file-supported-formats'>\n                <Text size={isMobile ? 'xxxs' : 'xxs'}>\n                    <Localize i18n_default_text='Supported formats: JPEG, JPG, PNG, PDF, and GIF only' />\n                </Text>\n                <Text size={isMobile ? 'xxxs' : 'xxs'}>\n                    <Localize i18n_default_text='Maximum size: 8MB' />\n                </Text>\n            </div>\n        </div>\n    );\n};\n\nexport default FileUploaderContainer;\n","import FileUploaderContainer from './file-uploader-container';\n\nexport default FileUploaderContainer;\n","import { Text } from '@deriv/components';\nimport React from 'react';\nimport { TFilesDescription } from '../../Types';\nimport { useDevice } from '@deriv-com/ui';\n\nconst FilesDescription = ({ descriptions, title }: TFilesDescription) => {\n    const { isMobile } = useDevice();\n\n    return (\n        <div className='files-description'>\n            <Text size={isMobile ? 'xxs' : 'xs'} as='div' className='files-description__title' weight='bold'>\n                {title}\n            </Text>\n            <ul>\n                {descriptions.map(item => (\n                    <li key={item.id}>\n                        <Text size={isMobile ? 'xxs' : 'xs'} line_height={isMobile ? 'l' : 'xl'}>\n                            {item.value}\n                        </Text>\n                    </li>\n                ))}\n            </ul>\n        </div>\n    );\n};\n\nexport default FilesDescription;\n","import React from 'react';\nimport { Text } from '@deriv/components';\nimport { useDevice } from '@deriv-com/ui';\nimport { Localize } from '@deriv/translations';\nimport { useStore } from '@deriv/stores';\nimport { getExampleImagesConfig } from '../../../Configs/poa-common-mistake-examples-config';\nimport { LegacyLossIcon } from '@deriv/quill-icons';\nimport './common-mistake-examples.scss';\n\ntype TCommonMistakeExamplePartialsProps = {\n    description: JSX.Element;\n    image: React.ReactElement;\n};\n\n/**\n * Wrapper for displaying the image and description of the mistake\n * @name CommonMistakeExamplePartials\n * @param description - description of the mistake\n * @param image - Sample image\n * @returns  React.ReactElement\n */\nconst CommonMistakeExamplePartials = ({ description, image }: TCommonMistakeExamplePartialsProps) => (\n    <div className='common-mistake-examples__content-layout'>\n        {image}\n        <div className='common-mistake-examples__content-description'>\n            <LegacyLossIcon iconSize='xs' />\n            <Text size='xxxs' line_height='s' role='document'>\n                {description}\n            </Text>\n        </div>\n    </div>\n);\n\n/**\n * Displays the image and description of the mistake\n * @returns React.ReactElement\n */\nconst CommonMistakeExamples = () => {\n    const { isDesktop } = useDevice();\n    const { client } = useStore();\n    const { is_eu } = client;\n    const example_images = getExampleImagesConfig(is_eu);\n    return (\n        <React.Fragment>\n            <Text as='div' weight='bold' size={isDesktop ? 'xs' : 'xxs'} className='common-mistake-examples__title'>\n                <Localize i18n_default_text='Common mistakes' />\n            </Text>\n            <div className='common-mistake-examples__content'>\n                {example_images.map(config => (\n                    <CommonMistakeExamplePartials\n                        key={config.ref}\n                        description={config.description}\n                        image={<config.image />}\n                    />\n                ))}\n            </div>\n        </React.Fragment>\n    );\n};\n\nexport default CommonMistakeExamples;\n","import React from 'react';\nimport { Localize } from '@deriv/translations';\nimport {\n    DerivLightIcBlurryDocumentIcon,\n    DerivLightIcCroppedDocumentIcon,\n    DerivLightIcDocumentAddressMismatchIcon,\n    DerivLightIcDocumentNameMismatchIcon,\n    DerivLightIcEnvelopeIcon,\n    DerivLightIcOldIssuedDocumentMoreThan12Icon,\n    DerivLightIcOldIssuedDocumentMoreThan6Icon,\n} from '@deriv/quill-icons';\n\ntype TExampleImageConfig = {\n    image: React.ComponentType<React.SVGAttributes<SVGElement>>;\n    description: JSX.Element;\n    ref: string;\n};\n/**\n * Returns a configuration containing images and descriptions for common POA document upload mistakes\n * @returns Array of objects containing image and description\n */\nexport const getExampleImagesConfig = (is_eu: boolean): Array<TExampleImageConfig> => [\n    {\n        image: DerivLightIcDocumentNameMismatchIcon,\n        description: <Localize i18n_default_text='Name in document doesn’t match your Deriv profile.' />,\n        ref: 'name_mismatch',\n    },\n    {\n        image: DerivLightIcDocumentAddressMismatchIcon,\n        description: <Localize i18n_default_text='Address in document doesn’t match address you entered above.' />,\n        ref: 'address_mismatch',\n    },\n    {\n        ...(is_eu\n            ? {\n                  image: DerivLightIcOldIssuedDocumentMoreThan6Icon,\n                  description: <Localize i18n_default_text='Document issued more than 6-months ago.' />,\n                  ref: 'old_6_month_issued_document',\n              }\n            : {\n                  image: DerivLightIcOldIssuedDocumentMoreThan12Icon,\n                  description: <Localize i18n_default_text='Document issued more than 12-months ago.' />,\n                  ref: 'old_12_month_issued_document',\n              }),\n    },\n    {\n        image: DerivLightIcBlurryDocumentIcon,\n        description: <Localize i18n_default_text='Blurry document. All information must be clear and visible.' />,\n        ref: 'blurry_document',\n    },\n    {\n        image: DerivLightIcCroppedDocumentIcon,\n        description: <Localize i18n_default_text='Cropped document. All information must be clear and visible.' />,\n        ref: 'cropped_document',\n    },\n    {\n        image: DerivLightIcEnvelopeIcon,\n        description: <Localize i18n_default_text='An envelope with your name and address.' />,\n        ref: 'envelope',\n    },\n];\n","// Need to import React since it is used in CFD\nimport React from 'react';\nimport { useDevice } from '@deriv-com/ui';\nimport { ThemedScrollbars, FormSubmitButton, Button, InlineMessage, Modal, Text } from '@deriv/components';\nimport { observer, useStore } from '@deriv/stores';\nimport FileUploaderContainer from '../../../Components/file-uploader-container';\nimport FilesDescription from '../../../Components/file-uploader-container/files-descriptions';\nimport FormBody from '../../../Components/form-body';\nimport FormBodySection from '../../../Components/form-body-section';\nimport FormFooter from '../../../Components/form-footer';\nimport FormSubHeader from '../../../Components/form-sub-header';\nimport CommonMistakeExamples from '../../../Components/poa/common-mistakes/common-mistake-examples';\nimport { Form, useFormikContext } from 'formik';\nimport PersonalDetailsForm from '../../../Components/forms/personal-details-form.jsx';\nimport { getFileUploaderDescriptions } from '../../../Constants/file-uploader';\nimport { TPOAFormState } from '../../../Types';\nimport { useTranslations, Localize } from '@deriv-com/translations';\n\ntype TPOADesktopLayout = {\n    className?: string;\n    setOffset: (status: { msg: string }) => string;\n    is_for_cfd_modal?: boolean;\n    is_resubmit?: boolean;\n    setDocumentFiles: (files: File[]) => void;\n    document_files: File[];\n    form_state: TPOAFormState;\n};\n\nconst POADesktopLayout = observer(\n    ({\n        className,\n        setOffset,\n        is_for_cfd_modal,\n        is_resubmit,\n        setDocumentFiles,\n        document_files,\n        form_state,\n    }: TPOADesktopLayout) => {\n        const { status, handleSubmit, isSubmitting, isValid } = useFormikContext();\n        const { isDesktop } = useDevice();\n        const { client } = useStore();\n        const [file_selection_error, setFileSelectionError] = React.useState<string | null>(null);\n        const { localize } = useTranslations();\n        const { states_list, account_settings, is_eu, getChangeableFields } = client;\n        const changeable_fields = getChangeableFields();\n        const poa_uploader_files_descriptions = React.useMemo(() => getFileUploaderDescriptions('poa', is_eu), []);\n\n        return (\n            <Form noValidate className='account-form account-form_poa' onSubmit={handleSubmit}>\n                <ThemedScrollbars height='572px' is_bypassed={!is_for_cfd_modal || !isDesktop} className={className}>\n                    <FormBody scroll_offset={setOffset(status)} isFullHeight={!isDesktop}>\n                        {(status?.msg || is_resubmit) && (\n                            <InlineMessage\n                                type='error'\n                                message={\n                                    <Text as='p' size='xs'>\n                                        {!status?.msg && is_resubmit && (\n                                            <Localize i18n_default_text='We were unable to verify your address with the details you provided. Please check and resubmit or choose a different document type.' />\n                                        )}\n                                        {status?.msg}\n                                    </Text>\n                                }\n                                id='dt_poa_submit-error'\n                            />\n                        )}\n                        <FormSubHeader title={localize('Enter your address')} title_text_size='s' />\n                        <PersonalDetailsForm\n                            /* eslint-disable @typescript-eslint/ban-ts-comment */\n                            // @ts-nocheck This needs to fixed in PersonalDetailsForm\n                            is_qualified_for_poa\n                            editable_fields={changeable_fields}\n                            states_list={states_list}\n                        />\n                        <FormSubHeader title={localize('Submit your document')} title_text_size='s' />\n                        <FormBodySection>\n                            <FileUploaderContainer\n                                onFileDrop={files => {\n                                    setDocumentFiles(files);\n                                }}\n                                onError={setFileSelectionError}\n                                files_description={\n                                    <FilesDescription\n                                        title={poa_uploader_files_descriptions.title}\n                                        descriptions={poa_uploader_files_descriptions.descriptions}\n                                    />\n                                }\n                                examples={<CommonMistakeExamples />}\n                                country_of_residence={account_settings?.country_code as string}\n                                placeholder={localize('Type of document')}\n                            />\n                        </FormBodySection>\n                    </FormBody>\n                </ThemedScrollbars>\n                {is_for_cfd_modal ? (\n                    <Modal.Footer has_separator>\n                        <FormSubmitButton\n                            is_disabled={\n                                isSubmitting ||\n                                !isValid ||\n                                (document_files && document_files.length < 1) ||\n                                !!file_selection_error\n                            }\n                            label={localize('Continue')}\n                            is_loading={isSubmitting}\n                        />\n                    </Modal.Footer>\n                ) : (\n                    <FormFooter className='account-form__footer-poa'>\n                        <Button\n                            className='account-form__footer-btn'\n                            type='submit'\n                            is_disabled={\n                                isSubmitting ||\n                                !isValid ||\n                                (document_files && document_files.length < 1) ||\n                                !!file_selection_error\n                            }\n                            has_effect\n                            is_loading={form_state.is_btn_loading}\n                            is_submit_success={form_state.is_submit_success}\n                            text={localize('Save and submit')}\n                            primary\n                        />\n                    </FormFooter>\n                )}\n            </Form>\n        );\n    }\n);\n\nexport default POADesktopLayout;\n","import React from 'react';\nimport { observer, useStore } from '@deriv/stores';\nimport { Text, InlineMessage, Button } from '@deriv/components';\nimport { Localize, useTranslations } from '@deriv-com/translations';\nimport clsx from 'clsx';\nimport { useFormikContext, Form } from 'formik';\nimport FormBody from '../../../Components/form-body';\nimport PersonalDetailsForm from '../../../Components/forms/personal-details-form.jsx';\nimport { TPOAFormState } from '../../../Types';\nimport FormFooter from '../../../Components/form-footer';\nimport FileUploaderContainer from '../../../Components/file-uploader-container';\nimport FilesDescription from '../../../Components/file-uploader-container/files-descriptions';\nimport CommonMistakeExamples from '../../../Components/poa/common-mistakes/common-mistake-examples';\nimport { getFileUploaderDescriptions } from '../../../Constants/file-uploader';\nimport { LabelPairedArrowLeftMdBoldIcon } from '@deriv/quill-icons';\nimport './poa-mobile-layout.scss';\n\ntype TPOAMobileLayout = {\n    className?: string;\n    setOffset: (status: { msg: string }) => string;\n    is_for_cfd_modal?: boolean;\n    is_resubmit?: boolean;\n    setDocumentFiles: (files: File[]) => void;\n    document_files: File[];\n    form_state: TPOAFormState;\n};\n\ntype TFormInitialValues = Record<\n    'address_line_1' | 'address_line_2' | 'address_city' | 'address_state' | 'address_postcode',\n    string\n> & {\n    document_type?: Record<'text' | 'value', string>;\n};\n\nconst ProgressBar = ({ is_active }: { is_active: boolean }) => (\n    <div className='progress-container'>\n        <div className={clsx('progress-bar', { 'progress-bar--animate': is_active })} />\n    </div>\n);\n\nconst POAMobileLayout = observer(\n    ({ setOffset, is_resubmit, form_state, document_files, setDocumentFiles, is_for_cfd_modal }: TPOAMobileLayout) => {\n        const { localize } = useTranslations();\n        const { status, handleSubmit, isSubmitting, isValid, values, errors } = useFormikContext<TFormInitialValues>();\n        const { client } = useStore();\n        const [file_selection_error, setFileSelectionError] = React.useState<string | null>(null);\n        const [step, setStep] = React.useState({ id: 1, text: localize('Enter your address') });\n\n        const { states_list, account_settings, is_eu, getChangeableFields } = client;\n\n        const changeable_fields = getChangeableFields();\n        const poa_uploader_files_descriptions = React.useMemo(() => getFileUploaderDescriptions('poa', is_eu), [is_eu]);\n\n        const isNextBtnDisabled = React.useMemo(() => {\n            if (step.id === 2) {\n                return false;\n            }\n            return (\n                !values.address_line_1 ||\n                !!errors.address_line_1 ||\n                !!errors.address_line_2 ||\n                !values.address_city ||\n                !!errors.address_city ||\n                !!errors.address_state ||\n                !!errors.address_postcode\n            );\n        }, [values, errors, step.id]);\n\n        return (\n            <div className='poa-mobile-layout'>\n                <div className={clsx('poa-header', { 'poa-header--non-modal': !is_for_cfd_modal })}>\n                    <div className='timeline'>\n                        {step.id === 2 && (\n                            <LabelPairedArrowLeftMdBoldIcon\n                                onClick={() => setStep({ id: 1, text: localize('Enter your address') })}\n                            />\n                        )}\n                        <Text as='p' size='xxs'>\n                            <Localize\n                                i18n_default_text='<0>Step {{step}}/2:&nbsp;</0> {{title}}'\n                                values={{ step: step.id, title: step.text }}\n                                components={[<strong key={0} />]}\n                            />\n                        </Text>\n                    </div>\n                    <div className='timeline-item'>\n                        <ProgressBar is_active={step.id <= 2} />\n                        <ProgressBar is_active={step.id === 2} />\n                    </div>\n                </div>\n                <Form noValidate className='account-form account-form_poa' onSubmit={handleSubmit}>\n                    <FormBody scroll_offset={setOffset(status)}>\n                        {(status?.msg || is_resubmit) && (\n                            <InlineMessage\n                                type='error'\n                                message={\n                                    <Text as='p' size='xxxs'>\n                                        {!status?.msg && is_resubmit && (\n                                            <Localize i18n_default_text='We were unable to verify your address with the details you provided. Please check and resubmit or choose a different document type.' />\n                                        )}\n                                        {status?.msg}\n                                    </Text>\n                                }\n                                className='poa-error-banner'\n                                id='dt_poa_submit-error'\n                            />\n                        )}\n                        {step.id === 1 && (\n                            <React.Fragment>\n                                <PersonalDetailsForm\n                                    /* eslint-disable @typescript-eslint/ban-ts-comment */\n                                    // @ts-nocheck This needs to fixed in PersonalDetailsForm\n                                    is_qualified_for_poa\n                                    editable_fields={changeable_fields}\n                                    states_list={states_list}\n                                />\n                                <FormFooter className='account-form__footer-poa'>\n                                    <Button\n                                        className='account-form__footer-btn'\n                                        type='button'\n                                        has_effect\n                                        text={localize('Next')}\n                                        primary\n                                        is_disabled={isNextBtnDisabled}\n                                        onClick={() =>\n                                            setStep(prev_step => ({\n                                                ...prev_step,\n                                                id: 2,\n                                                text: localize(' Document submission'),\n                                            }))\n                                        }\n                                    />\n                                </FormFooter>\n                            </React.Fragment>\n                        )}\n                        {step.id === 2 && (\n                            <React.Fragment>\n                                <FileUploaderContainer\n                                    onFileDrop={files => {\n                                        setDocumentFiles(files);\n                                    }}\n                                    onError={setFileSelectionError}\n                                    files_description={\n                                        <FilesDescription\n                                            title={poa_uploader_files_descriptions.title}\n                                            descriptions={poa_uploader_files_descriptions.descriptions}\n                                        />\n                                    }\n                                    examples={<CommonMistakeExamples />}\n                                    country_of_residence={account_settings?.country_code as string}\n                                    placeholder={localize('Type of document')}\n                                />\n                                <FormFooter className='account-form__footer-poa'>\n                                    <Button\n                                        className='account-form__footer-btn'\n                                        type='submit'\n                                        has_effect\n                                        text={localize('Submit')}\n                                        primary\n                                        is_disabled={\n                                            isSubmitting ||\n                                            !isValid ||\n                                            (document_files && document_files.length < 1) ||\n                                            !!file_selection_error\n                                        }\n                                        is_loading={form_state.is_btn_loading}\n                                        is_submit_success={form_state.is_submit_success}\n                                    />\n                                </FormFooter>\n                            </React.Fragment>\n                        )}\n                    </FormBody>\n                </Form>\n            </div>\n        );\n    }\n);\n\nexport default POAMobileLayout;\n","import React from 'react';\nimport { Formik, FormikErrors, FormikHelpers, FormikValues } from 'formik';\nimport { useDevice } from '@deriv-com/ui';\nimport { Loading } from '@deriv/components';\nimport { useFileUploader } from '@deriv/hooks';\nimport {\n    validAddress,\n    validPostCode,\n    validLetterSymbol,\n    validAddressState,\n    validLength,\n    getLocation,\n    WS,\n} from '@deriv/shared';\nimport { observer, useStore } from '@deriv/stores';\nimport LoadErrorMessage from '../../../Components/load-error-message';\nimport LeaveConfirm from '../../../Components/leave-confirm';\nimport { isServerError, validate } from '../../../Helpers/utils';\nimport { API_ERROR_CODES } from '../../../Constants/api-error-codes';\nimport { DocumentUploadRequest } from '@deriv/api-types';\nimport POADesktopLayout from './poa-desktop-layout';\nimport { TPOAFormState } from '../../../Types';\nimport { useTranslations } from '@deriv-com/translations';\nimport POAMobileLayout from './poa-mobile-layout';\nimport { getSupportedProofOfAddressDocuments } from '../../../Constants/file-uploader';\n\ntype TProofOfAddressForm = {\n    className: string;\n    is_resubmit: boolean;\n    is_for_cfd_modal: boolean;\n    onCancel: () => void;\n    onSubmit: (needs_poi: boolean, has_submitted_duplicate_poa?: boolean) => void;\n    onSubmitForCFDModal: (values: FormikValues, has_submitted_duplicate_poa?: boolean) => void;\n};\n\ntype TFormInitialValues = Record<\n    'address_line_1' | 'address_line_2' | 'address_city' | 'address_state' | 'address_postcode',\n    string\n> & {\n    document_type?: string;\n};\n\nconst ProofOfAddressForm = observer(\n    ({ is_resubmit, is_for_cfd_modal, onSubmit, onSubmitForCFDModal, className }: Partial<TProofOfAddressForm>) => {\n        const { isMobile, isDesktop } = useDevice();\n        const { client, notifications } = useStore();\n        const { account_settings, fetchResidenceList, fetchStatesList, states_list } = client;\n        const {\n            addNotificationMessageByKey: addNotificationByKey,\n            removeNotificationMessage,\n            removeNotificationByKey,\n        } = notifications;\n        const [document_files, setDocumentFiles] = React.useState<File[]>([]);\n        const [is_loading, setIsLoading] = React.useState(true);\n        const [form_values, setFormValues] = React.useState<TFormInitialValues>({\n            address_line_1: '',\n            address_line_2: '',\n            address_city: '',\n            address_state: '',\n            address_postcode: '',\n        });\n        const [api_initial_load_error, setAPIInitialLoadError] = React.useState(null);\n        const [form_state, setFormState] = React.useState<TPOAFormState>({\n            is_btn_loading: false,\n            is_submit_success: false,\n            should_allow_submit: true,\n            should_show_form: true,\n        });\n\n        const [should_scroll_to_top, setShouldScrollToTop] = React.useState(false);\n\n        const { upload } = useFileUploader();\n        const { localize } = useTranslations();\n\n        React.useEffect(() => {\n            fetchResidenceList?.().then(async () => {\n                Promise.all([fetchStatesList(), WS.wait('get_settings')]).then(() => {\n                    setFormValues({\n                        address_line_1: account_settings.address_line_1 ?? '',\n                        address_line_2: account_settings.address_line_2 ?? '',\n                        address_city: account_settings.address_city ?? '',\n                        address_state: account_settings.address_state ?? '',\n                        address_postcode: account_settings.address_postcode ?? '',\n                    });\n                    setIsLoading(false);\n                });\n            });\n        }, [account_settings, fetchResidenceList, fetchStatesList]);\n\n        React.useEffect(() => {\n            if (should_scroll_to_top) {\n                // Scroll to the top of the page\n                const el = document.querySelector('#dt_poa_submit-error') as HTMLInputElement;\n                const target_element = el?.parentElement ?? el;\n                if (typeof target_element?.scrollIntoView === 'function') {\n                    target_element?.scrollIntoView({ behavior: 'smooth', block: 'start' });\n                }\n\n                // Reset the condition\n                setShouldScrollToTop(false);\n            }\n        }, [should_scroll_to_top]);\n\n        const validateFields = (values: TFormInitialValues) => {\n            setFormState({ ...form_state, ...{ should_allow_submit: false } });\n            const errors: FormikErrors<TFormInitialValues> = {};\n            const validateValues = validate(errors, values);\n\n            const required_fields = ['address_line_1', 'address_city'];\n            validateValues(val => val, required_fields, localize('This field is required'));\n\n            const address_line_1_validation_result = validAddress(values.address_line_1, { is_required: true });\n            if (!address_line_1_validation_result.is_ok) {\n                errors.address_line_1 = address_line_1_validation_result.message;\n            }\n            const address_line_2_validation_result = validAddress(values.address_line_2);\n            if (!address_line_2_validation_result.is_ok) {\n                errors.address_line_2 = address_line_2_validation_result.message;\n            }\n\n            const validation_letter_symbol_message = localize(\n                'Only letters, space, hyphen, period, and apostrophe are allowed.'\n            );\n\n            if (values.address_city && !validLetterSymbol(values.address_city)) {\n                errors.address_city = validation_letter_symbol_message;\n            }\n\n            if (values.address_state && !validAddressState(values.address_state) && states_list?.length < 1) {\n                errors.address_state = validation_letter_symbol_message;\n            }\n\n            if (values.address_postcode) {\n                if (!validLength(values.address_postcode, { min: 0, max: 20 })) {\n                    errors.address_postcode = localize(\n                        'Please enter a {{field_name}} under {{max_number}} characters.',\n                        {\n                            field_name: localize('Postal/ZIP code'),\n                            max_number: 20,\n                            interpolation: { escapeValue: false },\n                        }\n                    );\n                } else if (!validPostCode(values.address_postcode)) {\n                    errors.address_postcode = localize('Only letters, numbers, space, and hyphen are allowed.');\n                }\n            }\n\n            if (!values.document_type) {\n                errors.document_type = localize('Document type is required.');\n            }\n\n            return errors;\n        };\n\n        const showForm = (should_show_form: boolean) => {\n            setFormState({ ...form_state, ...{ should_show_form } });\n        };\n\n        const onSubmitValues = async (\n            values: TFormInitialValues,\n            { setStatus, setSubmitting }: FormikHelpers<TFormInitialValues>\n        ) => {\n            setStatus({ msg: '' });\n            setFormState({ ...form_state, ...{ is_btn_loading: true } });\n            const settings_values = { ...values };\n            if (values.address_state && states_list.length) {\n                settings_values.address_state = getLocation(states_list, values.address_state, 'value') || '';\n            }\n            delete settings_values?.document_type;\n\n            const data = await WS.setSettings(settings_values);\n\n            if (data.error) {\n                setStatus({ msg: data.error.message });\n                setFormState({ ...form_state, ...{ is_btn_loading: false } });\n                setSubmitting(false);\n                setShouldScrollToTop(true);\n                return;\n            }\n\n            const get_settings_response = await WS.authorized.storage.getSettings();\n\n            if (get_settings_response.error) {\n                setAPIInitialLoadError(get_settings_response.error.message);\n                setSubmitting(false);\n                return;\n            }\n            const get_settings = get_settings_response.get_settings;\n            const { address_line_1, address_line_2, address_city, address_state, address_postcode } = get_settings;\n\n            setFormValues({\n                address_line_1,\n                address_line_2,\n                address_city,\n                address_state,\n                address_postcode,\n            });\n\n            // upload files\n            try {\n                // This is required as AutoComplate displays only the selected value\n                const selected_doc_type = getSupportedProofOfAddressDocuments().find(\n                    doc => doc.text === values.document_type\n                );\n                const api_response = await upload(document_files, {\n                    document_type: selected_doc_type?.value as DocumentUploadRequest['document_type'],\n                });\n\n                if (api_response?.warning) {\n                    setFormState({ ...form_state, ...{ is_btn_loading: false } });\n\n                    if (api_response.warning === API_ERROR_CODES.DUPLICATE_DOCUMENT) {\n                        if (is_for_cfd_modal) {\n                            onSubmitForCFDModal?.(values, true);\n                        } else {\n                            onSubmit?.(false, true);\n                        }\n                    } else {\n                        setStatus({ msg: api_response?.message });\n                        setShouldScrollToTop(true);\n                    }\n                    return;\n                }\n\n                const get_account_status_response = await WS.authorized.getAccountStatus();\n\n                if (!get_account_status_response || get_account_status_response.error) {\n                    setAPIInitialLoadError(get_account_status_response.error.message);\n                    setSubmitting(false);\n                    return;\n                }\n                const get_account_status = get_account_status_response.get_account_status;\n\n                setFormState({\n                    ...form_state,\n                    ...{ is_submit_success: true, is_btn_loading: false },\n                });\n\n                const { needs_verification } = get_account_status.authentication;\n                const needs_poi = Boolean(needs_verification.length) && needs_verification.includes('identity');\n                onSubmit?.(needs_poi);\n\n                ['authenticate', 'needs_poa', 'poa_expired'].forEach(key => {\n                    removeNotificationMessage({ key });\n                    removeNotificationByKey({ key });\n                });\n\n                if (needs_poi) {\n                    addNotificationByKey('needs_poi');\n                }\n            } catch (error) {\n                if (isServerError(error)) {\n                    setStatus({ msg: error.message });\n                    setSubmitting(false);\n                    setFormState({ ...form_state, ...{ is_btn_loading: false } });\n                    setShouldScrollToTop(true);\n                }\n            }\n            if (is_for_cfd_modal) {\n                onSubmitForCFDModal?.(values);\n            }\n        };\n\n        const { address_line_1, address_line_2, address_city, address_state, address_postcode } = form_values;\n\n        const form_initial_values = {\n            address_line_1,\n            address_line_2,\n            address_city,\n            address_state,\n            address_postcode,\n            document_type: '',\n        };\n\n        if (api_initial_load_error) return <LoadErrorMessage error_message={api_initial_load_error} />;\n        if (is_loading) return <Loading is_fullscreen={false} className='account__initial-loader' />;\n\n        if (form_initial_values.address_state) {\n            const current_value = getLocation(states_list, form_initial_values.address_state, 'text');\n            form_initial_values.address_state =\n                states_list.length && current_value ? current_value : form_initial_values.address_state;\n        } else {\n            form_initial_values.address_state = '';\n        }\n        const setOffset = (status: { msg: string }) => {\n            const mobile_scroll_offset = status?.msg ? '200px' : '166px';\n            return !isDesktop && !is_for_cfd_modal ? mobile_scroll_offset : '94px';\n        };\n\n        return (\n            <Formik\n                initialValues={form_initial_values}\n                // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n                // @ts-ignore\n                onSubmit={onSubmitValues}\n                validate={validateFields}\n                enableReinitialize\n                validateOnMount\n            >\n                {() => (\n                    <React.Fragment>\n                        <LeaveConfirm onDirty={!isDesktop ? showForm : undefined} />\n                        {form_state.should_show_form &&\n                            (isMobile ? (\n                                <POAMobileLayout\n                                    setOffset={setOffset}\n                                    is_for_cfd_modal={is_for_cfd_modal}\n                                    is_resubmit={is_resubmit}\n                                    setDocumentFiles={setDocumentFiles}\n                                    document_files={document_files}\n                                    form_state={form_state}\n                                />\n                            ) : (\n                                <POADesktopLayout\n                                    className={className}\n                                    setOffset={setOffset}\n                                    is_for_cfd_modal={is_for_cfd_modal}\n                                    is_resubmit={is_resubmit}\n                                    setDocumentFiles={setDocumentFiles}\n                                    document_files={document_files}\n                                    form_state={form_state}\n                                />\n                            ))}\n                    </React.Fragment>\n                )}\n            </Formik>\n        );\n    }\n);\n\nexport default ProofOfAddressForm;\n","import { Submitted as PoaSubmitted } from './submitted';\n\nexport default PoaSubmitted;\n","import React from 'react';\nimport { Icon, Text } from '@deriv/components';\nimport { localize } from '@deriv/translations';\nimport { isNavigationFromP2P, isNavigationFromDerivGO, routes } from '@deriv/shared';\nimport IconMessageContent from '../../../icon-message-content';\nimport RouteButton from '../../../route-button';\nimport { TPoaStatusProps } from '../../../../Types';\n\nexport const Submitted = ({ needs_poi, redirect_button }: TPoaStatusProps) => {\n    const message = localize('Review in progress');\n    const is_redirected_from_platform = isNavigationFromP2P() || isNavigationFromDerivGO();\n    if (needs_poi) {\n        return (\n            <div className='account-management__container'>\n                <IconMessageContent message={message} icon={<Icon icon='IcPoaVerified' size={128} />}>\n                    <div className='account-management__text-container'>\n                        <Text align='center' size='xs' as='p'>\n                            {localize(\n                                'Your proof of address is under review. We’ll get back to you in 1–3 working days.'\n                            )}\n                        </Text>\n                        <Text align='center' size='xs' as='p'>\n                            {localize('To start trading, you also need to verify your identity.')}\n                        </Text>\n                    </div>\n                    <RouteButton button_label={localize('Next')} route={routes.proof_of_identity} />\n                </IconMessageContent>\n            </div>\n        );\n    }\n    return (\n        <div className='account-management__container'>\n            <IconMessageContent\n                message={message}\n                text={localize('Your proof of address is under review. We’ll get back to you in 1–3 working days.')}\n                icon={<Icon icon='IcPoaVerified' size={128} />}\n            >\n                {redirect_button ||\n                    (!is_redirected_from_platform && (\n                        <RouteButton button_label={localize(\"Return to Trader's Hub\")} route={routes.traders_hub} />\n                    ))}\n            </IconMessageContent>\n        </div>\n    );\n};\n","import { Unverified as PoaUnverified } from './unverified';\n\nexport default PoaUnverified;\n","import React, { ReactNode } from 'react';\nimport { Button, Icon, Text } from '@deriv/components';\nimport { localize } from '@deriv/translations';\nimport IconMessageContent from '../../../icon-message-content';\n\ntype TUnverified = {\n    title?: ReactNode;\n    description?: ReactNode;\n    onClick: () => void;\n    button_text?: ReactNode;\n};\n\nexport const Unverified = ({ title, description, button_text, onClick }: TUnverified) => {\n    return (\n        <IconMessageContent\n            message={title ?? localize('We could not verify your proof of address')}\n            text={description ?? localize('Please check your email for details.')}\n            icon={<Icon icon='IcPoaError' size={128} />}\n        >\n            <Button onClick={onClick} has_effect primary>\n                <Text className='dc-btn__text' size='xs' weight='bold' as='p'>\n                    {button_text ?? localize('Resubmit')}\n                </Text>\n            </Button>\n        </IconMessageContent>\n    );\n};\n","import { ButtonLink, Text } from '@deriv/components';\nimport { localize } from '@deriv/translations';\nimport React from 'react';\n\nexport const PoiButton = () => (\n    <ButtonLink className='account-management__button' to='/account/proof-of-identity'>\n        <Text className='dc-btn__text' weight='bold' as='p'>\n            {localize('Proof of identity')}\n        </Text>\n    </ButtonLink>\n);\n","import { Icon } from '@deriv/components';\nimport { isNavigationFromP2P, isNavigationFromDerivGO } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\nimport { ContinueTradingButton } from '../../continue-trading-button/continue-trading-button';\nimport IconMessageContent from '../../../icon-message-content';\nimport { PoiButton } from '../../../poi/poi-button/poi-button';\nimport { TPoaStatusProps } from '../../../../Types';\n\nexport const Verified = ({ needs_poi, redirect_button }: TPoaStatusProps) => {\n    const message = localize('Your proof of address is verified');\n    const is_redirected_from_platform = isNavigationFromP2P() || isNavigationFromDerivGO();\n    if (needs_poi) {\n        return (\n            <div className='account-management__container'>\n                <IconMessageContent\n                    message={message}\n                    text={localize('To continue trading, you must also submit a proof of identity.')}\n                    icon={<Icon icon='IcPoaVerified' size={128} />}\n                >\n                    <PoiButton />\n                </IconMessageContent>\n            </div>\n        );\n    }\n    return (\n        <div className='account-management__container'>\n            <IconMessageContent message={message} icon={<Icon icon='IcPoaVerified' size={128} />}>\n                {redirect_button || (!is_redirected_from_platform && <ContinueTradingButton />)}\n            </IconMessageContent>\n        </div>\n    );\n};\n\nexport default Verified;\n","import { Verified as PoaVerified } from './verified';\n\nexport default PoaVerified;\n","import React from 'react';\nimport { AccountStatusResponse, GetAccountStatus } from '@deriv/api-types';\nimport { Button, Loading } from '@deriv/components';\nimport { WS, getPlatformRedirect, platforms, routes, AUTH_STATUS_CODES } from '@deriv/shared';\nimport { observer, useStore } from '@deriv/stores';\nimport { Localize } from '@deriv/translations';\nimport Expired from '../../../Components/poa/status/expired';\nimport NotRequired from '../../../Components/poa/status/not-required';\nimport ProofOfAddressForm from './proof-of-address-form';\nimport Submitted from '../../../Components/poa/status/submitted';\nimport Unverified from '../../../Components/poa/status/unverified';\nimport Verified from '../../../Components/poa/status/verified';\nimport { populateVerificationStatus } from '../Helpers/verification.js';\n\ntype TProofOfAddressContainer = {\n    onSubmit?: () => void;\n};\n\ntype TAuthenticationStatus = Record<\n    | 'allow_document_upload'\n    | 'allow_poi_resubmission'\n    | 'allow_poa_resubmission'\n    | 'is_age_verified'\n    | 'has_poi'\n    | 'has_submitted_poa'\n    | 'needs_poa'\n    | 'needs_poi'\n    | 'poa_address_mismatch'\n    | 'resubmit_poa'\n    | 'poa_expiring_soon'\n    | 'poa_authenticated_with_idv'\n    | 'poa_authenticated_with_idv_photo'\n    | 'has_submitted_duplicate_poa',\n    boolean\n> & { document_status?: DeepRequired<GetAccountStatus>['authentication']['document']['status'] };\n\nconst ProofOfAddressContainer = observer(({ onSubmit }: TProofOfAddressContainer) => {\n    const [is_loading, setIsLoading] = React.useState(true);\n    const [authentication_status, setAuthenticationStatus] = React.useState<TAuthenticationStatus>({\n        allow_document_upload: false,\n        allow_poi_resubmission: false,\n        allow_poa_resubmission: false,\n        needs_poi: false,\n        needs_poa: false,\n        has_poi: false,\n        resubmit_poa: false,\n        has_submitted_poa: false,\n        document_status: undefined,\n        is_age_verified: false,\n        poa_address_mismatch: false,\n        poa_expiring_soon: false,\n        poa_authenticated_with_idv: false,\n        poa_authenticated_with_idv_photo: false,\n        has_submitted_duplicate_poa: false,\n    });\n\n    const { client, notifications, common, ui } = useStore();\n    const { app_routing_history } = common;\n    const { has_restricted_mt5_account, is_switching } = client;\n    const { is_verification_modal_visible } = ui;\n    const { refreshNotifications } = notifications;\n    const mt5_poa_status = localStorage.getItem('mt5_poa_status');\n\n    React.useEffect(() => {\n        if (!is_switching) {\n            WS.authorized.getAccountStatus().then((response: AccountStatusResponse) => {\n                const { get_account_status } = response;\n                if (get_account_status) {\n                    const {\n                        allow_document_upload,\n                        allow_poa_resubmission,\n                        document_status,\n                        has_submitted_poa,\n                        is_age_verified,\n                        needs_poa,\n                        needs_poi,\n                        poa_address_mismatch,\n                        poa_authenticated_with_idv,\n                        poa_authenticated_with_idv_photo,\n                        poa_expiring_soon,\n                    } = populateVerificationStatus(get_account_status);\n\n                    setAuthenticationStatus(authentication_status => ({\n                        ...authentication_status,\n                        allow_document_upload,\n                        allow_poa_resubmission,\n                        document_status,\n                        has_submitted_poa: has_submitted_poa as boolean,\n                        is_age_verified,\n                        needs_poa,\n                        needs_poi,\n                        poa_address_mismatch,\n                        poa_authenticated_with_idv,\n                        poa_authenticated_with_idv_photo,\n                        poa_expiring_soon,\n                    }));\n                    setIsLoading(false);\n                    refreshNotifications();\n                }\n            });\n        }\n    }, [is_switching, refreshNotifications]);\n    React.useEffect(() => {\n        return () => {\n            localStorage.removeItem('mt5_poa_status');\n        };\n    }, []);\n\n    const handleResubmit = () => {\n        setAuthenticationStatus(authentication_status => ({\n            ...authentication_status,\n            ...{ resubmit_poa: true },\n        }));\n    };\n\n    const handleDuplicatePOASubmission = () => {\n        setAuthenticationStatus(authentication_status => ({\n            ...authentication_status,\n            ...{ resubmit_poa: true, has_submitted_duplicate_poa: false, has_submitted_poa: false },\n        }));\n    };\n\n    const onSubmitDocument = (needs_poi: boolean, has_submitted_duplicate_poa?: boolean) => {\n        setAuthenticationStatus(authentication_status => ({\n            ...authentication_status,\n            ...{\n                has_submitted_poa: true,\n                needs_poi,\n                poa_expiring_soon: false,\n                has_submitted_duplicate_poa: has_submitted_duplicate_poa ?? false,\n            },\n        }));\n        if (is_verification_modal_visible) {\n            onSubmit?.();\n        }\n    };\n\n    const {\n        allow_document_upload,\n        allow_poa_resubmission,\n        document_status,\n        needs_poi,\n        resubmit_poa,\n        has_submitted_poa,\n        poa_address_mismatch,\n        poa_expiring_soon,\n        poa_authenticated_with_idv,\n        poa_authenticated_with_idv_photo,\n        has_submitted_duplicate_poa,\n    } = authentication_status;\n\n    const from_platform = getPlatformRedirect(app_routing_history);\n\n    const should_show_redirect_btn = Object.keys(platforms).includes(from_platform?.ref ?? '');\n\n    const should_allow_resubmit =\n        resubmit_poa ||\n        allow_poa_resubmission ||\n        (has_restricted_mt5_account &&\n            document_status &&\n            ['expired', 'rejected', 'suspected'].includes(document_status)) ||\n        poa_address_mismatch ||\n        poa_expiring_soon ||\n        ((poa_authenticated_with_idv || poa_authenticated_with_idv_photo) &&\n            from_platform?.route === routes.cashier_p2p);\n\n    const redirect_button = should_show_redirect_btn && (\n        <Button\n            primary\n            className='proof-of-identity__redirect'\n            onClick={() => {\n                const url = platforms[from_platform.ref as keyof typeof platforms]?.url;\n                if (url) {\n                    window.location.href = url;\n                    window.sessionStorage.removeItem('config.platform');\n                }\n            }}\n        >\n            <Localize i18n_default_text='Back to {{platform_name}}' values={{ platform_name: from_platform.name }} />\n        </Button>\n    );\n\n    if (is_loading) return <Loading is_fullscreen={false} className='account__initial-loader' />;\n    if (!allow_document_upload) return <NotRequired />;\n    if (has_submitted_duplicate_poa)\n        return (\n            <Unverified\n                title={<Localize i18n_default_text='Proof of address documents upload failed' />}\n                description={\n                    <Localize i18n_default_text='It seems you’ve submitted this document before. Upload a new document.' />\n                }\n                button_text={<Localize i18n_default_text='Try again' />}\n                onClick={handleDuplicatePOASubmission}\n            />\n        );\n    if (has_submitted_poa && !poa_address_mismatch)\n        return <Submitted needs_poi={needs_poi} redirect_button={redirect_button} />;\n    if (should_allow_resubmit) {\n        return <ProofOfAddressForm is_resubmit={!poa_expiring_soon} onSubmit={onSubmitDocument} />;\n    }\n    const getDocumentStatus = (\n        document_status: DeepRequired<GetAccountStatus>['authentication']['document']['status'] | string\n    ) => {\n        switch (document_status) {\n            case AUTH_STATUS_CODES.NONE:\n                return <ProofOfAddressForm onSubmit={onSubmitDocument} />;\n            case AUTH_STATUS_CODES.PENDING:\n                return <Submitted needs_poi={needs_poi} redirect_button={redirect_button} />;\n            case AUTH_STATUS_CODES.VERIFIED:\n                return <Verified needs_poi={needs_poi} redirect_button={redirect_button} />;\n            case AUTH_STATUS_CODES.EXPIRED:\n                return <Expired onClick={handleResubmit} />;\n            case AUTH_STATUS_CODES.REJECTED:\n            case AUTH_STATUS_CODES.SUSPECTED:\n                return <Unverified onClick={handleResubmit} />;\n            default:\n                return null;\n        }\n    };\n    if (mt5_poa_status) return getDocumentStatus(mt5_poa_status);\n    else if (document_status) return getDocumentStatus(document_status);\n    return null;\n});\n\nexport default ProofOfAddressContainer;\n","import React from 'react';\nimport { observer, useStore } from '@deriv/stores';\nimport DemoMessage from '../../../Components/demo-message';\nimport ProofOfAddressContainer from './proof-of-address-container';\n\nconst ProofOfAddress = observer(() => {\n    const { client } = useStore();\n    const { is_virtual } = client;\n\n    if (is_virtual) return <DemoMessage has_button />;\n\n    return <ProofOfAddressContainer />;\n});\n\nexport default ProofOfAddress;\n","import React from 'react';\n\nimport { Loading } from '@deriv/components';\nimport { useGrowthbookGetFeatureValue } from '@deriv/hooks';\nimport { ACCOUNTS_OS_POA_URL, getSocketURL } from '@deriv/shared';\nimport { observer, useStore } from '@deriv/stores';\nimport { LocalStorageUtils, URLUtils, WebSocketUtils } from '@deriv-com/utils';\n\nimport { useKycAuthStatus } from '../../../hooks';\n\nimport ProofOfAddress from './proof-of-address';\n\nconst ProofOfAddressFlow = observer(() => {\n    const {\n        client: { getToken, residence },\n        common: { is_from_tradershub_os },\n    } = useStore();\n    const { kyc_auth_status, isLoading: isKYCLoading } = useKycAuthStatus({ country: residence });\n    const [shouldRedirectToAccountsOSApp, isRedirectToAccountsOSAppFFLoaded] = useGrowthbookGetFeatureValue({\n        featureFlag: 'redirect_to_poa_in_accounts_os',\n    });\n    const localize_language = LocalStorageUtils.getValue<string>('i18n_language');\n    const url_lang = URLUtils.getQueryParameter('lang');\n    const i18n_language = localize_language || url_lang || 'en';\n\n    const getFormattedURL = (url_link: string) => {\n        const url = new URL(url_link);\n        const urlParams = new URLSearchParams(location.search);\n        const platformConfig = urlParams.get('platform') ?? window.sessionStorage.getItem('config.platform');\n        const platform = platformConfig ?? (is_from_tradershub_os ? 'tradershub_os' : 'deriv_app');\n\n        const params = {\n            platform,\n            appid: WebSocketUtils.getAppId(),\n            lang: i18n_language,\n            server: getSocketURL(),\n            token: getToken(),\n        };\n\n        Object.entries(params).forEach(([key, value]) => {\n            url.searchParams.append(key, value);\n        });\n\n        return url.toString();\n    };\n\n    if (isRedirectToAccountsOSAppFFLoaded && !isKYCLoading) {\n        if (shouldRedirectToAccountsOSApp && kyc_auth_status) {\n            window.location.replace(getFormattedURL(ACCOUNTS_OS_POA_URL));\n        } else {\n            return <ProofOfAddress />;\n        }\n    }\n\n    return <Loading is_fullscreen={false} className='account__initial-loader' />;\n});\n\nexport default ProofOfAddressFlow;\n","export const IDENTIFIER_TYPES = Object.freeze({\n    ACCOUNT_ID: 'account_id',\n    ACCOUNT_NUMBER: 'account_number',\n    BANK_ACCOUNT_NUMBER: 'bank_account_number',\n    CARD_NUMBER: 'card_number',\n    EMAIL_ADDRESS: 'email_address',\n    MOBILE_NUMBER: 'mobile_number',\n    USER_ID: 'user_id',\n});\n\nexport const CARD_NUMBER = {\n    MAX_LENGTH: 19,\n    MIN_LENGTH: 16,\n};\n\nexport const MAX_FILE_SIZE = 8000; // 8MB\n","import React from 'react';\nimport clsx from 'clsx';\nimport { FormikErrors, useFormikContext } from 'formik';\nimport { Button, Input, Icon } from '@deriv/components';\nimport { compressImageFiles } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\nimport { TFile, TPaymentMethod, TProofOfOwnershipFormValue } from 'Types';\n\ntype TFileUploaderProps = {\n    class_name?: string;\n    name: TPaymentMethod;\n    sub_index: number;\n    payment_id: number;\n};\n\n/**\n * Field to upload files for Payment methods in proof of ownership form\n * @name FileUploader\n * @param class_name - To add custom styles to class\n * @param name - Payment method name\n * @param sub_index - Index of the file\n * @param payment_id - Index of the payment method\n * @returns React Component\n */\n\nconst FileUploader = ({ class_name, name, sub_index, payment_id }: TFileUploaderProps) => {\n    const { values, setFieldValue, errors, setFieldError } = useFormikContext<TProofOfOwnershipFormValue>();\n\n    const [show_browse_button, setShowBrowseButton] = React.useState(\n        !values[name]?.[payment_id]?.files?.[sub_index]?.name\n    );\n    // Create a reference to the hidden file input element\n    const hidden_file_input = React.useRef<HTMLInputElement>(null);\n    const handleClick = (e: React.MouseEvent) => {\n        e.nativeEvent.preventDefault();\n        e.nativeEvent.stopPropagation();\n        e.nativeEvent.stopImmediatePropagation();\n        hidden_file_input?.current?.click();\n    };\n\n    const handleChange = async (event: React.ChangeEvent<HTMLInputElement>) => {\n        event.nativeEvent.preventDefault();\n        event.nativeEvent.stopPropagation();\n        event.nativeEvent.stopImmediatePropagation();\n        // Check if files exist before proceeding\n        if (!event.target.files || event.target.files.length === 0) {\n            return;\n        }\n        const file_to_upload = await compressImageFiles([event.target.files[0]]);\n        const payment_file_data = [...(values[name]?.[payment_id]?.files ?? [])];\n        payment_file_data[sub_index] = file_to_upload[0] as TFile;\n        const selected_payment_method = values?.[name];\n        if (!selected_payment_method) {\n            return;\n        }\n        selected_payment_method[payment_id] = {\n            ...selected_payment_method[payment_id],\n            files: payment_file_data ?? [],\n        };\n        await setFieldValue(name, { ...selected_payment_method });\n        setShowBrowseButton(!file_to_upload[0]);\n    };\n\n    const updateError = () => {\n        const payment_method_error = { ...(errors?.[name] ?? {}) };\n        const payment_method_file_error = (payment_method_error?.[payment_id]?.files as FormikErrors<TFile>[]) ?? {};\n        delete payment_method_file_error?.[sub_index];\n        payment_method_error[payment_id] = {\n            ...(payment_method_error[payment_id] ?? {}),\n            files: payment_method_file_error,\n        };\n        // @ts-expect-error Error is an array\n        setFieldError(name, { ...payment_method_error });\n    };\n\n    const handleIconClick = async (e: React.MouseEvent) => {\n        e.nativeEvent.preventDefault();\n        e.nativeEvent.stopPropagation();\n        e.nativeEvent.stopImmediatePropagation();\n        if (hidden_file_input.current && 'value' in hidden_file_input.current) {\n            hidden_file_input.current.value = '';\n        }\n        const payment_file_data = values[name]?.[payment_id]?.files ?? [];\n        const filtered_file_data = payment_file_data.filter((_, i) => i !== sub_index);\n        const selected_payment_method = values?.[name];\n        if (!selected_payment_method) {\n            return;\n        }\n        selected_payment_method[payment_id] = {\n            ...selected_payment_method[payment_id],\n            files: filtered_file_data ?? [],\n        };\n        await setFieldValue(name, { ...selected_payment_method });\n        setShowBrowseButton(prevState => !prevState);\n        updateError();\n    };\n    return (\n        <div className={clsx('poo-file-uploader', class_name)}>\n            <input\n                type='file'\n                accept='image/png, image/jpeg, image/jpg, application/pdf'\n                ref={hidden_file_input}\n                onChange={handleChange}\n                className='hidden-input'\n                name={name}\n            />\n            <Input\n                name='cardImgName'\n                required\n                label={localize('Choose a photo')}\n                maxLength={255}\n                hint={localize('Accepted formats: pdf, jpeg, jpg, and png. Max file size: 8MB')}\n                value={values[name]?.[payment_id]?.files?.[sub_index]?.name ?? ''}\n                readOnly\n                color='less-prominent'\n                type={'text'}\n                tabIndex={-1}\n                error={errors?.[name]?.[payment_id]?.files?.[sub_index] as string}\n                trailing_icon={\n                    <Icon\n                        onClick={handleIconClick}\n                        icon='IcCross'\n                        height='100%'\n                        size={20}\n                        className={clsx('stack-top ', {\n                            'remove-element': show_browse_button,\n                        })}\n                    />\n                }\n            />\n            <Button\n                className={clsx('proof-of-ownership__card-open-inputs-photo-btn ', {\n                    'remove-element': !show_browse_button,\n                })}\n                text={localize('Browse')}\n                onClick={handleClick}\n                primary\n            />\n        </div>\n    );\n};\n\nexport default FileUploader;\n","import { SampleCreditCardModal } from './sample-credit-card-modal';\n\nexport default SampleCreditCardModal;\n","import React from 'react';\nimport { Modal, Text } from '@deriv/components';\nimport { Localize } from '@deriv/translations';\nimport { getUrlBase } from '@deriv/shared';\n\ntype TSampleCreditCardModalProps = {\n    is_open: boolean;\n    onClose: () => void;\n};\n\n/**\n * Display a modal with a sample credit card image and instructions on how to mask the card.\n * @name SampleCreditCardModal\n * @param is_open - boolean to determine if the modal should be open or not\n * @param onClose - function to close the modal\n * @returns React component\n */\nexport const SampleCreditCardModal = ({ is_open, onClose }: TSampleCreditCardModalProps) => {\n    return (\n        <Modal\n            className='sample-credit-card-modal'\n            is_open={is_open}\n            should_header_stick_body\n            title={<Localize i18n_default_text='How to mask your card?' />}\n            toggleModal={onClose}\n        >\n            <React.Fragment>\n                <Text className='sample-credit-card-modal-text' size='xs'>\n                    <Localize i18n_default_text='Black out digits 7 to 12 of the card number that’s shown on the front of your debit/credit card.⁤' />\n                </Text>\n                <img\n                    src={getUrlBase('/public/images/common/sample-credit-card.png')}\n                    alt='creditcardsample'\n                    className='sample-credit-card-modal-img'\n                />\n            </React.Fragment>\n        </Modal>\n    );\n};\n","import React from 'react';\nimport { Text } from '@deriv/components';\nimport { Localize } from '@deriv/translations';\nimport SampleCreditCardModal from '../../Components/sample-credit-card-modal';\n\n/**\n * Renders Text with link to Example Credit card modal\n * @name ExampleLink\n * @returns React Component\n */\nconst ExampleLink = () => {\n    const [is_sample_modal_open, setIsSampleModalOpen] = React.useState(false);\n\n    return (\n        <React.Fragment>\n            <Text className='proof-of-ownership__card-open-desc-link' onClick={() => setIsSampleModalOpen(true)}>\n                <Localize i18n_default_text='See example' />\n            </Text>\n            <SampleCreditCardModal\n                is_open={is_sample_modal_open}\n                onClose={() => {\n                    setIsSampleModalOpen(false);\n                }}\n            />\n        </React.Fragment>\n    );\n};\n\nexport default ExampleLink;\n","import React from 'react';\nimport clsx from 'clsx';\nimport { useFormikContext } from 'formik';\nimport { Input, Text } from '@deriv/components';\nimport { hasInvalidCharacters } from '@deriv/shared';\nimport { IDENTIFIER_TYPES } from '../../Constants/poo-identifier';\nimport { isSpecialPaymentMethod } from '../../Helpers/utils';\nimport FileUploader from './file-uploader';\nimport { TPaymentMethod, TPaymentMethodInfo, TProofOfOwnershipData, TProofOfOwnershipFormValue } from '../../Types';\nimport ExampleLink from './example-link';\n\ntype TExpandedCardProps = {\n    card_details: TPaymentMethodInfo;\n};\n\n/**\n *\n * @param card_details Details of payment method\n * @param index Index of payment method\n * @returns React Component\n */\nconst ExpandedCard = ({ card_details }: TExpandedCardProps) => {\n    const { values, setFieldValue, errors } = useFormikContext<TProofOfOwnershipFormValue>();\n\n    const payment_method = card_details.payment_method.toLowerCase() as TPaymentMethod;\n\n    const handleBlur = (payment_method_identifier: string, identifier_type: string, payment_id: number) => {\n        handleIdentifierChange(formatIdentifier(payment_method_identifier, identifier_type), payment_id);\n    };\n    const handleIdentifierChange = (payment_method_identifier: string, payment_id: number) => {\n        const selected_payment_method = values[payment_method] as Record<number, TProofOfOwnershipData>;\n\n        selected_payment_method[payment_id] = {\n            ...selected_payment_method[payment_id],\n            payment_method_identifier,\n        };\n\n        setFieldValue(payment_method, { ...selected_payment_method });\n    };\n\n    const formatIdentifier = (payment_method_identifier: string, identifier_type: string) => {\n        let formatted_id = payment_method_identifier?.replace(/\\s/g, '') || '';\n        if (identifier_type === IDENTIFIER_TYPES.CARD_NUMBER) {\n            if (formatted_id.length !== 16 || (formatted_id.length === 16 && hasInvalidCharacters(formatted_id))) {\n                return formatted_id;\n            }\n            formatted_id = `${formatted_id.substring(0, 6)}XXXXXX${formatted_id.substring(12)}`;\n        } else if ([IDENTIFIER_TYPES.EMAIL_ADDRESS, IDENTIFIER_TYPES.USER_ID].some(s => s === identifier_type)) {\n            return formatted_id;\n        }\n        return formatted_id.replace(/(\\w{4})/g, '$1 ').trim();\n    };\n\n    return (\n        <div>\n            {card_details?.instructions?.map(instruction => (\n                <Text\n                    className='proof-of-ownership__card-open-desc'\n                    as='p'\n                    color='general'\n                    size='xs'\n                    key={typeof instruction !== 'string' ? instruction.key : instruction}\n                >\n                    {instruction} {card_details?.identifier_type === IDENTIFIER_TYPES.CARD_NUMBER && <ExampleLink />}\n                </Text>\n            ))}\n            <fieldset>\n                {card_details?.items &&\n                    card_details?.items.map(item => {\n                        const controls_to_show = [...Array(item?.documents_required).keys()];\n                        const payment_id = item.id;\n                        return (\n                            <div\n                                className='proof-of-ownership__card-open-inputs'\n                                key={`${item.payment_method}-${item.id}`}\n                            >\n                                {card_details?.input_label && isSpecialPaymentMethod(card_details?.icon) && (\n                                    <div className='proof-of-ownership__card-open-inputs-field'>\n                                        <Input\n                                            label={card_details?.input_label}\n                                            data-lpignore='true'\n                                            className={clsx('proof-of-ownership__card-open-inputs-cardnumber', {\n                                                'proof-of-ownership-valid-identifier':\n                                                    values?.[payment_method]?.[payment_id]?.payment_method_identifier &&\n                                                    !errors?.[payment_method]?.[payment_id]?.payment_method_identifier,\n                                            })}\n                                            type='text'\n                                            onChange={e => {\n                                                handleIdentifierChange(e.target.value, payment_id);\n                                            }}\n                                            value={values?.[payment_method]?.[payment_id]?.payment_method_identifier}\n                                            onBlur={e => {\n                                                handleBlur(\n                                                    e.target.value.trim(),\n                                                    card_details?.identifier_type,\n                                                    payment_id\n                                                );\n                                            }}\n                                            data-testid='dt_payment_method_identifier'\n                                            error={errors?.[payment_method]?.[payment_id]?.payment_method_identifier}\n                                        />\n                                    </div>\n                                )}\n                                {controls_to_show.map(i => (\n                                    <React.Fragment key={`${item?.id}-${i}`}>\n                                        {card_details?.input_label && !isSpecialPaymentMethod(card_details?.icon) && (\n                                            <div className='proof-of-ownership__card-open-inputs-field'>\n                                                <Input\n                                                    label={card_details?.input_label}\n                                                    data-lpignore='true'\n                                                    className={clsx('proof-of-ownership__card-open-inputs-cardnumber', {\n                                                        'proof-of-ownership-valid-identifier':\n                                                            values?.[payment_method]?.[payment_id]\n                                                                ?.payment_method_identifier &&\n                                                            !errors?.[payment_method]?.[payment_id]\n                                                                ?.payment_method_identifier,\n                                                    })}\n                                                    type='text'\n                                                    onChange={e => {\n                                                        handleIdentifierChange(e.target.value.trim(), payment_id);\n                                                    }}\n                                                    value={\n                                                        values?.[payment_method]?.[payment_id]\n                                                            ?.payment_method_identifier ?? ''\n                                                    }\n                                                    onBlur={e => {\n                                                        handleBlur(\n                                                            e.target.value.trim(),\n                                                            card_details?.identifier_type,\n                                                            payment_id\n                                                        );\n                                                    }}\n                                                    data-testid='dt_payment_method_identifier'\n                                                    error={\n                                                        errors?.[payment_method]?.[payment_id]\n                                                            ?.payment_method_identifier ?? ''\n                                                    }\n                                                />\n                                            </div>\n                                        )}\n                                        <div\n                                            className={clsx('proof-of-ownership__card-open-inputs-upload', {\n                                                expand: !card_details?.input_label,\n                                                organise: card_details?.input_label !== null,\n                                            })}\n                                        >\n                                            <FileUploader\n                                                class_name='proof-of-ownership__card-open-inputs-photo'\n                                                sub_index={i}\n                                                name={payment_method}\n                                                payment_id={payment_id}\n                                            />\n                                        </div>\n                                    </React.Fragment>\n                                ))}\n                            </div>\n                        );\n                    })}\n            </fieldset>\n        </div>\n    );\n};\n\nexport default ExpandedCard;\n","import React from 'react';\nimport clsx from 'clsx';\nimport { Button, Icon, Text } from '@deriv/components';\nimport ExpandedCard from './expanded-card';\nimport { TPaymentMethodInfo } from '../../Types';\n\ntype TCardProps = {\n    details: TPaymentMethodInfo;\n};\n\n/**\n * Renders Chevron Icon which is used to expand card\n * @name ExpansionIcon\n * @param is_open - status to check if card is open\n * @returns React Component\n */\nconst ExpansionIcon = ({ is_open }: { is_open: boolean }) => (\n    <Icon\n        icon='IcChevronUpBold'\n        className={clsx('proof-of-ownership__card-item-icon', {\n            'proof-of-ownership__card-item-icon--invert': !is_open,\n        })}\n    />\n);\n\n/**\n * Renders payment method\n * @name Card\n * @param details - payment method details\n * @returns React Component\n */\nconst Card = ({ details }: TCardProps) => {\n    const [is_open, setIsOpen] = React.useState(false);\n\n    const onClickHandler = () => {\n        setIsOpen(!is_open);\n    };\n\n    return (\n        <div\n            className={clsx('proof-of-ownership__card', { 'proof-of-ownership__card-open': is_open })}\n            data-testid={details?.payment_method}\n        >\n            <div className='proof-of-ownership__card-item' onClick={onClickHandler} onKeyDown={onClickHandler}>\n                {details?.icon && (\n                    <Icon icon={details?.icon} className='proof-of-ownership__card-item-logo' width={68} height={58} />\n                )}\n                <Text className='proof-of-ownership__card-item-text' as='p' color='general' size='s' weight='bold'>\n                    {details?.payment_method}\n                </Text>\n                <Button\n                    id='proof-of-ownership'\n                    icon={<ExpansionIcon is_open={is_open} />}\n                    className='proof-of-ownership__card-item-icon'\n                    onClick={onClickHandler}\n                    transparent\n                    data-testid='dt_proof_of_ownership_button'\n                    type='button'\n                />\n            </div>\n            {is_open && <ExpandedCard card_details={details} />}\n        </div>\n    );\n};\n\nexport default Card;\n","/* eslint-disable @typescript-eslint/ban-ts-comment */\n//@ts-nocheck [TODO] - Need to fix typescript errors\n\nimport React from 'react';\nimport { Form, Formik, FormikHelpers } from 'formik';\nimport DocumentUploader from '@binary-com/binary-document-uploader';\nimport { Button } from '@deriv/components';\nimport { readFiles, WS, UPLOAD_FILE_TYPE } from '@deriv/shared';\nimport { useDevice } from '@deriv-com/ui';\nimport { observer, useStore } from '@deriv/stores';\nimport { Localize, localize } from '@deriv/translations';\nimport FormFooter from '../../../Components/form-footer';\nimport FormBody from '../../../Components/form-body';\nimport FormSubHeader from '../../../Components/form-sub-header';\nimport FormBodySection from '../../../Components/form-body-section';\nimport Card from '../../../Containers/proof-of-ownership/card';\nimport {\n    TPaymentMethod,\n    TPaymentMethodInfo,\n    TProofOfOwnershipData,\n    TProofOfOwnershipErrors,\n    TProofOfOwnershipFormValue,\n} from '../../../Types';\nimport { isValidPaymentMethodIdentifier, isValidFile } from './validation';\nimport { API_ERROR_CODES } from 'Constants/api-error-codes';\n\ntype TProofOfOwnershipFormProps = {\n    grouped_payment_method_data: Partial<Record<TPaymentMethod, TPaymentMethodInfo>>;\n};\n\nconst ProofOfOwnershipForm = observer(({ grouped_payment_method_data }: TProofOfOwnershipFormProps) => {\n    const { client, notifications } = useStore();\n    const { refreshNotifications } = notifications;\n    const { email: client_email, updateAccountStatus } = client;\n    const { isDesktop } = useDevice();\n\n    const grouped_payment_method_data_keys = Object.keys(grouped_payment_method_data) as Array<TPaymentMethod>;\n\n    const fileReadErrorMessage = (filename: string) => {\n        return localize('Unable to read file {{name}}', { name: filename });\n    };\n\n    const getScrollOffset = React.useCallback(\n        (items_count = 0) => {\n            if (!isDesktop) return '20rem';\n            if (items_count <= 2) return '0rem';\n            return '8rem';\n        },\n        [isDesktop]\n    );\n\n    const initial_values = React.useMemo(() => {\n        if (!grouped_payment_method_data_keys?.length) {\n            return {};\n        }\n        const default_value: TProofOfOwnershipData = {\n            documents_required: 0,\n            id: 0,\n            identifier_type: '',\n            is_generic_pm: false,\n            payment_method_identifier: '',\n            files: [],\n        };\n        const form_value = grouped_payment_method_data_keys.reduce<Partial<TProofOfOwnershipFormValue>>(\n            (acc, payment_method) => {\n                const documents_required = grouped_payment_method_data[payment_method]?.documents_required;\n                const is_generic_pm = grouped_payment_method_data[payment_method]?.is_generic_pm;\n                const items = grouped_payment_method_data[payment_method]?.items;\n                const identifier_type = grouped_payment_method_data[payment_method]?.identifier_type;\n                acc[payment_method] = {};\n                items?.forEach(item => {\n                    acc[payment_method][item.id] = {\n                        ...default_value,\n                        id: item.id,\n                        documents_required: documents_required ?? 0,\n                        is_generic_pm: is_generic_pm ?? false,\n                        identifier_type: identifier_type ?? '',\n                    };\n                });\n\n                return acc;\n            },\n            {}\n        );\n\n        return form_value;\n    }, [grouped_payment_method_data_keys, grouped_payment_method_data]);\n\n    const validateFields = (values: TProofOfOwnershipFormValue) => {\n        let errors = {} as TProofOfOwnershipErrors;\n\n        Object.keys(values).forEach(card_key => {\n            const card_data = values[card_key as TPaymentMethod];\n            Object.keys(card_data)?.forEach(payment_id => {\n                const payment_method_data = card_data[payment_id];\n                const is_payment_method_identifier_provided =\n                    payment_method_data?.is_generic_pm ||\n                    !!payment_method_data?.payment_method_identifier.trim()?.length;\n                const are_files_uploaded =\n                    payment_method_data?.files?.filter(file => file?.name).length ===\n                    payment_method_data?.documents_required;\n                if (are_files_uploaded && !is_payment_method_identifier_provided) {\n                    errors = {\n                        ...errors,\n                        [card_key]: { ...(errors[card_key as TPaymentMethod] ?? {}) },\n                    };\n                    errors[card_key as TPaymentMethod] = {\n                        ...errors[card_key as TPaymentMethod],\n                        [payment_id]: {\n                            ...(errors[card_key as TPaymentMethod]?.[payment_id] ?? {}),\n                            payment_method_identifier: localize('Please complete this field.'),\n                        },\n                    };\n                } else {\n                    delete errors[card_key as TPaymentMethod]?.[payment_id]?.payment_method_identifier;\n                }\n                if (is_payment_method_identifier_provided) {\n                    const verify_payment_method_identifier = isValidPaymentMethodIdentifier(\n                        payment_method_data.payment_method_identifier.trim(),\n                        payment_method_data.identifier_type\n                    );\n                    if (verify_payment_method_identifier) {\n                        errors = {\n                            ...errors,\n                            [card_key]: { ...(errors[card_key as TPaymentMethod] ?? {}) },\n                        };\n                        errors[card_key as TPaymentMethod] = {\n                            ...errors[card_key as TPaymentMethod],\n                            [payment_id]: {\n                                ...(errors[card_key as TPaymentMethod]?.[payment_id] ?? {}),\n                                payment_method_identifier: verify_payment_method_identifier,\n                            },\n                        };\n                    } else {\n                        delete errors[card_key as TPaymentMethod]?.[payment_id]?.payment_method_identifier;\n                    }\n                    if (!are_files_uploaded) {\n                        errors = {\n                            ...errors,\n                            [card_key]: { ...(errors[card_key as TPaymentMethod] ?? {}) },\n                        };\n                        errors[card_key as TPaymentMethod] = {\n                            ...errors[card_key as TPaymentMethod],\n                            [payment_id]: {\n                                ...(errors[card_key as TPaymentMethod]?.[payment_id] ?? {}),\n                                files: {},\n                            },\n                        };\n                    }\n                }\n                payment_method_data?.files?.forEach((file, i) => {\n                    if (!file?.name) {\n                        return;\n                    }\n                    const verify_file = isValidFile(file);\n                    if (verify_file) {\n                        errors = {\n                            ...errors,\n                            [card_key]: { ...(errors[card_key as TPaymentMethod] ?? {}) },\n                        };\n                        errors[card_key as TPaymentMethod] = {\n                            ...errors[card_key as TPaymentMethod],\n                            [payment_id]: {\n                                ...(errors[card_key as TPaymentMethod]?.[payment_id] ?? {}),\n                                files: {\n                                    ...errors[card_key as TPaymentMethod]?.[payment_id]?.files,\n                                    [i]: verify_file,\n                                },\n                            },\n                        };\n                    } else {\n                        delete errors?.[card_key as TPaymentMethod]?.[payment_id]?.files?.[i];\n                    }\n                });\n            });\n        });\n        return errors;\n    };\n\n    const handleFormSubmit = async (\n        values: Partial<TProofOfOwnershipFormValue>,\n        action: FormikHelpers<Partial<TProofOfOwnershipFormValue>>\n    ) => {\n        const { setFieldError, setSubmitting } = action;\n        try {\n            const uploader = new DocumentUploader({ connection: WS.getSocket() });\n            setSubmitting(true);\n            await Object.keys(values).reduce(async (promise, card_key) => {\n                await promise;\n                const payment_method_details = values[card_key];\n                await Object.keys(payment_method_details)?.reduce(async (promise, payment_id) => {\n                    await promise;\n                    const payment_method_detail = payment_method_details[payment_id];\n                    if (payment_method_detail?.files?.length) {\n                        const processed_files = await readFiles(payment_method_detail.files, fileReadErrorMessage, {\n                            document_type: UPLOAD_FILE_TYPE.proof_of_ownership,\n                            proof_of_ownership: {\n                                details: {\n                                    email: client_email,\n                                    payment_identifier: payment_method_detail.payment_method_identifier,\n                                },\n                                id: payment_method_detail.id,\n                            },\n                        });\n                        await processed_files.reduce(async (promise, processed_file, index) => {\n                            await promise;\n                            const response = await uploader.upload(processed_file);\n                            const upload_error: Array<string> = [];\n                            if (response?.warning) {\n                                if (\n                                    response?.warning?.trim() === API_ERROR_CODES.DUPLICATE_DOCUMENT &&\n                                    response?.message\n                                ) {\n                                    upload_error[index] = response?.message;\n                                    const error_obj = {\n                                        [payment_id]: {\n                                            files: upload_error,\n                                        },\n                                    };\n                                    // @ts-expect-error Error is an array\n                                    setFieldError(card_key, { ...error_obj });\n                                }\n                            } else {\n                                updateAccountStatus();\n                                refreshNotifications();\n                            }\n                        }, Promise.resolve());\n                    }\n                }, Promise.resolve());\n            }, Promise.resolve());\n        } catch (err) {\n            console.warn(err); // eslint-disable-line no-console\n        } finally {\n            setSubmitting(false);\n        }\n    };\n\n    return (\n        <Formik initialValues={initial_values} validate={validateFields} onSubmit={handleFormSubmit}>\n            {({ isValid, dirty, isSubmitting }) => (\n                <Form data-testid='dt_poo_form' className='proof-of-ownership'>\n                    <FormBody scroll_offset={getScrollOffset(grouped_payment_method_data_keys.length)}>\n                        <FormSubHeader title={localize('Please upload the following document(s).')} />\n                        <FormBodySection>\n                            <fieldset>\n                                {grouped_payment_method_data_keys?.map((grouped_payment_method_data_key, index) => (\n                                    <div\n                                        className='proof-of-ownership__form-content'\n                                        key={grouped_payment_method_data_key}\n                                    >\n                                        {grouped_payment_method_data_keys.length > 1 && (\n                                            <div className='proof-of-ownership__progress'>\n                                                <div className='proof-of-ownership__progress-number'>{index + 1}</div>\n                                                {index !== grouped_payment_method_data_keys.length - 1 && (\n                                                    <div className='proof-of-ownership__progress-bar' />\n                                                )}\n                                            </div>\n                                        )}\n                                        <Card\n                                            details={\n                                                grouped_payment_method_data[\n                                                    grouped_payment_method_data_key\n                                                ] as TPaymentMethodInfo\n                                            }\n                                        />\n                                    </div>\n                                ))}\n                            </fieldset>\n                        </FormBodySection>\n                    </FormBody>\n                    <FormFooter>\n                        <Button\n                            type='submit'\n                            className='account-form__footer-btn'\n                            is_disabled={!dirty || !isValid}\n                            has_effect\n                            large\n                            primary\n                            is_loading={isSubmitting}\n                        >\n                            <Localize i18n_default_text='Submit' />\n                        </Button>\n                    </FormFooter>\n                </Form>\n            )}\n        </Formik>\n    );\n});\n\nProofOfOwnershipForm.displayName = 'ProofOfOwnershipForm';\n\nexport default ProofOfOwnershipForm;\n","import { hasInvalidCharacters, isFormattedCardNumber, validFile } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\nimport { CARD_NUMBER, IDENTIFIER_TYPES, MAX_FILE_SIZE } from 'Constants/poo-identifier';\nimport { TPaymentMethodIdentifier } from 'Types';\n\nexport const isValidPaymentMethodIdentifier = (\n    payment_method_identifier: string,\n    identifier_type: TPaymentMethodIdentifier | ''\n) => {\n    const default_error_message = localize('Enter your full card number');\n\n    if (identifier_type === IDENTIFIER_TYPES.CARD_NUMBER) {\n        if (payment_method_identifier.length < CARD_NUMBER.MIN_LENGTH) {\n            return default_error_message;\n        } else if (payment_method_identifier.length === CARD_NUMBER.MIN_LENGTH) {\n            return !hasInvalidCharacters(payment_method_identifier) ? null : default_error_message;\n        } else if (\n            payment_method_identifier.length !== CARD_NUMBER.MIN_LENGTH ||\n            payment_method_identifier.length > CARD_NUMBER.MAX_LENGTH\n        ) {\n            return isFormattedCardNumber(payment_method_identifier) ? null : default_error_message;\n        }\n        return null;\n    }\n    return null;\n};\n\nexport const isValidFile = (file: File) => {\n    if (!validFile(file)) {\n        return localize(\"That file format isn't supported. Please upload .pdf, .png, .jpg, or .jpeg files only.\");\n    } else if (file?.size / 1024 > MAX_FILE_SIZE) {\n        return localize('That file is too big (only up to 8MB allowed). Please upload another file.');\n    }\n    return null;\n};\n","import POONotRequired from './poo-not-required';\n\nexport default POONotRequired;\n","import React from 'react';\nimport { Icon } from '@deriv/components';\nimport { Localize } from '@deriv/translations';\nimport IconMessageContent from 'Components/icon-message-content';\n\nconst POONotRequired = () => (\n    <div className='proof-of-ownership__container'>\n        <IconMessageContent\n            icon={<Icon icon='IcPooVerified' size={128} />}\n            message={<Localize i18n_default_text=\"Your proof of ownership isn't required.\" />}\n            text={\n                <Localize i18n_default_text='You are not required to submit proof of ownership at this time. We will inform you if proof of ownership is required in the future.' />\n            }\n        />\n    </div>\n);\n\nexport default POONotRequired;\n","import POOVerified from './poo-verified';\n\nexport default POOVerified;\n","import React from 'react';\nimport { Icon } from '@deriv/components';\nimport { Localize } from '@deriv/translations';\nimport IconMessageContent from 'Components/icon-message-content';\n\nconst POOVerified = () => (\n    <div className='proof-of-ownership__container'>\n        <IconMessageContent\n            message={<Localize i18n_default_text='Proof of ownership verification passed.' />}\n            icon={<Icon icon='IcPooVerified' size={128} />}\n        />\n    </div>\n);\n\nexport default POOVerified;\n","import POORejected from './poo-rejected';\n\nexport default POORejected;\n","import React from 'react';\nimport { Button, Icon } from '@deriv/components';\nimport { Localize } from '@deriv/translations';\nimport IconMessageContent from 'Components/icon-message-content';\n\ntype TPOORejected = {\n    onTryAgain: () => void;\n};\n\nconst POORejected = ({ onTryAgain }: TPOORejected) => (\n    <div className='proof-of-ownership__container'>\n        <div className='proof-of-ownership__container--content'>\n            <IconMessageContent\n                icon={<Icon icon='IcPooRejected' size={128} />}\n                is_disabled_for_mobile\n                message={<Localize i18n_default_text='Proof of ownership verification failed' />}\n                text={<Localize i18n_default_text='We were unable to verify your proof of ownership.' />}\n            />\n            <Button\n                className='proof-of-ownership__try-again-button'\n                data-testid='dt_try-again-button'\n                large\n                onClick={onTryAgain}\n                primary\n                type='button'\n            >\n                <Localize i18n_default_text='Try again' />\n            </Button>\n        </div>\n    </div>\n);\n\nexport default POORejected;\n","import POOSubmitted from './poo-submitted';\n\nexport default POOSubmitted;\n","import React from 'react';\nimport { Icon } from '@deriv/components';\nimport { Localize } from '@deriv/translations';\nimport IconMessageContent from 'Components/icon-message-content';\n\nconst POOSubmitted = () => (\n    <div className='proof-of-ownership__container'>\n        <IconMessageContent\n            icon={<Icon icon='IcPooSubmitted' size={128} />}\n            message={<Localize i18n_default_text='We’ve received your proof of ownership.' />}\n            text={\n                <Localize i18n_default_text='We’ll review your documents and notify you of its status within 3 days.' />\n            }\n        />\n    </div>\n);\n\nexport default POOSubmitted;\n","import React from 'react';\nimport { Localize, localize } from '@deriv/translations';\n\nconst getPaymentMethodsConfig = () => ({\n    advcash: {\n        icon_light: 'IcAdvcashLight',\n        icon_dark: 'IcAdvcashDark',\n        instructions: [\n            <Localize\n                key={0}\n                i18n_default_text='Upload a screenshot of your name and email address from the personal information section.'\n            />,\n        ],\n        input_label: localize('Email address'),\n        identifier_type: 'email_address',\n    },\n    astropay: {\n        icon_light: 'IcAstroPayLight',\n        icon_dark: 'IcAstroPayDark',\n        instructions: [\n            <Localize\n                key={0}\n                i18n_default_text='Upload 2 separate screenshots from the personal details page and the account page via <0>https://app.astropay.com/profile</0>'\n                components={[\n                    <a\n                        key={0}\n                        className='link  proof-of-ownership-link'\n                        target='_blank'\n                        rel='noreferrer'\n                        href='https://app.astropay.com/profile'\n                        aria-label='Read more on AstroPay'\n                    />,\n                ]}\n            />,\n        ],\n        input_label: localize('Account number'),\n        identifier_type: 'account_number',\n    },\n    beyonic: {\n        icon_light: 'IcBeyonic',\n        icon_dark: 'IcBeyonic',\n        instructions: [\n            <Localize\n                key={0}\n                i18n_default_text='Upload your mobile bill statement showing your name and phone number.'\n            />,\n        ],\n        input_label: localize('Mobile number'),\n        identifier_type: 'mobile_number',\n    },\n    'boleto (d24 voucher)': {\n        icon_light: 'IcBoletoD24VoucherLight',\n        icon_dark: 'IcBoletoD24VoucherDark',\n        instructions: [\n            <Localize key={0} i18n_default_text='Upload your bank statement showing your name and account details.' />,\n        ],\n        input_label: localize('Bank account number'),\n        identifier_type: 'bank_account_number',\n    },\n    visa: {\n        icon_light: 'IcVisaLight',\n        icon_dark: 'IcVisaDark',\n        instructions: [\n            <Localize\n                key={0}\n                i18n_default_text='Upload a photo showing your name and the first six and last four digits of your card number. If the card does not display your name, upload the bank statement showing your name and card number in the transaction history.'\n            />,\n        ],\n        input_label: localize('Card number'),\n        identifier_type: 'card_number',\n    },\n    mastercard: {\n        icon_light: 'IcMasterCardLight',\n        icon_dark: 'IcMasterCardDark',\n        instructions: [\n            <Localize\n                key={0}\n                i18n_default_text='Upload a photo showing your name and the first six and last four digits of your card number. If the card does not display your name, upload the bank statement showing your name and card number in the transaction history.'\n            />,\n        ],\n        input_label: localize('Card number'),\n        identifier_type: 'card_number',\n    },\n    pix: {\n        icon_light: 'IcPixLight',\n        icon_dark: 'IcPixDark',\n        instructions: [\n            <Localize\n                key={0}\n                i18n_default_text='Upload a screenshot of either of the following to process the transaction:'\n            />,\n            <Localize key={1} i18n_default_text='- your account profile section on the website' />,\n            <Localize key={2} i18n_default_text='- the Account Information page on the app' />,\n            <Localize key={3} i18n_default_text='- your account details of the bank linked to your account' />,\n        ],\n        input_label: localize('User ID'),\n        identifier_type: 'user_id',\n    },\n    skrill: {\n        icon_light: 'IcSkrillLight',\n        icon_dark: 'IcSkrillDark',\n        instructions: [\n            <Localize\n                key={0}\n                i18n_default_text='Upload a screenshot of your name, account number, and email address from the personal details section of the app or profile section of your account on the website.'\n            />,\n        ],\n        input_label: localize('Email address'),\n        identifier_type: 'email_address',\n    },\n    neteller: {\n        icon_light: 'IcNetellerLight',\n        icon_dark: 'IcNetellerDark',\n        instructions: [\n            localize(\n                'Upload a screenshot of your name, account number, and email address from the personal details section of the app or profile section of your account on the website.'\n            ),\n        ],\n        input_label: localize('Email address'),\n        identifier_type: 'email_address',\n    },\n    onlinenaira: {\n        icon_light: 'IcOnlineNaira',\n        icon_dark: 'IcOnlineNaira',\n        instructions: [\n            <Localize\n                key={0}\n                i18n_default_text='Upload a screenshot of your username on the General Information page at <0>https://onlinenaira.com/members/index.htm</0>'\n                components={[\n                    <a\n                        key={0}\n                        className='link proof-of-ownership-link'\n                        target='_blank'\n                        rel='noreferrer'\n                        href='https://onlinenaira.com/members/index.htm'\n                        aria-label='Read more on OnlineNaira'\n                    />,\n                ]}\n            />,\n            <Localize\n                key={1}\n                i18n_default_text='Upload a screenshot of your account number and phone number on the Bank Account/Mobile wallet page at <0>https://onlinenaira.com/members/bank.htm</0>'\n                components={[\n                    <a\n                        key={0}\n                        className='link  proof-of-ownership-link'\n                        target='_blank'\n                        rel='noreferrer'\n                        href='https://onlinenaira.com/members/bank.htm'\n                        aria-label='Read more on OnlineNaira'\n                    />,\n                ]}\n            />,\n        ],\n        input_label: localize('Account ID'),\n        identifier_type: 'account_id',\n    },\n    webmoney: {\n        icon_light: 'IcWebMoneyLight',\n        icon_dark: 'IcWebMoneyDark',\n        instructions: [\n            <Localize\n                key={0}\n                i18n_default_text='Upload a screenshot of your account and personal details page with your name, account number, phone number, and email address.'\n            />,\n        ],\n        input_label: localize('Account number'),\n        identifier_type: 'account_number',\n    },\n    zingpay: {\n        icon_light: 'IcZingpay',\n        icon_dark: 'IcZingpay',\n        instructions: [\n            <Localize\n                key={0}\n                i18n_default_text='Upload your bank statement showing your name, account number, and transaction history.'\n            />,\n        ],\n        input_label: localize('Bank account number'),\n        identifier_type: 'bank_account_number',\n    },\n    sticpay: {\n        icon_light: 'IcSticpayLight',\n        icon_dark: 'IcSticpayDark',\n        instructions: [\n            <Localize\n                key={0}\n                i18n_default_text='Upload a screenshot of your name and email address from the personal details section.'\n            />,\n        ],\n        input_label: localize('Email address'),\n        identifier_type: 'email_address',\n    },\n    jeton: {\n        icon_light: 'IcJetonLight',\n        icon_dark: 'IcJetonDark',\n        instructions: [\n            <Localize\n                key={0}\n                i18n_default_text='Upload a screenshot of your name and account number from the personal details section.'\n            />,\n        ],\n        input_label: localize('Account number'),\n        identifier_type: 'account_number',\n    },\n    other: {\n        icon_light: 'IcOtherPaymentMethod',\n        icon_dark: 'IcOtherPaymentMethod',\n        instructions: [\n            <Localize\n                key={0}\n                i18n_default_text='Upload a document showing your name and bank account number or account details.'\n            />,\n        ],\n        input_label: null,\n        identifier_type: 'none',\n    },\n});\n\nexport default getPaymentMethodsConfig;\n","import React, { useEffect, useState } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { GetAccountStatus } from '@deriv/api-types';\nimport { Loading } from '@deriv/components';\nimport { observer, useStore } from '@deriv/stores';\nimport { AUTH_STATUS_CODES } from '@deriv/shared';\nimport ProofOfOwnershipForm from './proof-of-ownership-form';\nimport { POONotRequired, POOVerified, POORejected, POOSubmitted } from '../../../Components/poo/statuses';\nimport getPaymentMethodsConfig from '../../../Configs/payment-method-config';\nimport { TPaymentMethod, TPaymentMethodIdentifier, TPaymentMethodInfo, TAuthStatusCodes } from '../../../Types';\n\ntype TPaymentData = DeepRequired<GetAccountStatus>['authentication']['ownership']['requests'];\n\nexport const ProofOfOwnership = observer(() => {\n    const { client, ui } = useStore();\n    const { account_status } = client;\n    const { is_dark_mode_on: is_dark_mode } = ui;\n    const cards = account_status?.authentication?.ownership?.requests;\n    const [status, setStatus] = useState<TAuthStatusCodes>();\n    const [retry, setRetry] = useState(false);\n\n    const grouped_payment_method_data = React.useMemo(() => {\n        const groups: Partial<Record<TPaymentMethod, TPaymentMethodInfo>> = {};\n        const payment_methods_config = getPaymentMethodsConfig();\n        cards?.forEach(card => {\n            const card_payment_method = card?.payment_method?.toLowerCase();\n            const card_details =\n                payment_methods_config[card_payment_method as TPaymentMethod] || payment_methods_config.other;\n\n            if (groups[card_payment_method as TPaymentMethod]) {\n                groups[card_payment_method as TPaymentMethod]?.items?.push(card as TPaymentData[number]);\n            } else {\n                groups[card_payment_method as TPaymentMethod] = {\n                    documents_required: (card as TPaymentData[number])?.documents_required,\n                    icon: is_dark_mode ? card_details?.icon_dark : card_details?.icon_light,\n                    payment_method: (card as TPaymentData[number])?.payment_method,\n                    items: [card as TPaymentData[number]],\n                    instructions: card_details.instructions,\n                    input_label: card_details?.input_label,\n                    identifier_type: card_details.identifier_type as TPaymentMethodIdentifier,\n                    is_generic_pm: !card_details?.input_label,\n                };\n            }\n        });\n        return { groups };\n    }, [cards, is_dark_mode]);\n\n    useEffect(() => {\n        setStatus(account_status?.authentication?.ownership?.status?.toLowerCase() as TAuthStatusCodes);\n    }, [account_status]);\n\n    const onTryAgain = () => {\n        setRetry(true);\n    };\n\n    if (cards?.length && (status !== AUTH_STATUS_CODES.REJECTED || retry)) {\n        return <ProofOfOwnershipForm grouped_payment_method_data={grouped_payment_method_data.groups} />;\n    }\n    if (status === AUTH_STATUS_CODES.VERIFIED) return <POOVerified />;\n    if (status === AUTH_STATUS_CODES.PENDING) return <POOSubmitted />;\n    if (status === AUTH_STATUS_CODES.NONE) return <POONotRequired />;\n    if (status === AUTH_STATUS_CODES.REJECTED) return <POORejected onTryAgain={onTryAgain} />;\n    return <Loading is_fullscreen={false} className='account__initial-loader' />;\n});\n\nProofOfOwnership.displayName = 'ProofOfOwnership';\n\nexport default withRouter(ProofOfOwnership);\n","import POO from './proof-of-ownership';\n\nexport default POO;\n","import { localize } from '@deriv/translations';\n\nexport const income_status_codes = {\n    NONE: 'none',\n    PENDING: 'pending',\n    REJECTED: 'rejected',\n    VERIFIED: 'verified',\n    LOCKED: 'locked',\n} as const;\n\nexport const getPoincDocumentsList = () =>\n    [\n        { text: localize('Tax return'), value: 'tax_return' },\n        { text: localize('Employment contract'), value: 'employment_contract' },\n        { text: localize('Payslip'), value: 'payslip' },\n        { text: localize('Certificate of incorporation'), value: 'coi' },\n        { text: localize('Business proof of address'), value: 'business_poa' },\n        { text: localize('Article of association'), value: 'article_of_association' },\n        { text: localize('Memorandum'), value: 'memorandum' },\n        { text: localize('Authorization letter'), value: 'authorisation_letter' },\n        { text: localize('Declarations'), value: 'declarations' },\n    ] as const;\n","import React from 'react';\nimport { Field, Formik, Form, FormikErrors, FormikHelpers, FormikValues } from 'formik';\nimport { AccountStatusResponse, DocumentUploadRequest } from '@deriv/api-types';\nimport { Autocomplete, Button, FormSubmitErrorMessage, SelectNative } from '@deriv/components';\nimport { useFileUploader } from '@deriv/hooks';\nimport { useTranslations, Localize } from '@deriv-com/translations';\nimport { isEqualArray, WS } from '@deriv/shared';\nimport { observer, useStore } from '@deriv/stores';\nimport FilesDescription from 'Components/file-uploader-container/files-descriptions';\nimport FormBody from 'Components/form-body';\nimport FormFooter from 'Components/form-footer';\nimport FormSubHeader from 'Components/form-sub-header';\nimport FileUploaderContainer from '../../../Components/file-uploader-container';\nimport { getFileUploaderDescriptions } from '../../../Constants/file-uploader';\nimport { isServerError } from 'Helpers/utils';\nimport { income_status_codes, getPoincDocumentsList } from 'Sections/Verification/ProofOfIncome/proof-of-income-utils';\nimport { useDevice } from '@deriv-com/ui';\n\ntype TProofOfIncomeForm = {\n    onSubmit: (status: typeof income_status_codes[keyof typeof income_status_codes]) => void;\n};\n\ntype TInitialValues = {\n    document_type: DocumentUploadRequest['document_type'] | '';\n};\n\nconst ProofOfIncomeForm = observer(({ onSubmit }: TProofOfIncomeForm) => {\n    const [document_file, setDocumentFile] = React.useState<File[]>([]);\n    const [file_selection_error, setFileSelectionError] = React.useState<string | null>(null);\n    const { localize } = useTranslations();\n    const { notifications } = useStore();\n    const { addNotificationMessageByKey, removeNotificationMessage, removeNotificationByKey } = notifications;\n    const { isMobile, isDesktop } = useDevice();\n\n    const { upload } = useFileUploader();\n\n    const poinc_documents_list = React.useMemo(() => getPoincDocumentsList(), []);\n    const poinc_uploader_files_descriptions = React.useMemo(() => getFileUploaderDescriptions('poinc'), []);\n\n    const initial_form_values: TInitialValues = {\n        document_type: '',\n    };\n\n    const validateFields = (values: TInitialValues) => {\n        const errors: FormikErrors<TInitialValues> = {};\n        const { document_type } = values;\n        const is_document_type_supported = Boolean(poinc_documents_list.find(c => c.text === document_type));\n\n        if (!document_type || !is_document_type_supported) {\n            errors.document_type = localize('This field is required.');\n        }\n\n        return errors;\n    };\n\n    const onSubmitValues = async (\n        values: TInitialValues,\n        { setStatus, setSubmitting }: FormikHelpers<TInitialValues>\n    ) => {\n        const uploading_value = poinc_documents_list.find(doc => doc.text === values.document_type)?.value ?? '';\n\n        if (uploading_value) {\n            setSubmitting(true);\n            try {\n                const api_response = await upload(document_file, { document_type: uploading_value });\n                if (api_response.warning) {\n                    setStatus({ msg: api_response.message });\n                } else {\n                    const get_account_status_response: DeepRequired<AccountStatusResponse> =\n                        await WS.authorized.getAccountStatus();\n\n                    const { income, needs_verification } =\n                        get_account_status_response?.get_account_status?.authentication || {};\n                    const needs_poinc =\n                        needs_verification.includes('income') &&\n                        [income_status_codes.REJECTED, income_status_codes.NONE].some(\n                            status => status === income?.status\n                        );\n                    removeNotificationMessage({ key: 'needs_poinc' });\n                    removeNotificationByKey({ key: 'needs_poinc' });\n                    removeNotificationMessage({ key: 'poinc_upload_limited' });\n                    removeNotificationByKey({ key: 'poinc_upload_limited' });\n                    onSubmit(income?.status);\n                    if (needs_poinc) {\n                        addNotificationMessageByKey('needs_poinc');\n                    }\n                }\n            } catch (error) {\n                if (isServerError(error)) {\n                    setStatus({ msg: error.message });\n                }\n            } finally {\n                setSubmitting(false);\n            }\n        }\n    };\n\n    return (\n        <Formik initialValues={initial_form_values} onSubmit={onSubmitValues} validate={validateFields}>\n            {({\n                errors,\n                handleChange,\n                handleSubmit,\n                isSubmitting,\n                isValid,\n                setFieldValue,\n                setStatus,\n                status,\n                touched,\n                values,\n            }) => (\n                <Form noValidate className='proof-of-income__form' onSubmit={handleSubmit}>\n                    <FormBody scroll_offset={isDesktop ? '0' : '20rem'}>\n                        <fieldset className='proof-of-income__form-field'>\n                            <FormSubHeader\n                                title={localize('Select document')}\n                                title_text_size={isMobile ? 'xs' : 's'}\n                            />\n                            <Field name='document_type'>\n                                {({ field }: FormikValues) => (\n                                    <React.Fragment>\n                                        {isDesktop ? (\n                                            <Autocomplete\n                                                {...field}\n                                                name='document_type'\n                                                data-lpignore='true'\n                                                autoComplete='off'\n                                                type='text'\n                                                list_height='36rem'\n                                                placeholder={localize('Select your document*')}\n                                                error={touched.document_type && errors.document_type}\n                                                list_items={poinc_documents_list}\n                                                value={values.document_type}\n                                                onChange={handleChange}\n                                                onItemSelection={({\n                                                    value,\n                                                    text,\n                                                }: typeof poinc_documents_list[number]) => {\n                                                    setFieldValue('document_type', value ? text : '', true);\n                                                    setStatus({ msg: '' });\n                                                }}\n                                                required\n                                            />\n                                        ) : (\n                                            <SelectNative\n                                                name='document_type'\n                                                placeholder={localize('Select your document*')}\n                                                label={localize('Select your document*')}\n                                                value={values.document_type}\n                                                // @ts-expect-error [TODO]:Fix types for SelectNative\n                                                list_items={poinc_documents_list}\n                                                error={touched.document_type ? errors.document_type : undefined}\n                                                use_text\n                                                onChange={e => {\n                                                    setFieldValue('document_type', e.target.value, true);\n                                                    setStatus({ msg: '' });\n                                                }}\n                                                required\n                                                hide_top_placeholder\n                                            />\n                                        )}\n                                    </React.Fragment>\n                                )}\n                            </Field>\n                        </fieldset>\n                        <div className='proof-of-income__form-field'>\n                            <FormSubHeader\n                                title={localize('Document submission')}\n                                title_text_size={isMobile ? 'xs' : 's'}\n                            />\n                            <FileUploaderContainer\n                                onFileDrop={files => {\n                                    setDocumentFile(prevFiles => {\n                                        if (!isEqualArray(prevFiles, files)) setStatus({ msg: '' });\n                                        return files;\n                                    });\n                                }}\n                                onError={setFileSelectionError}\n                                files_description={\n                                    <FilesDescription\n                                        descriptions={poinc_uploader_files_descriptions.descriptions}\n                                        title={poinc_uploader_files_descriptions.title}\n                                    />\n                                }\n                            />\n                        </div>\n                    </FormBody>\n                    <FormFooter>\n                        {status?.msg && <FormSubmitErrorMessage message={status.msg} />}\n                        <Button\n                            className='account-form__footer-btn'\n                            type='submit'\n                            is_disabled={\n                                !values.document_type ||\n                                isSubmitting ||\n                                !isValid ||\n                                !document_file.length ||\n                                !!file_selection_error ||\n                                !!status.msg\n                            }\n                            is_loading={isSubmitting}\n                            has_effect\n                            primary\n                        >\n                            <Localize i18n_default_text='Save and submit' />\n                        </Button>\n                    </FormFooter>\n                </Form>\n            )}\n        </Formik>\n    );\n});\n\nexport default ProofOfIncomeForm;\n","import { PoincFailed } from './failed';\n\nexport default PoincFailed;\n","import React from 'react';\nimport { Button, Icon } from '@deriv/components';\nimport { Localize } from '@deriv/translations';\nimport IconMessageContent from 'Components/icon-message-content';\nimport { income_status_codes } from 'Sections/Verification/ProofOfIncome/proof-of-income-utils';\n\ntype TPoincUnverified = {\n    onReSubmit: (status: typeof income_status_codes[keyof typeof income_status_codes]) => void;\n};\n\nexport const PoincFailed = ({ onReSubmit }: TPoincUnverified) => (\n    <IconMessageContent\n        message={<Localize i18n_default_text='Income verification failed' />}\n        text={\n            <Localize\n                i18n_default_text=\"We were unable to verify your income. <0 /> Please check the email we've sent you for further information.\"\n                components={[<br key={0} />]}\n            />\n        }\n        icon={<Icon icon='IcPoincFailed' size={128} />}\n    >\n        <Button\n            type='button'\n            className='account-management__continue'\n            onClick={() => onReSubmit(income_status_codes.NONE)}\n            large\n            primary\n        >\n            <Localize i18n_default_text='Try Again' />\n        </Button>\n    </IconMessageContent>\n);\n","import { PoincReceived } from './received';\n\nexport default PoincReceived;\n","import React from 'react';\nimport { Icon } from '@deriv/components';\nimport { Localize } from '@deriv/translations';\nimport IconMessageContent from 'Components/icon-message-content';\n\nexport const PoincReceived = () => (\n    <IconMessageContent\n        message={<Localize i18n_default_text=\"We've received your proof of income\" />}\n        text={\n            <Localize i18n_default_text=\"We'll review your documents and notify you of its status within 7 working days.\" />\n        }\n        icon={<Icon icon='IcPoincReceived' size={128} />}\n    />\n);\n","import { PoincLimited } from './limited';\n\nexport default PoincLimited;\n","import React from 'react';\nimport { Icon } from '@deriv/components';\nimport { Localize } from '@deriv/translations';\nimport IconMessageContent from 'Components/icon-message-content';\n\nexport const PoincLimited = () => (\n    <IconMessageContent\n        message={<Localize i18n_default_text='Limit reached' />}\n        text={\n            <Localize\n                i18n_default_text=\"You have reached the maximum number of allowed attempts for submitting proof of income. <0 /> Please check the email we've sent you for further information.\"\n                components={[<br key={0} />]}\n            />\n        }\n        icon={<Icon icon='IcPoincLimited' size={128} />}\n    />\n);\n","import { PoincVerified } from './verified';\n\nexport default PoincVerified;\n","import React from 'react';\nimport { Icon } from '@deriv/components';\nimport { Localize } from '@deriv/translations';\nimport IconMessageContent from 'Components/icon-message-content';\n\nexport const PoincVerified = () => (\n    <IconMessageContent\n        message={<Localize i18n_default_text='Proof of income verification passed' />}\n        icon={<Icon icon='IcPoincVerified' size={128} />}\n    />\n);\n","import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { Loading } from '@deriv/components';\nimport { routes, WS } from '@deriv/shared';\nimport { AccountStatusResponse } from '@deriv/api-types';\nimport ProofOfIncomeForm from './proof-of-income-form';\nimport { income_status_codes } from './proof-of-income-utils';\nimport { populateVerificationStatus } from '../Helpers/verification';\nimport PoincFailed from '../../../Components/poinc/statuses/poinc-failed';\nimport PoincReceived from '../../../Components/poinc/statuses/poinc-received';\nimport PoincLimited from '../../../Components/poinc/statuses/poinc-limited';\nimport PoincVerified from '../../../Components/poinc/statuses/poinc-verified';\n\ntype TProofOfIncomeContainer = {\n    is_switching?: boolean;\n    refreshNotifications: () => void;\n};\n\nconst ProofOfIncomeContainer = ({ is_switching, refreshNotifications }: TProofOfIncomeContainer) => {\n    const [is_loading, setIsLoading] = React.useState(true);\n    const [authentication_status, setAuthenticationStatus] = React.useState<\n        Partial<ReturnType<typeof populateVerificationStatus>>\n    >({\n        allow_document_upload: false,\n        allow_poinc_resubmission: false,\n        needs_poinc: false,\n        income_status: income_status_codes.NONE,\n        is_age_verified: false,\n        is_fully_authenticated: false,\n    });\n\n    React.useEffect(() => {\n        if (!is_switching) {\n            WS.authorized.getAccountStatus().then((response: DeepRequired<AccountStatusResponse>) => {\n                const { get_account_status } = response;\n                const {\n                    allow_document_upload,\n                    allow_poinc_resubmission,\n                    income_status,\n                    needs_poinc,\n                    is_age_verified,\n                    is_fully_authenticated,\n                } = populateVerificationStatus(get_account_status);\n\n                setAuthenticationStatus({\n                    ...authentication_status,\n                    ...{\n                        allow_document_upload,\n                        allow_poinc_resubmission,\n                        needs_poinc,\n                        income_status,\n                        is_age_verified,\n                        is_fully_authenticated,\n                    },\n                });\n                setIsLoading(false);\n                refreshNotifications();\n            });\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [is_switching]);\n\n    const handleSubmit = (status: typeof income_status_codes[keyof typeof income_status_codes]) => {\n        setAuthenticationStatus({ ...authentication_status, ...{ income_status: status } });\n    };\n\n    const {\n        allow_document_upload,\n        allow_poinc_resubmission,\n        income_status,\n        needs_poinc,\n        is_age_verified,\n        is_fully_authenticated,\n    } = authentication_status;\n\n    const should_show_poinc_form =\n        allow_document_upload &&\n        needs_poinc &&\n        is_age_verified &&\n        ((allow_poinc_resubmission && income_status === income_status_codes.LOCKED) ||\n            income_status === income_status_codes.NONE);\n\n    if (is_loading) return <Loading is_fullscreen={false} className='account__initial-loader' />;\n    if (!needs_poinc || !is_fully_authenticated) return <Redirect to={routes.account} />;\n    if (should_show_poinc_form) return <ProofOfIncomeForm onSubmit={handleSubmit} />;\n    if (income_status === income_status_codes.PENDING) return <PoincReceived />;\n    if (income_status === income_status_codes.VERIFIED) return <PoincVerified />;\n    if (income_status === income_status_codes.REJECTED) return <PoincFailed onReSubmit={handleSubmit} />;\n    if (income_status === income_status_codes.LOCKED) return <PoincLimited />;\n\n    return null;\n};\n\nexport default ProofOfIncomeContainer;\n","import ProofOfIncome from './proof-of-income';\n\nexport default ProofOfIncome;\n","import React from 'react';\nimport { observer, useStore } from '@deriv/stores';\nimport DemoMessage from 'Components/demo-message';\nimport ProofOfIncomeContainer from './proof-of-income-container';\n\nconst ProofOfIncome = observer(() => {\n    const { client, notifications } = useStore();\n    const { is_switching, is_virtual } = client;\n    const { refreshNotifications } = notifications;\n\n    if (is_virtual) return <DemoMessage has_button />;\n\n    return (\n        <div className='proof-of-income'>\n            <ProofOfIncomeContainer is_switching={is_switching} refreshNotifications={refreshNotifications} />\n        </div>\n    );\n});\n\nexport default ProofOfIncome;\n","import React from 'react';\nimport { useOauth2 } from '@deriv/hooks';\nimport { Text, Icon } from '@deriv/components';\nimport { Localize } from '@deriv/translations';\n\n/**\n * Content to be displayed in  the side bar\n * @name TradingHubLogout\n * @param handleOnLogout - function to handle action when user click on logout\n * @returns React Component\n */\nconst TradingHubLogout = ({ handleOnLogout }: { handleOnLogout: () => Promise<void> }) => {\n    const { oAuthLogout } = useOauth2({ handleLogout: handleOnLogout });\n    return (\n        <div\n            className='dc-vertical-tab__header-account__logout-tab'\n            onClick={oAuthLogout}\n            data-testid='dt_logout_tab'\n            onKeyDown={e => {\n                if (e.key === 'Enter' || e.key === ' ') {\n                    oAuthLogout();\n                }\n            }}\n            role='button'\n            tabIndex={0}\n        >\n            <div className='dc-vertical-tab__header-account__logout'>\n                <Icon icon='IcLogout' className='dc-vertical-tab__header-account__logout--icon' />\n                <Text size='xs' weight='bold'>\n                    <Localize i18n_default_text='Log out' />\n                </Text>\n            </div>\n        </div>\n    );\n};\n\nexport default TradingHubLogout;\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Analytics } from '@deriv-com/analytics';\nimport { PageOverlay, VerticalTab } from '@deriv/components';\nimport { getOSNameWithUAParser, getSelectedRoute, routes as shared_routes, platforms } from '@deriv/shared';\nimport { observer, useStore } from '@deriv/stores';\nimport { Localize } from '@deriv/translations';\nimport TradingHubLogout from './tradinghub-logout';\nimport { TRoute } from '../../Types';\nimport { useDevice } from '@deriv-com/ui';\n\ntype RouteItems = React.ComponentProps<typeof VerticalTab>['list'];\n\ntype PageOverlayWrapperProps = {\n    routes: Array<TRoute>;\n    subroutes: TRoute[];\n};\n\n/**\n * @name PageOverlayWrapper\n * @param routes - routes object pased by react-router-dom\n * @param subroutes - list of subroutes\n */\nconst PageOverlayWrapper = observer(({ routes, subroutes }: PageOverlayWrapperProps) => {\n    const history = useHistory();\n    const { client, common, ui } = useStore();\n    const { logout, setIsLoggingOut } = client;\n    const { is_from_derivgo, is_from_tradershub_os, is_from_derivp2p } = common;\n    const { setIsForcedToExitPnv } = ui;\n    const { isDesktop } = useDevice();\n\n    const passkeysMenuCloseActionEventTrack = React.useCallback(() => {\n        Analytics.trackEvent('ce_passkey_account_settings_form', {\n            action: 'close',\n            form_name: 'ce_passkey_account_settings_form',\n            operating_system: getOSNameWithUAParser(),\n        });\n    }, []);\n\n    const list_groups = routes.map(route_group => ({\n        icon: route_group.icon,\n        label: route_group?.getTitle?.(),\n        subitems: route_group?.subroutes?.length ? route_group.subroutes.map(sub => subroutes.indexOf(sub)) : [],\n    }));\n\n    const onClickClose = React.useCallback(() => {\n        if (location.pathname === shared_routes.passkeys) {\n            passkeysMenuCloseActionEventTrack();\n        }\n\n        history.push(shared_routes.traders_hub);\n    }, [history]);\n\n    //@ts-expect-error as component type conflicts with VerticalTab type\n    const selected_route = getSelectedRoute({ routes: subroutes, pathname: location.pathname });\n\n    const onClickLogout = async () => {\n        setIsLoggingOut(true);\n        if (window.location.pathname.startsWith(shared_routes.phone_verification)) {\n            setIsForcedToExitPnv(true);\n            // Add a small delay to ensure state is updated before navigation because adding await doesn't work here\n            await new Promise(resolve => setTimeout(resolve, 0));\n        }\n        history.push(shared_routes.traders_hub);\n        await logout();\n    };\n\n    if (!isDesktop && selected_route) {\n        const RouteComponent = selected_route.component as React.ElementType<{ component_icon: string | undefined }>;\n        return (\n            <PageOverlay\n                header={selected_route?.getTitle?.()}\n                onClickClose={onClickClose}\n                is_from_app={is_from_derivgo}\n                is_from_derivp2p={is_from_derivp2p}\n                is_from_tradershub_os={is_from_tradershub_os}\n            >\n                <RouteComponent component_icon={selected_route.icon_component} />\n            </PageOverlay>\n        );\n    }\n\n    return (\n        <PageOverlay\n            header={<Localize i18n_default_text='Settings' />}\n            onClickClose={onClickClose}\n            is_from_app={is_from_derivgo}\n            is_from_derivp2p={is_from_derivp2p}\n            is_from_tradershub_os={is_from_tradershub_os}\n        >\n            <VerticalTab\n                is_floating\n                current_path={location.pathname}\n                is_routed\n                is_full_width\n                list={subroutes as RouteItems}\n                list_groups={list_groups}\n                extra_content={<TradingHubLogout handleOnLogout={onClickLogout} />}\n                is_sidebar_enabled={isDesktop}\n            />\n        </PageOverlay>\n    );\n});\n\nPageOverlayWrapper.displayName = 'PageOverlayWrapper';\n\nexport default PageOverlayWrapper;\n","import React from 'react';\nimport { RouteComponentProps, withRouter } from 'react-router-dom';\nimport { FadeWrapper, Loading } from '@deriv/components';\nimport { flatten, matchRoute, routes as shared_routes } from '@deriv/shared';\nimport { observer, useStore } from '@deriv/stores';\nimport PageOverlayWrapper from './page-overlay-wrapper';\nimport { TRoute } from '../../Types';\nimport 'Styles/account.scss';\nimport { useDevice } from '@deriv-com/ui';\n\ntype TAccountProps = RouteComponentProps & {\n    routes: Array<TRoute>;\n};\n\n/**\n * Component that renders the account section\n * @name Account\n * @param history - history object passed from react-router-dom\n * @param location - location object passed from react-router-dom\n * @param routes - routes object passed from react-router-dom\n * @returns React component\n */\nconst Account = observer(({ history, location, routes }: TAccountProps) => {\n    const { client, ui } = useStore();\n    const {\n        is_virtual,\n        is_logged_in,\n        is_logging_in,\n        is_proof_of_ownership_enabled,\n        landing_company_shortcode,\n        should_allow_authentication,\n        should_allow_poinc_authentication,\n        is_passkey_supported,\n    } = client;\n    const { toggleAccountSettings, is_account_settings_visible } = ui;\n    const { isMobile } = useDevice();\n    // subroutes of a route is structured as an array of arrays\n    const subroutes = flatten(routes.map(i => i.subroutes));\n    const selected_content = subroutes.find(r => matchRoute(r, location.pathname));\n    const should_remove_passkeys_route = !isMobile || (isMobile && !is_passkey_supported);\n\n    React.useEffect(() => {\n        return () => {\n            window.sessionStorage.removeItem('config.platform');\n        };\n    }, []);\n\n    React.useEffect(() => {\n        toggleAccountSettings(true);\n    }, [toggleAccountSettings]);\n\n    routes.forEach(menu_item => {\n        if (menu_item?.subroutes?.length) {\n            menu_item.subroutes.forEach(route => {\n                if (route.path === shared_routes.financial_assessment) {\n                    route.is_disabled = is_virtual;\n                }\n\n                if (route.path === shared_routes.trading_assessment) {\n                    route.is_disabled = is_virtual || landing_company_shortcode !== 'maltainvest';\n                }\n\n                if (route.path === shared_routes.proof_of_identity || route.path === shared_routes.proof_of_address) {\n                    route.is_disabled = !should_allow_authentication;\n                }\n\n                if (route.path === shared_routes.proof_of_ownership) {\n                    route.is_disabled = is_virtual || !is_proof_of_ownership_enabled;\n                }\n\n                if (route.path === shared_routes.proof_of_income) {\n                    route.is_disabled = !should_allow_poinc_authentication;\n                }\n\n                if (route.path === shared_routes.passkeys) {\n                    route.is_hidden = should_remove_passkeys_route;\n                }\n            });\n        }\n    });\n\n    if (!selected_content) {\n        history.push(shared_routes.personal_details);\n    }\n\n    if (!is_logged_in && is_logging_in) {\n        return <Loading is_fullscreen className='account__initial-loader' />;\n    }\n\n    return (\n        <FadeWrapper\n            is_visible={is_account_settings_visible}\n            className='account-page-wrapper'\n            keyname='account-page-wrapper'\n        >\n            <div className='account'>\n                <PageOverlayWrapper routes={routes} subroutes={subroutes} />\n            </div>\n        </FadeWrapper>\n    );\n});\n\nAccount.displayName = 'Account';\n\nexport default withRouter(Account);\n","/* eslint-disable @typescript-eslint/ban-ts-comment */\n//@ts-nocheck [TODO] - Need to fix typescript errors in Autocomplete & SelectNative components\n\nimport { useMemo, useRef } from 'react';\nimport { Form, Formik, FormikValues } from 'formik';\nimport clsx from 'clsx';\nimport { localize } from '@deriv-com/translations';\nimport { useDevice } from '@deriv-com/ui';\nimport EmploymentTaxDetailsContainer from '../employment-tax-details-container';\nimport { getEmploymentAndTaxValidationSchema } from '../../Configs/user-profile-validation-config';\nimport ScrollToFieldWithError from '../../Components/forms/scroll-to-field-with-error';\nimport { Div100vhContainer, FormSubmitButton, Modal, ThemedScrollbars } from '@deriv/components';\nimport { useTinValidations } from '@deriv/hooks';\nimport { observer, useStore } from '@deriv/stores';\nimport './employment-tax-info.scss';\n\ntype TEmploymentTaxInfoProps = {\n    disabled_items: string[];\n    getCurrentStep: () => number;\n    onSave: (current_step: number, values: FormikValues) => void;\n    onCancel: (current_step: number, goToPreviousStep: () => void) => void;\n    onSubmit: (\n        current_step: number,\n        values: FormikValues,\n        setSubmitting: (is_submitting: boolean) => void,\n        goToNextStep: () => void\n    ) => void;\n    goToPreviousStep: () => void;\n    goToNextStep: () => void;\n    real_account_signup_target: string;\n    value: FormikValues;\n};\n\nconst EmploymentTaxInfo = observer(\n    ({\n        disabled_items,\n        value,\n        getCurrentStep,\n        onSave,\n        onCancel,\n        onSubmit,\n        goToPreviousStep,\n        goToNextStep,\n        real_account_signup_target,\n    }: TEmploymentTaxInfoProps) => {\n        const { isMobile, isDesktop } = useDevice();\n        const scroll_div_ref = useRef(null);\n        const { tin_validation_config, mutate } = useTinValidations();\n        const { client } = useStore();\n\n        const editable_fields = useMemo(\n            () =>\n                ['employment_status', 'tax_residence', 'tax_identification_number'].filter(\n                    field => !disabled_items.includes(field)\n                ) || [],\n            [disabled_items]\n        );\n\n        const is_eu = real_account_signup_target === 'maltainvest';\n\n        const schema = getEmploymentAndTaxValidationSchema({\n            tin_config: tin_validation_config,\n            is_mf: is_eu,\n            is_real: !client.is_virtual,\n            is_duplicate_account:\n                client.account_settings.immutable_fields?.includes('tax_identification_number') ||\n                client.account_settings.immutable_fields?.includes('tax_residence'),\n            is_employment_status_tin_mandatory: true, // Override the value to true as we need to make Employment status mandatory for Real account creation\n        });\n\n        const handleCancel = (values: FormikValues) => {\n            const current_step = (getCurrentStep?.() || 1) - 1;\n            onSave(current_step, values);\n            onCancel(current_step, goToPreviousStep);\n        };\n\n        return (\n            <Formik\n                initialValues={{ ...value }}\n                validationSchema={schema}\n                validateOnMount\n                onSubmit={(values, actions) => {\n                    const current_step = getCurrentStep() - 1;\n                    onSave(current_step, values);\n                    onSubmit(current_step, values, actions.setSubmitting, goToNextStep);\n                }}\n            >\n                {({ handleSubmit, isSubmitting, values }) => {\n                    return (\n                        <Form onSubmit={handleSubmit} noValidate className='employment-tax-info__layout'>\n                            <ScrollToFieldWithError />\n                            <Div100vhContainer\n                                height_offset='110px'\n                                is_disabled={!isMobile}\n                                className={clsx('details-form')}\n                            >\n                                <ThemedScrollbars\n                                    refSetter={scroll_div_ref}\n                                    className={clsx('details-form__elements', 'employment-tax-info__form')}\n                                >\n                                    <EmploymentTaxDetailsContainer\n                                        editable_fields={editable_fields}\n                                        parent_ref={scroll_div_ref}\n                                        should_display_long_message={is_eu}\n                                        handleChange={mutate}\n                                        tin_validation_config={tin_validation_config}\n                                    />\n                                </ThemedScrollbars>\n                            </Div100vhContainer>\n                            <Modal.Footer has_separator is_bypassed={!isDesktop}>\n                                <FormSubmitButton\n                                    is_disabled={isSubmitting}\n                                    label={localize('Next')}\n                                    is_absolute={!isDesktop}\n                                    has_cancel\n                                    cancel_label={localize('Previous')}\n                                    onCancel={() => handleCancel(values)}\n                                />\n                            </Modal.Footer>\n                        </Form>\n                    );\n                }}\n            </Formik>\n        );\n    }\n);\n\nexport default EmploymentTaxInfo;\n","// TODO: Remove once mobile team has changed this link\nimport DeactivateAccount from './deactivate-account';\n\nexport default DeactivateAccount;\n","// TODO: Remove once mobile team has changed this link\nimport { Redirect } from 'react-router-dom';\nimport { routes } from '@deriv/shared';\n\nconst DeactivateAccount = () => {\n    return <Redirect to={routes.closing_account} />;\n};\n\nexport default DeactivateAccount;\n","// /* eslint-disable @typescript-eslint/ban-ts-comment */\n// // @ts-nocheck [TODO] - Need to update the types of routes\n\nimport { routes, moduleLoader, makeLazyLoader } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\nimport {\n    PersonalDetails,\n    ProofOfIdentityFlow,\n    ProofOfAddressFlow,\n    ProofOfOwnership,\n    Account,\n    DeactivateAccount,\n    ProofOfIncome,\n} from '../Sections';\n\nimport { TRoute, TRouteConfig } from '../Types';\nimport { Loading } from '@deriv/components';\n// Error Routes\nconst Page404 = makeLazyLoader(\n    () => moduleLoader(() => import(/* webpackChunkName: \"404\" */ 'Modules/Page404')),\n    () => <Loading />\n)();\n\nconst Passwords = makeLazyLoader(\n    () => moduleLoader(() => import('../Sections/Security/Passwords')),\n    () => <Loading />\n)();\n\nconst PhoneVerificationPage = makeLazyLoader(\n    () => moduleLoader(() => import('../Sections/Profile/PhoneVerification')),\n    () => <Loading />\n)();\n\nconst Passkeys = makeLazyLoader(\n    () => moduleLoader(() => import('../Sections/Security/Passkeys')),\n    () => <Loading />\n)();\n\nconst AccountLimits = makeLazyLoader(\n    () => moduleLoader(() => import('../Sections/Security/AccountLimits')),\n    () => <Loading />\n)();\n\nconst AccountClosed = makeLazyLoader(\n    () => moduleLoader(() => import('../Sections/Security/AccountClosed')),\n    () => <Loading />\n)();\n\nconst LanguageSettings = makeLazyLoader(\n    () => moduleLoader(() => import('../Sections/Profile/LanguageSettings')),\n    () => <Loading />\n)();\n\nconst LoginHistory = makeLazyLoader(\n    () => moduleLoader(() => import('../Sections/Security/LoginHistory')),\n    () => <Loading />\n)();\n\nconst ConnectedApps = makeLazyLoader(\n    () => moduleLoader(() => import('../Sections/Security/ConnectedApps')),\n    () => <Loading />\n)();\nconst FinancialAssessment = makeLazyLoader(\n    () => moduleLoader(() => import('../Sections/Assessment/FinancialAssessment')),\n    () => <Loading />\n)();\nconst TradingAssessment = makeLazyLoader(\n    () => moduleLoader(() => import('../Sections/Assessment/TradingAssessment')),\n    () => <Loading />\n)();\n\nconst ApiToken = makeLazyLoader(\n    () => moduleLoader(() => import('../Sections/Security/ApiToken')),\n    () => <Loading />\n)();\n\nconst TwoFactorAuthentication = makeLazyLoader(\n    () => moduleLoader(() => import('../Sections/Security/TwoFactorAuthentication')),\n    () => <Loading />\n)();\nconst SelfExclusion = makeLazyLoader(\n    () => moduleLoader(() => import('../Sections/Security/SelfExclusion')),\n    () => <Loading />\n)();\nconst ClosingAccount = makeLazyLoader(\n    () => moduleLoader(() => import('../Sections/Security/ClosingAccount')),\n    () => <Loading />\n)();\n\nexport type TPage404 = typeof Page404;\n\n// Order matters\nconst initRoutesConfig = () => [\n    {\n        path: routes.account_closed,\n        component: AccountClosed,\n        is_authenticated: false,\n        // Don't use `Localize` component since native html tag like `option` cannot render them\n        getTitle: () => localize('Account closed'),\n    },\n    {\n        // TODO: Remove once mobile team has changed this link\n        path: routes.deactivate_account,\n        component: DeactivateAccount,\n    },\n    {\n        path: routes.account,\n        component: Account,\n        is_authenticated: true,\n        getTitle: () => localize('Account settings'),\n        icon_component: 'IcUserOutline',\n        routes: [\n            {\n                getTitle: () => localize('Profile'),\n                icon: 'IcUserOutline',\n                subroutes: [\n                    {\n                        path: routes.phone_verification,\n                        component: PhoneVerificationPage,\n                        getTitle: () => localize('Phone number verification'),\n                        is_hidden: true,\n                    },\n                    {\n                        path: routes.personal_details,\n                        component: PersonalDetails,\n                        getTitle: () => localize('Personal details'),\n                        default: true,\n                    },\n                    {\n                        path: routes.languages,\n                        component: LanguageSettings,\n                        getTitle: () => localize('Languages'),\n                    },\n                ],\n            },\n            {\n                getTitle: () => localize('Assessments'),\n                icon: 'IcAssessment',\n                subroutes: [\n                    {\n                        path: routes.trading_assessment,\n                        component: TradingAssessment,\n                        getTitle: () => localize('Trading assessment'),\n                    },\n                    {\n                        path: routes.financial_assessment,\n                        component: FinancialAssessment,\n                        getTitle: () => localize('Financial assessment'),\n                    },\n                ],\n            },\n            {\n                getTitle: () => localize('Verification'),\n                icon: 'IcVerification',\n                subroutes: [\n                    {\n                        path: routes.proof_of_identity,\n                        component: ProofOfIdentityFlow,\n                        getTitle: () => localize('Proof of identity'),\n                    },\n                    {\n                        path: routes.proof_of_address,\n                        component: ProofOfAddressFlow,\n                        getTitle: () => localize('Proof of address'),\n                    },\n                    {\n                        path: routes.proof_of_ownership,\n                        component: ProofOfOwnership,\n                        getTitle: () => localize('Proof of ownership'),\n                    },\n                    {\n                        path: routes.proof_of_income,\n                        component: ProofOfIncome,\n                        getTitle: () => localize('Proof of income'),\n                    },\n                ],\n            },\n            {\n                getTitle: () => localize('Security and safety'),\n                icon: 'IcSecurity',\n                id: 'security_routes',\n                subroutes: [\n                    {\n                        path: routes.passwords,\n                        component: Passwords,\n                        getTitle: () => localize('Email and passwords'),\n                    },\n                    {\n                        path: routes.passkeys,\n                        component: Passkeys,\n                        getTitle: () => localize('Passkeys'),\n                    },\n                    {\n                        path: routes.self_exclusion,\n                        component: SelfExclusion,\n                        getTitle: () => localize('Self-exclusion'),\n                    },\n                    {\n                        path: routes.account_limits,\n                        component: AccountLimits,\n                        getTitle: () => localize('Account limits'),\n                    },\n                    {\n                        path: routes.login_history,\n                        component: LoginHistory,\n                        getTitle: () => localize('Login history'),\n                    },\n                    ...[\n                        {\n                            path: routes.api_token,\n                            component: ApiToken,\n                            getTitle: () => localize('API token'),\n                        },\n                    ],\n                    {\n                        path: routes.connected_apps,\n                        component: ConnectedApps,\n                        getTitle: () => localize('Connected apps'),\n                    },\n                    {\n                        path: routes.two_factor_authentication,\n                        component: TwoFactorAuthentication,\n                        getTitle: () => localize('Two-factor authentication'),\n                    },\n                    {\n                        path: routes.closing_account,\n                        component: ClosingAccount,\n                        getTitle: () => localize('Close your account'),\n                    },\n                ],\n            },\n        ],\n    },\n];\n\nlet routesConfig: TRouteConfig[] | undefined;\n\n// For default page route if page/path is not found, must be kept at the end of routes_config array\nconst route_default: TRoute = { component: Page404, getTitle: () => localize('Error 404') };\n\nconst getRoutesConfig = (): TRouteConfig[] => {\n    if (!routesConfig) {\n        routesConfig = initRoutesConfig() as TRouteConfig[];\n        routesConfig.push(route_default);\n    }\n    return routesConfig;\n};\n\nexport default getRoutesConfig;\n","import React from 'react';\nimport { RouteComponentProps } from 'react-router';\nimport { Redirect, Route } from 'react-router-dom';\nimport { isEmptyObject, routes, removeBranchName, default_title } from '@deriv/shared';\nimport { TBinaryRoutes, TRoute, TRouteConfig } from '../../Types';\n\ntype TRouteWithSubRoutesProps = TRouteConfig & TBinaryRoutes;\n\nconst RouteWithSubRoutes = (route: TRouteWithSubRoutesProps) => {\n    const renderFactory = (props: RouteComponentProps) => {\n        let result = null;\n\n        if (route.component === Redirect) {\n            let to = route.to;\n\n            // This if clause has been added just to remove '/index' from url in localhost env.\n            if (route.path === routes.index) {\n                const { location } = props;\n                to = location.pathname.toLowerCase().replace(route.path, '');\n            }\n            result = <Redirect to={to} />;\n        } else {\n            const default_subroute: TRoute = (route.routes ?? []).reduce(\n                (acc: TRoute, cur: TRoute) => ({\n                    ...acc,\n                    ...cur.subroutes?.find((subroute: TRoute) => subroute.default),\n                }),\n                {}\n            );\n            const has_default_subroute = !isEmptyObject(default_subroute);\n            const pathname = removeBranchName(location.pathname);\n\n            const RouteComponent = route.component as React.ElementType;\n\n            result = (\n                <React.Fragment>\n                    {has_default_subroute && pathname === route.path && <Redirect to={default_subroute?.path} />}\n                    <RouteComponent {...props} routes={route.routes} />\n                </React.Fragment>\n            );\n        }\n\n        const title = route.getTitle?.() ?? '';\n        document.title = `${title} | ${default_title}`;\n\n        return result;\n    };\n\n    return <Route exact={route.exact} path={route.path} render={renderFactory} />;\n};\n\nexport { RouteWithSubRoutes as RouteWithSubRoutesRender }; // For tests\n\nexport default RouteWithSubRoutes;\n","import React from 'react';\nimport { Switch } from 'react-router-dom';\n\nimport { observer, useStore } from '@deriv/stores';\nimport { Localize } from '@deriv/translations';\n\nimport getRoutesConfig from '../../Constants/routes-config';\nimport { TBinaryRoutes, TRoute } from '../../Types';\n\nimport RouteWithSubRoutes from './route-with-sub-routes';\n\nconst BinaryRoutes = observer((props: TBinaryRoutes) => {\n    const { common } = useStore();\n    const { current_language } = common;\n    return (\n        <React.Suspense\n            fallback={\n                <div>\n                    <Localize i18n_default_text='Loading...' />\n                </div>\n            }\n        >\n            <Switch>\n                {getRoutesConfig().map((route: TRoute, idx: number) => (\n                    <RouteWithSubRoutes key={`${idx}_${current_language}`} {...route} {...props} />\n                ))}\n            </Switch>\n        </React.Suspense>\n    );\n});\n\nexport default BinaryRoutes;\n","import { withRouter } from 'react-router';\nimport { observer, useStore } from '@deriv/stores';\nimport { BinaryRoutes } from '../Components/Routes';\nimport ErrorComponent from '../Components/error-component';\nimport { ThemeProvider } from '@deriv-com/quill-ui';\n\nconst Routes = observer(() => {\n    const { client, common, ui } = useStore();\n    const { is_logged_in, is_logging_in } = client;\n    const { error, has_error } = common;\n    const { is_dark_mode_on } = ui;\n    if (has_error) {\n        return <ErrorComponent {...error} />;\n    }\n\n    return (\n        <ThemeProvider theme={is_dark_mode_on ? 'dark' : 'light'}>\n            <BinaryRoutes is_logged_in={is_logged_in} is_logging_in={is_logging_in} />\n        </ThemeProvider>\n    );\n});\n\n// need to wrap withRouter\n// to prevent updates on <BinaryRoutes /> from being blocked\nexport default withRouter(Routes);\n","import React, { ChangeEvent } from 'react';\nimport { Formik, Form, FormikValues, FormikErrors } from 'formik';\nimport { useHistory } from 'react-router-dom';\nimport { Button, Dialog, Icon, PasswordInput, PasswordMeter, Text, FormSubmitButton } from '@deriv/components';\nimport {\n    getErrorMessages,\n    validPassword,\n    validLength,\n    WS,\n    getCFDPlatformLabel,\n    CFD_PLATFORMS,\n    validMT5Password,\n} from '@deriv/shared';\nimport { localize, Localize } from '@deriv/translations';\nimport { TPlatforms } from '../../Types';\nimport './reset-trading-password-modal.scss';\n\ntype TResetTradingPassword = {\n    setDialogTitleFunc?: (value: boolean) => void;\n    toggleResetTradingPasswordModal: (value: boolean) => void;\n    verification_code: string;\n    platform: TPlatforms;\n};\n\nconst ResetTradingPassword = ({\n    setDialogTitleFunc,\n    toggleResetTradingPasswordModal,\n    verification_code,\n    platform,\n}: TResetTradingPassword) => {\n    const handleSubmit = (values: FormikValues, actions: FormikValues) => {\n        actions.setSubmitting(true);\n\n        const params = {\n            new_password: values.password,\n            verification_code,\n            platform,\n        };\n\n        WS.tradingPlatformPasswordReset(params).then(async (response: FormikValues) => {\n            if (response.error) {\n                actions.setStatus({ error_msg: response.error.message, error_code: response.error.code });\n                setDialogTitleFunc?.(true);\n            } else {\n                actions.resetForm({ password: '' });\n                actions.setStatus({ reset_complete: true });\n                WS.getAccountStatus();\n            }\n            actions.setSubmitting(false);\n        });\n    };\n\n    const validateReset = (values: FormikValues) => {\n        const errors: FormikErrors<FormikValues> = {};\n        const max_length = platform === CFD_PLATFORMS.MT5 ? 16 : 25;\n\n        if (\n            !validLength(values.password, {\n                min: 8,\n                max: max_length,\n            })\n        ) {\n            errors.password = localize('You should enter {{min_number}}-{{max_number}} characters.', {\n                min_number: 8,\n                max_number: max_length,\n            });\n        } else if (!validPassword(values.password)) {\n            errors.password = getErrorMessages().password();\n        } else if (platform === CFD_PLATFORMS.MT5 && !validMT5Password(values.password)) {\n            errors.password = localize(\n                'Please include at least 1 special character such as ( _ @ ? ! / # ) in your password.'\n            );\n        }\n\n        return errors;\n    };\n\n    const reset_initial_values = { password: '' };\n\n    return (\n        <div className='reset-trading-password'>\n            <Formik\n                initialValues={reset_initial_values}\n                initialStatus={{ reset_complete: false, error_msg: '', error_code: '' }}\n                validate={validateReset}\n                onSubmit={handleSubmit}\n            >\n                {({\n                    handleBlur,\n                    errors,\n                    values,\n                    resetForm,\n                    touched,\n                    isSubmitting,\n                    setFieldTouched,\n                    handleChange,\n                    status,\n                }) => (\n                    <Form>\n                        <React.Fragment>\n                            {status.error_msg && (\n                                <div className='reset-trading-password__error'>\n                                    <Icon icon='IcMt5Expired' size={128} />\n                                    <Text\n                                        as='p'\n                                        size='xs'\n                                        weight='bold'\n                                        align='center'\n                                        className='reset-trading-password__lead'\n                                    >\n                                        {status.error_msg}\n                                    </Text>\n                                    {status.error_code === 'InvalidToken' && (\n                                        <Text\n                                            as='p'\n                                            color='prominent'\n                                            size='xs'\n                                            align='center'\n                                            className='reset-trading-password__description--is-centered'\n                                        >\n                                            <Localize i18n_default_text='Please request a new password and check your email for the new token.' />\n                                        </Text>\n                                    )}\n                                    <Button\n                                        className='reset-trading-password__confirm-button'\n                                        primary\n                                        large\n                                        onClick={() => {\n                                            resetForm();\n                                            toggleResetTradingPasswordModal(false);\n                                        }}\n                                    >\n                                        <Localize i18n_default_text='Ok' />\n                                    </Button>\n                                </div>\n                            )}\n                            {status.reset_complete && (\n                                <div className='reset-trading-password__password-success'>\n                                    <Icon\n                                        className='reset-trading-password__icon'\n                                        icon='IcSuccessResetTradingPassword'\n                                        size={128}\n                                    />\n                                    <Text as='p' weight='bold' className='reset-trading-password__heading'>\n                                        <Localize i18n_default_text='Success' />\n                                    </Text>\n                                    <Text align='center' as='p' size='xs' className='reset-trading-password__subtext'>\n                                        {localize(\n                                            'You have a new {{platform}} password to log in to your {{platform}} accounts on the web and mobile apps.',\n                                            {\n                                                platform: getCFDPlatformLabel(platform),\n                                            }\n                                        )}\n                                    </Text>\n                                    <Button\n                                        type='button'\n                                        onClick={() => {\n                                            resetForm();\n                                            toggleResetTradingPasswordModal(false);\n                                        }}\n                                        primary\n                                        large\n                                    >\n                                        <Localize i18n_default_text='Done' />\n                                    </Button>\n                                </div>\n                            )}\n                            {!status.error_msg && !status.reset_complete && (\n                                <div className='reset-trading-password__set-password'>\n                                    <Text as='p' weight='bold' className='reset-trading-password__heading'>\n                                        <Localize\n                                            i18n_default_text='Create a new {{platform}} password'\n                                            values={{\n                                                platform: getCFDPlatformLabel(platform),\n                                            }}\n                                        />\n                                    </Text>\n                                    <Text as='p' size='xs' className='reset-trading-password__details'>\n                                        <Localize\n                                            i18n_default_text='You can use this password for all your {{platform}} accounts.'\n                                            values={{\n                                                platform: getCFDPlatformLabel(platform),\n                                            }}\n                                        />\n                                    </Text>\n                                    <fieldset className='reset-trading-password__input-field'>\n                                        <PasswordMeter\n                                            input={values.password}\n                                            has_error={!!(touched.password && errors.password)}\n                                            custom_feedback_messages={\n                                                getErrorMessages().password_warnings as unknown as Record<\n                                                    string,\n                                                    string\n                                                >\n                                            }\n                                        >\n                                            <PasswordInput\n                                                autoComplete='new-password'\n                                                className='reset-trading-password__password-field'\n                                                name='password'\n                                                label={localize('{{platform}} password', {\n                                                    platform: getCFDPlatformLabel(platform),\n                                                })}\n                                                onChange={(e: ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n                                                    setFieldTouched('password', true);\n                                                    handleChange(e);\n                                                }}\n                                                onBlur={handleBlur}\n                                                error={touched.password ? errors.password : ''}\n                                                value={values.password}\n                                                data-lpignore='true'\n                                                required\n                                            />\n                                        </PasswordMeter>\n                                    </fieldset>\n                                    <Text as='p' size='xs' className='reset-trading-password__hint'>\n                                        {platform === CFD_PLATFORMS.MT5 ? (\n                                            <Localize i18n_default_text='Your password must contain between 8-16 characters that include uppercase and lowercase letters, and at least one number and special character such as ( _ @ ? ! / # ).' />\n                                        ) : (\n                                            <Localize i18n_default_text='Strong passwords contain at least 8 characters, combine uppercase and lowercase letters, numbers, and symbols.' />\n                                        )}\n                                    </Text>\n                                    <FormSubmitButton\n                                        is_disabled={!values.password || !!errors.password || isSubmitting}\n                                        has_cancel\n                                        cancel_label={localize('Cancel')}\n                                        onCancel={() => toggleResetTradingPasswordModal(false)}\n                                        is_loading={isSubmitting}\n                                        label={localize('Create')}\n                                    />\n                                </div>\n                            )}\n                        </React.Fragment>\n                    </Form>\n                )}\n            </Formik>\n        </div>\n    );\n};\n\ntype TResetTradingPasswordModal = {\n    disableApp: () => void;\n    enableApp: () => void;\n    is_loading: boolean;\n    is_visible: boolean;\n} & TResetTradingPassword;\n\nexport const ResetTradingPasswordModal = ({\n    disableApp,\n    enableApp,\n    is_loading,\n    is_visible,\n    toggleResetTradingPasswordModal,\n    verification_code,\n    platform,\n}: TResetTradingPasswordModal) => {\n    const [dialog_title, setDialogTitle] = React.useState('');\n    const history = useHistory();\n    React.useEffect(() => {\n        if (is_visible && history.location.search !== '') {\n            history.replace({\n                search: '',\n                hash: location.hash,\n            });\n        }\n    }, [history, is_visible]);\n\n    const setDialogTitleFunc = (is_invalid_token: boolean) => {\n        setDialogTitle(\n            is_invalid_token\n                ? localize('Reset {{platform}} password', {\n                      platform: getCFDPlatformLabel(platform),\n                  })\n                : ''\n        );\n    };\n\n    return (\n        <Dialog\n            className='reset-trading-password__dialog'\n            disableApp={disableApp}\n            enableApp={enableApp}\n            has_close_icon={!!dialog_title}\n            is_loading={is_loading}\n            is_visible={is_visible}\n            onConfirm={() => toggleResetTradingPasswordModal(false)}\n            title={dialog_title}\n        >\n            <ResetTradingPassword\n                toggleResetTradingPasswordModal={toggleResetTradingPasswordModal}\n                verification_code={verification_code}\n                setDialogTitleFunc={setDialogTitleFunc}\n                platform={platform}\n            />\n        </Dialog>\n    );\n};\n","import { ResetTradingPasswordModal } from './reset-trading-password-modal';\n\nexport default ResetTradingPasswordModal;\n","import { useRef } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { CFD_PLATFORMS } from '@deriv/shared';\nimport { observer, useStore } from '@deriv/stores';\nimport ResetTradingPasswordModal from '../Components/reset-trading-password-modal';\nimport { TPlatforms } from '../Types';\n\nconst ResetTradingPassword = observer(() => {\n    const { ui, client } = useStore();\n    const { enableApp, disableApp, is_loading, setCFDPasswordResetModal, is_cfd_reset_password_modal_enabled } = ui;\n    const location = useLocation();\n    const platform = useRef('');\n    const query_params = new URLSearchParams(location.search);\n    const cfd_platform = /^trading_platform_(.*)_password_reset$/.exec(query_params.get('action') ?? '')?.[1];\n    if (cfd_platform) {\n        /**\n         * Keep the platform value reference to avoid value loss when modal re-renders due to route re-direction\n         */\n        platform.current = cfd_platform;\n    }\n\n    const verification_code =\n        platform.current === CFD_PLATFORMS.MT5\n            ? client.verification_code.trading_platform_mt5_password_reset\n            : client.verification_code.trading_platform_dxtrade_password_reset;\n\n    return (\n        <ResetTradingPasswordModal\n            platform={platform.current as TPlatforms}\n            enableApp={enableApp}\n            disableApp={disableApp}\n            toggleResetTradingPasswordModal={setCFDPasswordResetModal}\n            is_visible={is_cfd_reset_password_modal_enabled}\n            is_loading={is_loading}\n            verification_code={verification_code}\n        />\n    );\n});\n\nResetTradingPassword.displayName = 'ResetTradingPassword';\n\nexport default ResetTradingPassword;\n","import { useEffect, useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport { observer, useStore } from '@deriv/stores';\nimport { useDevice } from '@deriv-com/ui';\nimport { Snackbar } from '@deriv-com/quill-ui';\nimport './network-status-toast-popup.scss';\n\ntype TNetworkStatusToast = {\n    status: string;\n    portal_id: string;\n    message: string;\n};\n\nconst NetworkStatusToast = ({ status, portal_id, message }: TNetworkStatusToast) => {\n    const [is_visible, setIsVisible] = useState(false);\n    const { isMobile } = useDevice();\n    const new_portal_id = document.getElementById(portal_id);\n\n    useEffect(() => {\n        if (!new_portal_id || !message || !isMobile) return;\n        if (!is_visible && status !== 'online') {\n            setIsVisible(true);\n        } else if (is_visible && status === 'online') {\n            setTimeout(() => {\n                setIsVisible(false);\n            }, 1500);\n        }\n    }, [isMobile, is_visible, message, new_portal_id, status]);\n\n    if (!new_portal_id || !message || !isMobile) return null;\n\n    return createPortal(\n        <div className='network-status__container'>\n            <Snackbar hasCloseButton={false} message={message} isVisible={is_visible} />\n        </div>,\n        new_portal_id\n    );\n};\n\nconst NetworkStatusToastPopup = observer(() => {\n    const {\n        common: { network_status },\n    } = useStore();\n    return <NetworkStatusToast portal_id='popup_root' message={network_status.tooltip} status={network_status.class} />;\n});\n\nexport default NetworkStatusToastPopup;\n","import Routes from './Containers/routes';\nimport ResetTradingPassword from './Containers/reset-trading-password';\nimport NetworkStatusToastPopup from './Components/network-status-toast-popup/network-status-toast-popup';\nimport { APIProvider } from '@deriv/api';\nimport { StoreProvider } from '@deriv/stores';\nimport { TCoreStores } from '@deriv/stores/types';\nimport { POIProvider } from '@deriv/shared';\nimport { BreakpointProvider } from '@deriv-com/quill-ui';\n\n// TODO: add correct types for WS after implementing them\ntype TAppProps = {\n    passthrough: {\n        root_store: TCoreStores;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        WS: Record<string, any>;\n    };\n};\n\nconst App = ({ passthrough }: TAppProps) => {\n    const { root_store } = passthrough;\n\n    const { notification_messages_ui: Notifications } = root_store.ui;\n\n    return (\n        <StoreProvider store={root_store}>\n            <APIProvider>\n                <POIProvider>\n                    <BreakpointProvider>\n                        {Notifications && <Notifications />}\n                        <Routes />\n                        <ResetTradingPassword />\n                    </BreakpointProvider>\n                </POIProvider>\n            </APIProvider>\n            <NetworkStatusToastPopup />\n        </StoreProvider>\n    );\n};\n\nexport default App;\n","import React from 'react';\nimport { Icon, Text, Button } from '@deriv/components';\nimport { useDevice } from '@deriv-com/ui';\nimport { observer, useStore } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\n\ntype TIconWithMessage = {\n    icon: string;\n    has_button?: boolean;\n    message: string;\n};\n\nconst IconWithMessage = observer(({ has_button, icon, message }: TIconWithMessage) => {\n    const { client, ui } = useStore();\n    const { isDesktop } = useDevice();\n    const { has_any_real_account: has_real_account } = client;\n    const { toggleAccountsDialog, toggleShouldShowRealAccountsList } = ui;\n\n    return (\n        <div className='da-icon-with-message'>\n            <Icon icon={icon} size={128} />\n            <Text\n                className='da-icon-with-message__text'\n                as='p'\n                color='general'\n                size={isDesktop ? 's' : 'xs'}\n                line_height='m'\n                weight='bold'\n            >\n                {message}\n            </Text>\n            {has_button && (\n                <Button\n                    primary\n                    onClick={() => {\n                        toggleShouldShowRealAccountsList(true);\n                        toggleAccountsDialog();\n                    }}\n                    className='account__demo-message-button'\n                    data-testid='icon-with-message-button'\n                >\n                    {has_real_account ? localize('Switch to real account') : localize('Add a real account')}\n                </Button>\n            )}\n        </div>\n    );\n});\n\nexport default IconWithMessage;\n","import IconWithMessage from './icon-with-message';\nimport './icon-with-message.scss';\n\nexport default IconWithMessage;\n","import DemoMessage from './demo-message';\n\nexport default DemoMessage;\n","import { useTranslations } from '@deriv-com/translations';\nimport IconWithMessage from '../icon-with-message';\n\ntype TDemoMessage = {\n    has_button?: boolean;\n};\n\nconst DemoMessage = ({ has_button }: TDemoMessage) => {\n    const { localize } = useTranslations();\n    return (\n        <IconWithMessage\n            icon='IcPoaLock'\n            message={localize('This feature is not available for demo accounts.')}\n            has_button={has_button}\n        />\n    );\n};\n\nexport default DemoMessage;\n","import { PageError } from '@deriv/components';\nimport { Localize } from '@deriv-com/translations';\nimport { routes } from '@deriv/shared';\nimport { requestOidcAuthentication } from '@deriv-com/auth-client';\nimport Cookies from 'js-cookie';\nimport { useTMB } from '@deriv/hooks';\nimport { useEffect, useState } from 'react';\n\ntype TErrorComponent = {\n    header: JSX.Element | string;\n    message: JSX.Element | string;\n    code: string;\n    redirect_label: string;\n    redirectOnClick: (() => void) | null;\n    should_show_refresh: boolean;\n};\n\nconst is_deriv_com = /deriv\\.(com)/.test(window.location.hostname) || /localhost:8443/.test(window.location.host);\n\nconst ErrorComponent = ({\n    header,\n    message,\n    code,\n    redirect_label,\n    redirectOnClick,\n    should_show_refresh = true,\n}: Partial<TErrorComponent>) => {\n    const { isTmbEnabled } = useTMB();\n    const [isTmbEnabledValue, setIsTmbEnabledValue] = useState(false);\n\n    useEffect(() => {\n        const checkTmbStatus = async () => {\n            const tmbStatus = await isTmbEnabled();\n            setIsTmbEnabledValue(tmbStatus);\n        };\n\n        checkTmbStatus();\n    }, [isTmbEnabled]);\n\n    const refresh_message: JSX.Element | string = should_show_refresh ? (\n        <Localize i18n_default_text='Please refresh this page to continue.' />\n    ) : (\n        ''\n    );\n\n    if (code === 'InvalidToken' && Cookies.get('logged_state') === 'true' && is_deriv_com && !isTmbEnabledValue) {\n        try {\n            requestOidcAuthentication({\n                redirectCallbackUri: `${window.location.origin}/callback`,\n            }).catch((err: string) => {\n                // eslint-disable-next-line no-console\n                console.error(err);\n            });\n        } catch (err) {\n            // eslint-disable-next-line no-console\n            console.error(err);\n        }\n\n        return null;\n    }\n\n    return (\n        <PageError\n            header={header || <Localize i18n_default_text='Oops, something went wrong.' />}\n            messages={\n                message\n                    ? [message, refresh_message]\n                    : [\n                          <Localize\n                              i18n_default_text='Sorry, an error occurred while processing your request.'\n                              key={0}\n                          />,\n                          refresh_message,\n                      ]\n            }\n            redirect_urls={[routes.trade]}\n            redirect_labels={[redirect_label ?? <Localize i18n_default_text='Refresh' />]}\n            buttonOnClick={redirectOnClick ?? (() => location.reload())}\n        />\n    );\n};\n\nexport default ErrorComponent;\n","import ErrorComponent from './error-component';\n\nexport default ErrorComponent;\n","import React from 'react';\nimport clsx from 'clsx';\n\nimport { Text } from '@deriv/components';\nimport { useDevice } from '@deriv-com/ui';\nimport { Localize } from '@deriv/translations';\n\nexport type TFormBodySection = {\n    /**\n     *  A boolean value indicating whether the section has a side note.\n     */\n    has_side_note?: boolean;\n    /**\n     * The side note to display next to the main content.\n     */\n    side_note?: string | React.ReactElement;\n    /**\n     * The position of the side note relative to the main content.\n     * @default 'left'\n     * */\n    side_note_position?: 'left' | 'right';\n    /**\n     * The type of the side note either it can be locaziled string (`localize or Localize`) component or image as JSX element.\n     * @default 'text'\n     * */\n    type?: 'text' | 'image';\n};\n\n/**\n *  A component that renders a form body section with an optional side note.\n *\n *  This component renders a section of a form body. It can optionally display a side note\n *  and allows reversing the order of the side note and the main content.\n *  @returns {JSX.Element} A React component that renders a form body section.\n */\nconst FormBodySection = ({\n    children,\n    has_side_note,\n    side_note,\n    side_note_position = 'left',\n    type = 'text',\n}: React.PropsWithChildren<TFormBodySection>): JSX.Element => {\n    const { isDesktop } = useDevice();\n    if (has_side_note) {\n        return (\n            <div\n                data-testid='dt_side_note_container'\n                className={clsx('account-form__section', {\n                    'account-form__section--reversed': side_note_position === 'right',\n                })}\n            >\n                <div\n                    className={clsx('account-form__section-side-note', {\n                        'account-form__section-side-note__example': type !== 'text',\n                    })}\n                >\n                    {type === 'text' ? (\n                        <Text color='less-prominent' size={isDesktop ? 'xs' : 'xxs'} data-testid='dt_side_note_text'>\n                            {side_note}\n                        </Text>\n                    ) : (\n                        <React.Fragment>\n                            <Text as='p' size={isDesktop ? 'xs' : 'xxs'} weight='bold'>\n                                <Localize i18n_default_text='Example :' />\n                            </Text>\n                            <div className='account-form__section-side-note__example-image'>{side_note}</div>\n                        </React.Fragment>\n                    )}\n                </div>\n                <div className='account-form__section-content'>{children}</div>\n            </div>\n        );\n    }\n    return children as JSX.Element;\n};\n\nexport default FormBodySection;\n","import FormBodySection from './form-body-section';\n\nexport default FormBodySection;\n","import clsx from 'clsx';\nimport React from 'react';\nimport { ThemedScrollbars } from '@deriv/components';\nimport { useDevice } from '@deriv-com/ui';\n\ntype TScrollbarsContainer = {\n    className?: string;\n    scroll_offset?: string;\n    isFullHeight?: boolean;\n};\n\nexport const ScrollbarsContainer = ({\n    children,\n    className,\n    scroll_offset,\n    isFullHeight = false,\n}: React.PropsWithChildren<TScrollbarsContainer>) => {\n    const { isDesktop } = useDevice();\n    const height_unit = isFullHeight ? '100vh' : '100%';\n    return (\n        <ThemedScrollbars\n            is_bypassed={!isDesktop}\n            height={scroll_offset ? `calc(${height_unit} - ${scroll_offset})` : '100%'}\n        >\n            <div className={clsx('account__scrollbars_container', className)} data-testid='dt_scrollbar_container_div'>\n                {children}\n            </div>\n        </ThemedScrollbars>\n    );\n};\n","import { FormBody } from './form-body';\n\nexport default FormBody;\n","// [TODO] - To be removed once CFD is configured to use the new form-body component\nimport React, { PropsWithChildren, Fragment } from 'react';\nimport { ScrollbarsContainer } from '../scrollbars-container/scrollbars-container';\nimport { Div100vhContainer } from '@deriv/components';\nimport { useDevice } from '@deriv-com/ui';\nimport clsx from 'clsx';\n\ntype TFormBody = {\n    scroll_offset?: string;\n    className?: string;\n    isFullHeight?: boolean;\n};\n\nexport const FormBody = ({ children, scroll_offset, className, isFullHeight }: PropsWithChildren<TFormBody>) => {\n    const { isDesktop } = useDevice();\n    return (\n        <Fragment>\n            {isDesktop ? (\n                <ScrollbarsContainer\n                    className={clsx('account__scrollbars_container--grid-layout', className)}\n                    scroll_offset={scroll_offset}\n                    isFullHeight={isFullHeight}\n                >\n                    {children}\n                </ScrollbarsContainer>\n            ) : (\n                <Div100vhContainer\n                    className={clsx('account__scrollbars_container--grid-layout', className)}\n                    height_offset={scroll_offset || '100%'}\n                >\n                    {children}\n                </Div100vhContainer>\n            )}\n        </Fragment>\n    );\n};\n","import React from 'react';\nimport clsx from 'clsx';\n\nexport type TFormFooter = {\n    className?: string;\n};\n\nconst FormFooter = ({ children, className }: React.PropsWithChildren<TFormFooter>) => (\n    <div className={clsx('account-form__footer', className)} data-testid='form-footer-container'>\n        {children}\n    </div>\n);\n\nexport default FormFooter;\n","import FormFooter from './form-footer';\n\nexport default FormFooter;\n","// [TODO] - To be removed once CFD is configured to use the new form-body component\nimport React, { Fragment } from 'react';\nimport clsx from 'clsx';\nimport { Text } from '@deriv/components';\n\nexport type TFormSubHeader = {\n    description?: string;\n    subtitle?: string;\n    title: string;\n    title_text_size?: string;\n};\n\nexport const FormSubHeader = ({ description, subtitle, title, title_text_size = 'xs' }: TFormSubHeader) => {\n    const title_as_class = title.replace(/\\s+/g, '-').toLowerCase();\n\n    return (\n        <Fragment>\n            <div\n                className={clsx('account-form__header', title_as_class, {\n                    'account-form__header--has-description': !!description,\n                })}\n                data-testid='form-sub-header'\n            >\n                <div className='account-form__header-section'>\n                    <Text\n                        as='h1'\n                        color='prominent'\n                        weight='bold'\n                        size={title_text_size}\n                        className='account-form__title'\n                    >\n                        {title}\n                    </Text>\n                    {subtitle && (\n                        <Text as='h2' size='xxxs' color='prominent' className='account-form__subtitle'>\n                            {subtitle}\n                        </Text>\n                    )}\n                </div>\n            </div>\n            {description && (\n                <Text as='p' className='account-form__description'>\n                    {description}\n                </Text>\n            )}\n        </Fragment>\n    );\n};\n","import { FormSubHeader } from './form-sub-header';\n\nexport default FormSubHeader;\n","import React from 'react';\nimport { FieldInputProps, FormikHelpers, FormikState, Field } from 'formik';\nimport { Input } from '@deriv/components';\n\ntype FormInputFieldProps = {\n    name: string;\n    optional?: boolean;\n    warn?: string;\n} & React.ComponentProps<typeof Input>;\n\ntype TFormInputFieldHelpers<T> = {\n    field: FieldInputProps<string>;\n    form: FormikHelpers<T> & FormikState<T>;\n};\n\n/**\n * FormInputField is a wrapper around Input that can be used with Formik.\n * @name FormInputField\n * @param name - Name of the field\n * @param [optional] - Whether the field is optional\n * @param [warn] - Display a warning message\n * @param [props] - Other props to pass to Input\n * @returns ReactNode\n */\nconst FormInputField = ({ name, warn, ...rest }: FormInputFieldProps) => (\n    <Field name={name}>\n        {({ field, form: { errors, touched, setFieldTouched } }: TFormInputFieldHelpers<Record<string, string>>) => {\n            return (\n                <Input\n                    {...field}\n                    {...rest}\n                    type='text'\n                    autoComplete='off'\n                    error={touched[field.name] && errors[field.name] ? errors[field.name] : undefined}\n                    warn={warn}\n                    onChange={\n                        rest.onChange ||\n                        ((e: React.ChangeEvent<HTMLInputElement>) => {\n                            !touched[field.name] && setFieldTouched(field.name);\n                            field.onChange(e);\n                        })\n                    }\n                />\n            );\n        }}\n    </Field>\n);\n\nexport default FormInputField;\n","/* eslint-disable @typescript-eslint/ban-ts-comment */\n//@ts-nocheck [TODO] - Need to fix typescript errors\n// [TODO] - Remove React after CFD is configured with new JSX transformer\nimport React from 'react';\nimport { Field, FieldProps } from 'formik';\nimport { DateOfBirthPicker } from '@deriv/components';\nimport { toMoment } from '@deriv/shared';\n\ntype TDateOfBirthFieldProps = {\n    name: string;\n    portal_id: string;\n} & Omit<React.ComponentProps<typeof DateOfBirthPicker>, 'onBlur' | 'onChange' | 'error'>;\n\n/**\n * DateOfBirthField is a wrapper around DateOfBirthPicker that can be used with Formik.\n * @name DateOfBirthField\n * @param name - Name of the field\n * @param portal_id - Portal ID\n * @param [props] - Other props to pass to DateOfBirthPicker\n * @returns {ReactNode}\n */\nconst DateOfBirthField = ({ name, portal_id, ...rest }: TDateOfBirthFieldProps) => (\n    <Field name={name}>\n        {({ field, form: { setFieldValue }, meta: { error, touched } }: FieldProps<string | moment.Moment>) => (\n            <DateOfBirthPicker\n                {...rest}\n                {...field}\n                error={touched ? error : undefined}\n                name={name}\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                onChange={({ target }: any) =>\n                    setFieldValue(name, target?.value ? toMoment(target.value).format('YYYY-MM-DD') : '', true)\n                }\n                portal_id={portal_id}\n            />\n        )}\n    </Field>\n);\n\nexport default DateOfBirthField;\n","import React from 'react';\nimport clsx from 'clsx';\nimport { Field, FieldProps } from 'formik';\n\nimport { Dropdown, SelectNative } from '@deriv/components';\nimport { useTranslations } from '@deriv-com/translations';\nimport { useDevice } from '@deriv-com/ui';\n\nimport { getEmploymentStatusList } from '../../../Constants/financial-information-list';\n\ntype TEmploymentStatusFieldProps = {\n    required: boolean;\n    is_disabled: boolean;\n    fieldFocused?: boolean;\n    version?: string;\n    is_feature_flag_disabled?: boolean;\n};\n\nconst EmploymentStatusField = ({\n    required,\n    is_feature_flag_disabled,\n    is_disabled,\n    fieldFocused,\n    version,\n}: TEmploymentStatusFieldProps) => {\n    const { isDesktop } = useDevice();\n    const { localize } = useTranslations();\n\n    return (\n        <Field name='employment_status'>\n            {({ field, form: { setFieldValue, setFieldTouched, handleBlur, handleChange }, meta }: FieldProps) => (\n                <div className='employment-status-field'>\n                    {isDesktop ? (\n                        <Dropdown\n                            {...field}\n                            placeholder={required ? localize('Employment status*') : localize('Employment status')}\n                            is_align_text_left\n                            name={field.name}\n                            list={getEmploymentStatusList(version, is_feature_flag_disabled)}\n                            value={field.value}\n                            onChange={(e: { target: { name: string; value: string } }) => {\n                                setFieldValue('tin_skipped', 0, true);\n                                setFieldValue(field.name, e.target?.value, true);\n                                handleChange(e);\n                            }}\n                            handleBlur={handleBlur}\n                            error={meta.touched ? meta.error : undefined}\n                            disabled={is_disabled}\n                            className={clsx('dropdown-field', { 'focus-field': fieldFocused })}\n                        />\n                    ) : (\n                        <SelectNative\n                            {...field}\n                            placeholder={localize('Please select')}\n                            name={field.name}\n                            label={required ? localize('Employment status*') : localize('Employment status')}\n                            list_items={getEmploymentStatusList(version, is_feature_flag_disabled)}\n                            value={field.value}\n                            error={meta.touched ? meta.error : undefined}\n                            onChange={(e: React.ChangeEvent<HTMLSelectElement>) => {\n                                setFieldValue('tin_skipped', 0, true);\n                                setFieldTouched('employment_status', true);\n                                handleChange(e);\n                            }}\n                            disabled={is_disabled}\n                            className={clsx({ 'focus-field': fieldFocused })}\n                        />\n                    )}\n                </div>\n            )}\n        </Field>\n    );\n};\n\nexport default EmploymentStatusField;\n","/* eslint-disable @typescript-eslint/ban-ts-comment */\n//@ts-nocheck [TODO] - Need to fix typescript errors in Autocomplete & SelectNative components\n\nimport { ChangeEvent } from 'react';\nimport { Field, FieldProps } from 'formik';\nimport { ResidenceList } from '@deriv/api-types';\nimport { Autocomplete, SelectNative, Popover } from '@deriv/components';\nimport { useResidenceList } from '@deriv/hooks';\nimport { TItem } from '@deriv/components/src/components/dropdown-list';\nimport { useTranslations } from '@deriv-com/translations';\nimport { useDevice } from '@deriv-com/ui';\nimport clsx from 'clsx';\n\ntype TTaxResidenceFieldProps = {\n    required?: boolean;\n    setIsTaxResidencePopoverOpen: (is_open: boolean) => void;\n    setIsTinPopoverOpen: (is_open: boolean) => void;\n    is_tax_residence_popover_open: boolean;\n    disabled: boolean;\n    fieldFocused?: boolean;\n};\n\nconst TaxResidenceField = ({\n    required = false,\n    setIsTaxResidencePopoverOpen,\n    setIsTinPopoverOpen,\n    is_tax_residence_popover_open,\n    disabled,\n    fieldFocused,\n}: TTaxResidenceFieldProps) => {\n    const { data: residence_list } = useResidenceList();\n    const { isDesktop } = useDevice();\n    const { localize } = useTranslations();\n\n    return (\n        <Field name='tax_residence'>\n            {({ field, form: { setFieldValue }, meta }: FieldProps) => (\n                <div className='details-form__tax'>\n                    {isDesktop ? (\n                        <Autocomplete\n                            {...field}\n                            data-lpignore='true'\n                            autoComplete='off' // prevent chrome autocomplete\n                            label={required ? localize('Tax residence*') : localize('Tax residence')}\n                            error={meta.touched ? meta.error : undefined}\n                            list_items={residence_list}\n                            onItemSelection={(item: TItem) => {\n                                setFieldValue(\n                                    'tax_residence',\n                                    (item as ResidenceList[0]).value ? (item as ResidenceList[0]).text : '',\n                                    true\n                                );\n                            }}\n                            data-testid='tax_residence'\n                            disabled={disabled}\n                            required={required}\n                            className={clsx({ 'focus-field': fieldFocused })}\n                        />\n                    ) : (\n                        <SelectNative\n                            {...field}\n                            placeholder={required ? localize('Tax residence*') : localize('Tax residence')}\n                            name={field.name}\n                            label={required ? localize('Tax residence*') : localize('Tax residence')}\n                            list_items={residence_list}\n                            value={field.value}\n                            use_text\n                            error={meta.touched ? meta.error : ''}\n                            onChange={(e: ChangeEvent<HTMLSelectElement>) => {\n                                field.onChange(e);\n                                setFieldValue('tax_residence', e.target.value, true);\n                            }}\n                            required={required}\n                            data_testid='tax_residence_mobile'\n                            disabled={disabled}\n                            className={clsx({ 'focus-field': fieldFocused })}\n                        />\n                    )}\n                    <div\n                        data-testid='tax_residence_pop_over'\n                        onClick={e => {\n                            setIsTaxResidencePopoverOpen(true);\n                            setIsTinPopoverOpen(false);\n                            e.stopPropagation();\n                        }}\n                    >\n                        <Popover\n                            alignment={isDesktop ? 'right' : 'left'}\n                            icon='info'\n                            message={localize(\n                                'The country in which you meet the criteria for paying taxes. Usually the country in which you physically reside.'\n                            )}\n                            zIndex='9998'\n                            disable_message_icon\n                            is_open={is_tax_residence_popover_open}\n                        />\n                    </div>\n                </div>\n            )}\n        </Field>\n    );\n};\n\nexport default TaxResidenceField;\n","import clsx from 'clsx';\n\nimport { Popover } from '@deriv/components';\nimport { Localize, useTranslations } from '@deriv-com/translations';\nimport { useDevice } from '@deriv-com/ui';\n\nimport { OECD_TIN_FORMAT_URL } from '../../../Constants/external-urls';\n\nimport FormInputField from './form-input-field';\n\ntype TTaxIdentificationNumberFieldProps = {\n    required?: boolean;\n    disabled: boolean;\n    is_tin_popover_open: boolean;\n    setIsTinPopoverOpen: (is_open: boolean) => void;\n    setIsTaxResidencePopoverOpen: (is_open: boolean) => void;\n    fieldFocused?: boolean;\n};\n\nconst TaxIdentificationNumberField = ({\n    required = false,\n    is_tin_popover_open,\n    setIsTinPopoverOpen,\n    setIsTaxResidencePopoverOpen,\n    disabled,\n    fieldFocused,\n}: TTaxIdentificationNumberFieldProps) => {\n    const { localize } = useTranslations();\n\n    const { isDesktop } = useDevice();\n\n    return (\n        <div className='details-form__tax'>\n            <FormInputField\n                name='tax_identification_number'\n                label={required ? localize('Tax identification number*') : localize('Tax identification number')}\n                placeholder={localize('Tax identification number')}\n                data-testid='tax_identification_number'\n                disabled={disabled}\n                required={required}\n                className={clsx({ 'focus-field': fieldFocused })}\n            />\n            <div\n                data-testid='tax_identification_number_pop_over'\n                onClick={e => {\n                    setIsTaxResidencePopoverOpen(false);\n                    setIsTinPopoverOpen(true);\n                    if ((e.target as HTMLElement).tagName !== 'A') e.stopPropagation();\n                }}\n            >\n                <Popover\n                    alignment={isDesktop ? 'right' : 'left'}\n                    icon='info'\n                    is_open={is_tin_popover_open}\n                    message={\n                        <Localize\n                            i18n_default_text={\n                                \"Don't know your tax identification number? Click <0>here</0> to learn more.\"\n                            }\n                            components={[\n                                <a\n                                    key={0}\n                                    className='link link--red'\n                                    rel='noopener noreferrer'\n                                    target='_blank'\n                                    href={OECD_TIN_FORMAT_URL}\n                                />,\n                            ]}\n                        />\n                    }\n                    zIndex='9998'\n                    disable_message_icon\n                />\n            </div>\n        </div>\n    );\n};\n\nexport default TaxIdentificationNumberField;\n","export const OECD_TIN_FORMAT_URL =\n    'https://web-archive.oecd.org/tax/automatic-exchange/crs-implementation-and-assistance/tax-identification-numbers/index.htm';\n","import React from 'react';\nimport { useFormikContext } from 'formik';\n\ntype TScrollToFieldWithError = {\n    fields_to_scroll_top?: string[];\n    fields_to_scroll_bottom?: string[];\n    should_recollect_inputs_names?: boolean;\n};\n\nconst ScrollToFieldWithError = ({\n    fields_to_scroll_top,\n    fields_to_scroll_bottom,\n    should_recollect_inputs_names = false,\n}: TScrollToFieldWithError) => {\n    const [all_page_inputs_names, setAllPageInputsNames] = React.useState<string[]>([]);\n    const { errors, isSubmitting } = useFormikContext();\n    const scrollToElement = (element_name: string, block: ScrollLogicalPosition = 'center') => {\n        if (!element_name) return;\n        const el = document.querySelector(`[name=\"${element_name}\"]`) as HTMLInputElement;\n        const target_element = el?.parentElement ?? el;\n        if (typeof target_element?.scrollIntoView === 'function') {\n            target_element?.scrollIntoView({ behavior: 'smooth', block });\n        }\n        if (el?.type !== 'radio') el?.focus();\n    };\n\n    React.useEffect(() => {\n        const inputs = [...document.querySelectorAll('input, select')] as HTMLInputElement[];\n        setAllPageInputsNames(inputs.map(input => input.name));\n    }, [should_recollect_inputs_names]);\n    React.useEffect(() => {\n        const current_error_field_name =\n            all_page_inputs_names.find(input_name => Object.prototype.hasOwnProperty.call(errors, input_name)) || '';\n\n        if (fields_to_scroll_top?.includes(current_error_field_name)) {\n            scrollToElement(current_error_field_name, 'start');\n        } else if (fields_to_scroll_bottom?.includes(current_error_field_name)) {\n            scrollToElement(current_error_field_name, 'end');\n        } else {\n            scrollToElement(current_error_field_name);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [isSubmitting]);\n\n    return null;\n};\n\nexport default ScrollToFieldWithError;\n","import React from 'react';\nimport clsx from 'clsx';\nimport { Div100vhContainer, Text } from '@deriv/components';\nimport { useDevice } from '@deriv-com/ui';\n\ntype TIconMessageContent = {\n    className?: string;\n    full_width?: boolean;\n    icon: React.ReactElement;\n    is_disabled_for_mobile?: boolean;\n    message: React.ReactNode;\n    text?: React.ReactNode;\n};\n\nconst IconMessageContent = ({\n    children,\n    className,\n    full_width,\n    icon,\n    is_disabled_for_mobile = false,\n    message,\n    text,\n}: React.PropsWithChildren<TIconMessageContent>) => {\n    const { isDesktop } = useDevice();\n\n    return (\n        <Div100vhContainer\n            className={clsx('account-management__message-wrapper', {\n                'account-management__message-wrapper-full-width': full_width,\n            })}\n            is_disabled={isDesktop || is_disabled_for_mobile}\n            height_offset='110px'\n        >\n            <div\n                className={clsx('account-management__message-content', {\n                    [`${className}__message-content`]: className,\n                })}\n            >\n                {icon && (\n                    <div\n                        className={clsx('account-management__message-icon', {\n                            [`${className}__message-icon`]: className,\n                        })}\n                    >\n                        {icon}\n                    </div>\n                )}\n                <Text\n                    as='div'\n                    color='general'\n                    weight='bold'\n                    align='center'\n                    className={clsx('account-management__message', {\n                        [`${className}__message`]: className,\n                    })}\n                >\n                    {message}\n                </Text>\n                {text && (\n                    <div className='account-management__text-container'>\n                        <Text\n                            className={clsx({\n                                [`${className}__text`]: className,\n                            })}\n                            as='p'\n                            size='xs'\n                            align='center'\n                        >\n                            {text}\n                        </Text>\n                    </div>\n                )}\n                {children}\n            </div>\n        </Div100vhContainer>\n    );\n};\n\nexport default IconMessageContent;\n","import IconMessageContent from './icon-message-content';\n\nexport default IconMessageContent;\n","import React from 'react';\nimport { Icon, Text } from '@deriv/components';\n\ntype TInlineNoteWithIconExtend = {\n    icon?: string;\n    font_size?: string;\n    message: React.ReactNode;\n    title: React.ReactNode;\n};\n\nconst InlineNoteWithIcon = ({ icon, message, font_size = 'xxxs', title }: TInlineNoteWithIconExtend) => {\n    return (\n        <div className='da-inline-note-with-icon'>\n            {icon && (\n                <div>\n                    <Icon icon={icon} size={16} />\n                </div>\n            )}\n            <Text as='p' size={font_size} line_height='s'>\n                {title && <strong> {title} </strong>}\n                {message}\n            </Text>\n        </div>\n    );\n};\n\nexport default InlineNoteWithIcon;\n","import InlineNoteWithIcon from './inline-note-with-icon';\nimport './inline-note-with-icon.scss';\n\nexport default InlineNoteWithIcon;\n","import React from 'react';\nimport { useHistory, useLocation, RouteComponentProps, withRouter } from 'react-router-dom';\nimport { FormikConsumer } from 'formik';\nimport { Button, Icon, Modal } from '@deriv/components';\nimport { localize } from '@deriv/translations';\nimport IconMessageContent from '../icon-message-content';\nimport { useDevice } from '@deriv-com/ui';\n\ntype TLeaveConfirmMessage = {\n    back: () => void;\n    leave: () => void;\n};\ntype TTransitionBlocker = RouteComponentProps & {\n    dirty: boolean;\n    onDirty?: (prop: boolean) => void;\n};\n\nconst LeaveConfirmMessage = ({ back, leave }: TLeaveConfirmMessage) => {\n    const { isMobile } = useDevice();\n\n    return (\n        <IconMessageContent\n            className='leave-confirm'\n            message={localize('Unsaved changes')}\n            text={localize('You have unsaved changes. Are you sure you want to discard changes and leave this page?')}\n            icon={<Icon icon='IcUnsavedChanges' size={isMobile ? 93 : 128} data_testid='dt_unsaved_changes_icon' />}\n            is_disabled_for_mobile={true}\n        >\n            <div className='account-management-flex-wrapper account-management-leave-confirm'>\n                <Button type='button' has_effect onClick={back} text={localize('Cancel')} secondary large={isMobile} />\n                <Button\n                    type='button'\n                    has_effect\n                    onClick={leave}\n                    text={localize('Leave Settings')}\n                    primary\n                    large={isMobile}\n                />\n            </div>\n        </IconMessageContent>\n    );\n};\n/**\n *\\ Blocks routing if Formik form is dirty\n * Has to be a child of <Formik> for FormikConsumer to work\n */\nexport const TransitionBlocker = ({ dirty, onDirty }: TTransitionBlocker) => {\n    const history = useHistory();\n    const location = useLocation();\n    const { isMobile } = useDevice();\n    const [showModal, setShowModal] = React.useState(false);\n    const [nextLocation, setNextLocation] = React.useState(location.pathname);\n    React.useEffect(() => {\n        const unblock = history.block((location: Location) => {\n            if (dirty && !showModal) {\n                if (onDirty) onDirty(false);\n                setNextLocation(location.pathname);\n                setShowModal(true);\n                return false;\n            }\n            return true;\n        });\n        return () => unblock();\n    }, [dirty, showModal, history, onDirty]);\n    const leave = React.useCallback(() => {\n        if (nextLocation) {\n            setShowModal(false);\n            history.push(nextLocation);\n            if (onDirty) {\n                onDirty(false);\n            }\n        }\n    }, [nextLocation, history, onDirty]);\n    const back = () => {\n        setShowModal(false);\n        setNextLocation(location.pathname);\n        if (onDirty) {\n            onDirty(true);\n        }\n    };\n    return (\n        <>\n            {showModal && isMobile ? (\n                <LeaveConfirmMessage back={back} leave={leave} />\n            ) : (\n                <Modal is_open={showModal} small toggleModal={back}>\n                    <Modal.Body>\n                        <LeaveConfirmMessage back={back} leave={leave} />\n                    </Modal.Body>\n                </Modal>\n            )}\n        </>\n    );\n};\n\nexport const TransitionBlockerWithRouter = withRouter(TransitionBlocker);\nconst LeaveConfirm = ({ onDirty }: { onDirty?: (prop: boolean) => void }) => {\n    return (\n        <FormikConsumer>\n            {formik => (\n                <TransitionBlockerWithRouter onDirty={onDirty} dirty={formik.dirty && formik.submitCount === 0} />\n            )}\n        </FormikConsumer>\n    );\n};\nexport default LeaveConfirm;\n","import LeaveConfirm from './leave-confirm';\n\nexport default LeaveConfirm;\n","import { ReactNode } from 'react';\nimport { Icon } from '@deriv/components';\nimport IconMessageContent from '../icon-message-content';\n\ntype TLoadErrorMessage = {\n    error_message: ReactNode;\n};\n\nconst LoadErrorMessage = ({ error_message }: TLoadErrorMessage) => (\n    <IconMessageContent message={error_message} icon={<Icon icon='IcPoaLock' size={128} />} />\n);\n\nexport default LoadErrorMessage;\n","import LoadErrorMessage from './load-error-message';\n\nexport default LoadErrorMessage;\n","import { localize } from '@deriv-com/translations';\n\nexport const getIncomeSourceList = () => [\n    {\n        text: localize('Salaried Employee'),\n        value: 'Salaried Employee',\n    },\n    {\n        text: localize('Self-Employed'),\n        value: 'Self-Employed',\n    },\n    {\n        text: localize('Investments & Dividends'),\n        value: 'Investments & Dividends',\n    },\n    {\n        text: localize('Pension'),\n        value: 'Pension',\n    },\n    {\n        text: localize('State Benefits'),\n        value: 'State Benefits',\n    },\n    {\n        text: localize('Savings & Inheritance'),\n        value: 'Savings & Inheritance',\n    },\n];\n\nexport const getEmploymentStatusList = (version?: string, isFeatureDisabled: boolean = true) => {\n    // If the feature is disabled OR if version is 'v1' or undefined, return the first dropdown\n    if (isFeatureDisabled || version === 'v1' || version === undefined) {\n        return [\n            {\n                text: localize('Employed'),\n                value: 'Employed',\n            },\n            {\n                text: localize('Pensioner'),\n                value: 'Pensioner',\n            },\n            {\n                text: localize('Self-Employed'),\n                value: 'Self-Employed',\n            },\n            {\n                text: localize('Student'),\n                value: 'Student',\n            },\n            {\n                text: localize('Unemployed'),\n                value: 'Unemployed',\n            },\n        ];\n    }\n\n    // If the feature is enabled and version is 'v2' OR an empty string (\"\"), return the second dropdown\n    return [\n        {\n            text: localize('Employed full-time'),\n            value: 'Employed full-time',\n        },\n        {\n            text: localize('Employed part-time'),\n            value: 'Employed part-time',\n        },\n        {\n            text: localize('Pensioner'),\n            value: 'Pensioner',\n        },\n        {\n            text: localize('Self-employed'),\n            value: 'Self-employed',\n        },\n        {\n            text: localize('Unemployed'),\n            value: 'Unemployed',\n        },\n    ];\n};\n\nexport const getEmploymentIndustryList = () => [\n    {\n        text: localize('Construction'),\n        value: 'Construction',\n    },\n    {\n        text: localize('Education'),\n        value: 'Education',\n    },\n    {\n        text: localize('Finance'),\n        value: 'Finance',\n    },\n    {\n        text: localize('Health'),\n        value: 'Health',\n    },\n    {\n        text: localize('Tourism'),\n        value: 'Tourism',\n    },\n    {\n        text: localize('Information & Communications Technology'),\n        value: 'Information & Communications Technology',\n    },\n    {\n        text: localize('Science & Engineering'),\n        value: 'Science & Engineering',\n    },\n    {\n        text: localize('Legal'),\n        value: 'Legal',\n    },\n    {\n        text: localize('Social & Cultural'),\n        value: 'Social & Cultural',\n    },\n    {\n        text: localize('Agriculture'),\n        value: 'Agriculture',\n    },\n    {\n        text: localize('Real Estate'),\n        value: 'Real Estate',\n    },\n    {\n        text: localize('Food Services'),\n        value: 'Food Services',\n    },\n    {\n        text: localize('Manufacturing'),\n        value: 'Manufacturing',\n    },\n    {\n        text: localize('Unemployed'),\n        value: 'Unemployed',\n    },\n];\n\nexport const getOccupationList = () => [\n    {\n        text: localize('Chief Executives, Senior Officials and Legislators'),\n        value: 'Chief Executives, Senior Officials and Legislators',\n    },\n    {\n        text: localize('Managers'),\n        value: 'Managers',\n    },\n    {\n        text: localize('Professionals'),\n        value: 'Professionals',\n    },\n    {\n        text: localize('Clerks'),\n        value: 'Clerks',\n    },\n    {\n        text: localize('Personal Care, Sales and Service Workers'),\n        value: 'Personal Care, Sales and Service Workers',\n    },\n    {\n        text: localize('Agricultural, Forestry and Fishery Workers'),\n        value: 'Agricultural, Forestry and Fishery Workers',\n    },\n    {\n        text: localize('Craft, Metal, Electrical and Electronics Workers'),\n        value: 'Craft, Metal, Electrical and Electronics Workers',\n    },\n    {\n        text: localize('Plant and Machine Operators and Assemblers'),\n        value: 'Plant and Machine Operators and Assemblers',\n    },\n    {\n        text: localize('Cleaners and Helpers'),\n        value: 'Cleaners and Helpers',\n    },\n    {\n        text: localize('Mining, Construction, Manufacturing and Transport Workers'),\n        value: 'Mining, Construction, Manufacturing and Transport Workers',\n    },\n    {\n        text: localize('Armed Forces'),\n        value: 'Armed Forces',\n    },\n    {\n        text: localize('Government Officers'),\n        value: 'Government Officers',\n    },\n    {\n        text: localize('Students'),\n        value: 'Students',\n    },\n    {\n        text: localize('Unemployed'),\n        value: 'Unemployed',\n    },\n];\n\nexport const getSourceOfWealthList = () => [\n    {\n        text: localize('Accumulation of Income/Savings'),\n        value: 'Accumulation of Income/Savings',\n    },\n    {\n        text: localize('Cash Business'),\n        value: 'Cash Business',\n    },\n    {\n        text: localize('Company Ownership'),\n        value: 'Company Ownership',\n    },\n    {\n        text: localize('Divorce Settlement'),\n        value: 'Divorce Settlement',\n    },\n    {\n        text: localize('Inheritance'),\n        value: 'Inheritance',\n    },\n    {\n        text: localize('Investment Income'),\n        value: 'Investment Income',\n    },\n    {\n        text: localize('Sale of Property'),\n        value: 'Sale of Property',\n    },\n];\n\nexport const getEducationLevelList = () => [\n    {\n        text: localize('Primary'),\n        value: 'Primary',\n    },\n    {\n        text: localize('Secondary'),\n        value: 'Secondary',\n    },\n    {\n        text: localize('Tertiary'),\n        value: 'Tertiary',\n    },\n];\n\nexport const getNetIncomeList = () => [\n    {\n        text: localize('Less than $25,000'),\n        value: 'Less than $25,000',\n    },\n    {\n        text: localize('$25,000 - $50,000'),\n        value: '$25,000 - $50,000',\n    },\n    {\n        text: localize('$50,001 - $100,000'),\n        value: '$50,001 - $100,000',\n    },\n    {\n        text: localize('$100,001 - $500,000'),\n        value: '$100,001 - $500,000',\n    },\n    {\n        text: localize('Over $500,000'),\n        value: 'Over $500,000',\n    },\n];\n\nexport const getEstimatedWorthList = () => [\n    {\n        text: localize('Less than $100,000'),\n        value: 'Less than $100,000',\n    },\n    {\n        text: localize('$100,000 - $250,000'),\n        value: '$100,000 - $250,000',\n    },\n    {\n        text: localize('$250,001 - $500,000'),\n        value: '$250,001 - $500,000',\n    },\n    {\n        text: localize('$500,001 - $1,000,000'),\n        value: '$500,001 - $1,000,000',\n    },\n    {\n        text: localize('Over $1,000,000'),\n        value: 'Over $1,000,000',\n    },\n];\n\nexport const getAccountTurnoverList = () => {\n    return [...getNetIncomeList()];\n};\n\nexport const getBinaryOptionsTradingExperienceList = () => [\n    {\n        text: localize('0-1 year'),\n        value: '0-1 year',\n    },\n    {\n        text: localize('1-2 years'),\n        value: '1-2 years',\n    },\n    {\n        text: localize('Over 3 years'),\n        value: 'Over 3 years',\n    },\n];\n\nexport const getBinaryOptionsTradingFrequencyList = () => [\n    {\n        text: localize('0-5 transactions in the past 12 months'),\n        value: '0-5 transactions in the past 12 months',\n    },\n    {\n        text: localize('6-10 transactions in the past 12 months'),\n        value: '6-10 transactions in the past 12 months',\n    },\n    {\n        text: localize('11-39 transactions in the past 12 months'),\n        value: '11-39 transactions in the past 12 months',\n    },\n    {\n        text: localize('40 transactions or more in the past 12 months'),\n        value: '40 transactions or more in the past 12 months',\n    },\n];\n\nexport const getCfdTradingExperienceList = () => {\n    return [...getBinaryOptionsTradingExperienceList()];\n};\n\nexport const getCfdTradingFrequencyList = () => {\n    return [...getBinaryOptionsTradingFrequencyList()];\n};\n\nexport const getForexTradingExperienceList = () => {\n    return [...getBinaryOptionsTradingExperienceList()];\n};\n\nexport const getForexTradingFrequencyList = () => {\n    return [...getBinaryOptionsTradingFrequencyList()];\n};\n\nexport const getOtherInstrumentsTradingExperienceList = () => {\n    return [...getBinaryOptionsTradingExperienceList()];\n};\n\nexport const getOtherInstrumentsTradingFrequencyList = () => {\n    return [...getBinaryOptionsTradingFrequencyList()];\n};\n","import { localize } from '@deriv/translations';\n\n//TODO: Check if these phrases are required;\nexport const getOnfidoPhrases = () => ({\n    country_select: {\n        alert_dropdown: {\n            country_not_found: localize('Country not found'),\n        },\n        alert: {\n            another_doc: localize(\n                'Documents from that country are not currently supported — <fallback>try another document type</fallback>'\n            ),\n        },\n        button_primary: localize('Submit document'),\n        search: {\n            accessibility: localize('Select country'),\n            input_placeholder: localize('e.g. United States'),\n            label: localize('Search for country'),\n        },\n        title: localize('Select issuing country'),\n    },\n    cross_device_checklist: {\n        button_primary: localize('Submit verification'),\n        info: localize('Tips'),\n        list_item_doc_multiple: localize('Documents uploaded'),\n        list_item_doc_one: localize('Document uploaded'),\n        list_item_selfie: localize('Selfie uploaded'),\n        subtitle: localize(\"We're now ready to verify your identity\"),\n        title: localize(\"Great, that's everything we need\"),\n    },\n    cross_device_error_desktop: {\n        subtitle: localize('The link only works on mobile devices'),\n        title: localize(\"Something's gone wrong\"),\n    },\n    cross_device_error_restart: {\n        subtitle: localize(\"You'll need to restart your verification on your computer\"),\n        title: localize(\"Something's gone wrong\"),\n    },\n    cross_device_intro: {\n        button_primary: localize('Get secure link'),\n        list_accessibility: localize('Steps required to continue verification on your mobile'),\n        list_item_finish: localize('Check back here to finish the submission'),\n        list_item_open_link: localize('Open the link and complete the tasks'),\n        list_item_send_phone: localize('Send a secure link to your phone'),\n        subtitle: localize(\"Here's how to do it:\"),\n        title: localize('Continue on your phone'),\n    },\n    cross_device_return: {\n        body: localize('Your computer may take a few seconds to update'),\n        subtitle: localize('You can now return to your computer to continue'),\n        title: localize('Uploads successful'),\n    },\n    doc_confirmation: {\n        alert: {\n            blur_detail: localize('Make sure everything is clear'),\n            blur_title: localize('Blurry photo detected'),\n            crop_detail: localize('Make sure full document is visible'),\n            crop_title: localize('Cut-off image detected'),\n            glare_detail: localize('Move away from direct light'),\n            glare_title: localize('Glare detected'),\n            no_doc_detail: localize('Make sure all of the document is in the photo'),\n            no_doc_title: localize('No document detected'),\n        },\n        body_id: localize('Make sure your card details are clear to read, with no blur or glare'),\n        body_image_medium: localize('It’ll take longer to verify you if we can’t read it'),\n        body_image_poor: localize('To smoothly verify you, we need a better photo'),\n        body_license: localize('Make sure your license details are clear to read, with no blur or glare'),\n        body_passport: localize('Make sure your passport details are clear to read, with no blur or glare'),\n        body_permit: localize('Make sure your permit details are clear to read, with no blur or glare'),\n        body_tax_letter: localize('Make sure details are clear to read, with no blur or glare'),\n        button_close: localize('Close'),\n        button_primary_redo: localize('Redo'),\n        button_primary_upload: localize('Confirm'),\n        button_primary_upload_anyway: localize('Upload anyway'),\n        button_secondary_redo: localize('Redo'),\n        button_zoom: localize('Enlarge image'),\n        image_accessibility: localize('Photo of your document'),\n        title: localize('Check your image'),\n    },\n    doc_select: {\n        button_id: localize('Identity card'),\n        button_id_detail: localize('Front and back'),\n        button_license: localize(\"Driver's license\"),\n        button_license_detail: localize('Front and back'),\n        button_passport: localize('Passport'),\n        button_passport_detail: localize('Face photo page'),\n        button_permit: localize('Residence permit'),\n        button_permit_detail: localize('Front and back'),\n        extra_no_mobile: localize('Sorry, no mobile phone bills'),\n        list_accessibility: localize('Documents you can use to verify your identity'),\n        subtitle: localize('It must be an official photo ID'),\n        subtitle_poa: localize('These are the documents most likely to show your current home address'),\n        title: localize('Choose document'),\n        title_poa: localize('Select a %{country} document'),\n    },\n    doc_submit: {\n        button_link_upload: localize('or upload photo – no scans or photocopies'),\n        button_primary: localize('Continue on phone'),\n        subtitle: localize('Take a photo with your phone'),\n        title_id_back: localize('Submit identity card (back)'),\n        title_id_front: localize('Submit identity card (front)'),\n        title_license_back: localize('Submit license (back)'),\n        title_license_front: localize('Submit license (front)'),\n        title_passport: localize('Submit passport photo pages'),\n        title_permit_back: localize('Submit residence permit (back)'),\n        title_permit_front: localize('Submit residence permit (front)'),\n    },\n    error_unsupported_browser: {\n        subtitle_android: localize('Restart the process on the latest version of Google Chrome'),\n        subtitle_ios: localize('Restart the process on the latest version of Safari'),\n        title_android: localize('Unsupported browser'),\n        title_ios: localize('Unsupported browser'),\n    },\n    generic: {\n        accessibility: {\n            close_sdk_screen: localize('Close identity verification screen'),\n            dismiss_alert: localize('Dismiss alert'),\n        },\n        back: localize('back'),\n        close: localize('close'),\n        errors: {\n            interrupted_flow_error: {\n                instruction: localize('Restart process on a different device'),\n                message: localize('Camera not detected'),\n            },\n            invalid_size: {\n                instruction: localize('Must be under 10MB.'),\n                message: localize('File size exceeded.'),\n            },\n            invalid_type: {\n                instruction: localize('Try using another file type.'),\n                message: localize('File not uploaded.'),\n            },\n            lazy_loading: {\n                message: localize('An error occurred while loading the component'),\n            },\n            multiple_faces: {\n                instruction: localize('Only your face can be in the selfie'),\n                message: localize('Multiple faces found'),\n            },\n            no_face: {\n                instruction: localize('Your face is needed in the selfie'),\n                message: localize('No face found'),\n            },\n            request_error: {\n                instruction: localize('Please try again'),\n                message: localize('Connection lost'),\n            },\n            sms_failed: {\n                instruction: localize('Copy the link to your phone'),\n                message: localize(\"Something's gone wrong\"),\n            },\n            sms_overuse: {\n                instruction: localize('Copy the link to your phone'),\n                message: localize('Too many failed attempts'),\n            },\n            unsupported_file: {\n                instruction: localize('Try using a JPG or PNG file'),\n                message: localize('File type not supported'),\n            },\n        },\n        lazy_load_placeholder: localize('Loading...'),\n        loading: localize('Loading'),\n    },\n    get_link: {\n        alert_wrong_number: localize('Check that your number is correct'),\n        button_copied: localize('Copied'),\n        button_copy: localize('Copy'),\n        button_submit: localize('Send link'),\n        info_qr_how: localize('How to scan a QR code'),\n        info_qr_how_list_item_camera: localize('Point your phone’s camera at the QR code'),\n        info_qr_how_list_item_download: localize(\n            'If it doesn’t work, download a QR code scanner from Google Play or the App Store'\n        ),\n        link_divider: localize('or'),\n        link_qr: localize('Scan QR code'),\n        link_sms: localize('Get link via SMS'),\n        link_url: localize('Copy link'),\n        loader_sending: localize('Sending'),\n        number_field_input_placeholder: localize('Enter mobile number'),\n        number_field_label: localize('Enter your mobile number:'),\n        subtitle_qr: localize('Scan the QR code with your phone'),\n        subtitle_sms: localize('Send this one-time link to your phone'),\n        subtitle_url: localize('Open the link on your mobile'),\n        title: localize('Get your secure link'),\n        url_field_label: localize('Copy the link to your mobile browser'),\n    },\n    linked_computer: {\n        button_primary: localize('Continue'),\n        info: localize('Make sure'),\n        list_item_desktop_open: localize('2. Your desktop window stays open'),\n        list_item_sent_by_you: localize('1. This link was sent by you'),\n        subtitle: localize('Continue with the verification'),\n        title: localize('Linked to your computer'),\n    },\n    mobilePhrases: {\n        photo_upload: {\n            body_id_back: localize('Take a photo of the back of your card'),\n            body_id_front: localize('Take a photo of the front of your card'),\n            body_license_back: localize('Take a photo of the back of your license'),\n            body_license_front: localize('Take a photo of the front of your license'),\n            body_passport: localize('Take a photo of your passport photo page'),\n            body_selfie: localize('Take a selfie showing your face'),\n        },\n        selfie_capture: {\n            alert: {\n                camera_inactive: {\n                    detail: localize('Take a photo using the <fallback>basic camera mode</fallback> instead'),\n                },\n                camera_not_working: {\n                    detail: localize('Take a photo using the <fallback>basic camera mode</fallback> instead'),\n                },\n            },\n        },\n        upload_guide: {\n            button_primary: localize('Take a photo'),\n            title: localize('Passport photo page'),\n        },\n    },\n    outro: {\n        body: localize('Thank you'),\n        title: localize('Verification complete'),\n    },\n    permission_recovery: {\n        button_primary: localize('Refresh'),\n        info: localize('Recovery'),\n        list_header_cam: localize('Follow these steps to recover camera access:'),\n        list_item_action_cam: localize('Refresh this page to restart the identity verification process'),\n        list_item_how_to_cam: localize('Grant access to your camera from your browser settings'),\n        subtitle_cam: localize('Recover camera access to continue face verification'),\n        title_cam: localize('Camera access is denied'),\n    },\n    permission: {\n        body_cam: localize('We cannot verify you without using your camera'),\n        button_primary_cam: localize('Enable camera'),\n        subtitle_cam: localize('When prompted, you must enable camera access to continue'),\n        title_cam: localize('Allow camera access'),\n    },\n    photo_upload: {\n        body_bank_statement: localize('Provide the whole document page for best results'),\n        body_benefits_letter: localize('Provide the whole document page for best results'),\n        body_bill: localize('Provide the whole document page for best results'),\n        body_government_letter: localize('Provide the whole document page for best results'),\n        body_id_back: localize('Upload back of card from your computer'),\n        body_id_front: localize('Upload front of card from your computer'),\n        body_license_back: localize('Upload back of license from your computer'),\n        body_license_front: localize('Upload front of license from your computer'),\n        body_passport: localize('Upload passport photo page from your computer'),\n        body_selfie: localize('Upload a selfie from your computer'),\n        body_tax_letter: localize('Provide the whole document page for best results'),\n        button_take_photo: localize('Take photo'),\n        button_upload: localize('Upload'),\n        title_selfie: localize('Selfie'),\n    },\n    selfie_capture: {\n        alert: {\n            camera_inactive: {\n                detail: localize(\n                    'Check that it is connected and functional. You can also <fallback>continue verification on your phone</fallback>'\n                ),\n                detail_no_fallback: localize('Make sure your device has a working camera'),\n                title: localize('Camera not working?'),\n            },\n            camera_not_working: {\n                detail: localize('It may be disconnected. <fallback>Try using your phone instead</fallback>.'),\n                detail_no_fallback: localize(\"Make sure your device's camera works\"),\n                title: localize('Camera not working'),\n            },\n            timeout: {\n                detail: localize(\"Remember to press stop when you're done. <fallback>Redo video actions</fallback>\"),\n                title: localize('Looks like you took too long'),\n            },\n        },\n        button_accessibility: localize('Take a photo'),\n        frame_accessibility: localize('View from camera'),\n        title: localize('Take a selfie'),\n    },\n    selfie_confirmation: {\n        image_accessibility: localize('Photo of your face'),\n        subtitle: localize('Make sure your selfie clearly shows your face'),\n        title: localize('Check selfie'),\n    },\n    selfie_intro: {\n        button_primary: localize('Continue'),\n        list_accessibility: localize('Tips to take a good selfie'),\n        list_item_face_forward: localize('Face forward and make sure your eyes are clearly visible'),\n        list_item_no_glasses: localize('Remove your glasses, if necessary'),\n        subtitle: localize(\"We'll compare it with your document\"),\n        title: localize('Take a selfie'),\n    },\n    sms_sent: {\n        info: localize('Tips'),\n        info_link_expire: localize('Your link will expire in one hour'),\n        info_link_window: localize('Keep this window open while using your mobile'),\n        link: localize('Resend link'),\n        subtitle: localize(\"We've sent a secure link to %{number}\"),\n        subtitle_minutes: localize('It may take a few minutes to arrive'),\n        title: localize('Check your mobile'),\n    },\n    switch_phone: {\n        info: localize('Tips'),\n        info_link_expire: localize('Your mobile link will expire in one hour'),\n        info_link_refresh: localize(\"Don't refresh this page\"),\n        info_link_window: localize('Keep this window open while using your mobile'),\n        link: localize('Cancel'),\n        subtitle: localize(\"Once you've finished we'll take you to the next step\"),\n        title: localize('Connected to your mobile'),\n    },\n    upload_guide: {\n        button_primary: localize('Upload photo'),\n        image_detail_blur_alt: localize('Example of a blurry document'),\n        image_detail_blur_label: localize('All details must be clear — nothing blurry'),\n        image_detail_cutoff_alt: localize('Example of a cut-off document'),\n        image_detail_cutoff_label: localize('Show all details — including the bottom 2 lines'),\n        image_detail_glare_alt: localize('Example of a document with glare'),\n        image_detail_glare_label: localize('Move away from direct light — no glare'),\n        image_detail_good_alt: localize('Document example'),\n        image_detail_good_label: localize('The photo should clearly show your document'),\n        subtitle: localize('Scans and photocopies are not accepted'),\n        title: localize('Upload passport photo page'),\n    },\n});\n\nexport const LANGUAGE_CODES = {\n    ID: 'id_ID',\n    EN: 'en_US',\n};\n","import { localize } from '@deriv/translations';\n\n// Note: Ensure that the object keys matches BE API's keys. This is simply a mapping for FE templates\n\nconst getIDVDocumentConfig = () => ({\n    ke: {\n        alien_card: {\n            new_display_name: '',\n            example_format: '123456',\n        },\n        national_id: {\n            new_display_name: '',\n            example_format: '12345678',\n        },\n        passport: {\n            new_display_name: '',\n            example_format: 'A12345678',\n        },\n    },\n    za: {\n        national_id: {\n            new_display_name: localize('National ID'),\n            example_format: '1234567890123',\n        },\n        national_id_no_photo: {\n            new_display_name: localize('National ID (No Photo)'),\n            example_format: '1234567890123',\n        },\n    },\n    ng: {\n        bvn: {\n            new_display_name: localize('Bank Verification Number'),\n            example_format: '12345678901',\n        },\n        cac: {\n            new_display_name: localize('Corporate Affairs Commission'),\n            example_format: '12345678',\n        },\n        drivers_license: {\n            new_display_name: '',\n            example_format: 'ABC123456789',\n        },\n        nin: {\n            new_display_name: localize('National Identity Number'),\n            example_format: '12345678901',\n        },\n        nin_slip: {\n            new_display_name: localize('National Identity Number Slip'),\n            example_format: '12345678901',\n        },\n        tin: {\n            new_display_name: localize('Taxpayer identification number'),\n            example_format: '12345678-1234',\n        },\n        voter_id: {\n            new_display_name: localize('Voter ID'),\n            example_format: '1234567890123456789',\n        },\n    },\n    gh: {\n        drivers_license: {\n            new_display_name: '',\n            example_format: 'B1234567',\n        },\n        national_id: {\n            new_display_name: localize('National ID'),\n            example_format: 'GHA-123456789-1',\n        },\n        passport: {\n            new_display_name: localize('Passport'),\n            example_format: 'G1234567',\n        },\n        ssnit: {\n            new_display_name: localize('Social Security and National Insurance Trust'),\n            example_format: 'C123456789012',\n        },\n        voter_id: {\n            new_display_name: localize('Voter ID'),\n            example_format: '01234567890',\n        },\n    },\n    br: {\n        cpf: {\n            new_display_name: localize('CPF'),\n            example_format: '123.456.789-12',\n        },\n    },\n    ug: {\n        national_id: {\n            new_display_name: localize('National ID'),\n            example_format: 'CM12345678PE1D',\n        },\n        national_id_no_photo: {\n            new_display_name: localize('National ID (No Photo)'),\n            example_format: 'CM12345678PE1D',\n            additional_document_example_format: '0123456789',\n        },\n    },\n    zw: {\n        national_id: {\n            new_display_name: localize('National ID'),\n            example_format: '081234567F53',\n        },\n    },\n    cl: {\n        national_id: {\n            example_format: '123456789',\n        },\n    },\n    ar: {\n        dni: {\n            example_format: '12345678',\n        },\n    },\n    mx: {\n        curp: {\n            example_format: 'ABCD123456HEFGIJ00',\n        },\n    },\n    id: {\n        nik: {\n            example_format: '1234567890123456',\n        },\n    },\n    in: {\n        aadhaar: {\n            example_format: '123456789012',\n            additional_document_example_format: 'ABCDE1234F',\n        },\n        drivers_license: {\n            example_format: 'AB1234567890123',\n        },\n        epic: {\n            example_format: 'ABC1234567',\n        },\n        pan: {\n            example_format: 'ABCDE1234F',\n        },\n        passport: {\n            example_format: 'A1234567',\n            additional_document_example_format: 'AB1234567890123',\n        },\n    },\n    pe: {\n        national_id: {\n            example_format: '12345678',\n        },\n    },\n    vn: {\n        national_id: {\n            example_format: '12345678901',\n        },\n    },\n});\n\nexport const getIDVDocuments = (country_code: string) => {\n    const IDV_DOCUMENT_DATA: { [key: string]: object } = getIDVDocumentConfig();\n    return IDV_DOCUMENT_DATA[country_code];\n};\n","import React from 'react';\nimport { FormikErrors, FormikValues } from 'formik';\nimport countries from 'i18n-iso-countries';\nimport { ResidenceList, GetAccountStatus } from '@deriv/api-types';\nimport {\n    filterObjProperties,\n    toMoment,\n    validLength,\n    validName,\n    getIDVNotApplicableOption,\n    IDV_ERROR_STATUS,\n    AUTH_STATUS_CODES,\n    VERIFICATION_SERVICES,\n} from '@deriv/shared';\nimport { localize } from '@deriv-com/translations';\nimport { getIDVDocuments } from '../Configs/idv-document-config';\nimport { TServerError } from '../Types';\nimport { LANGUAGE_CODES } from '../Constants/onfido';\n\nexport const documentAdditionalError = (\n    additional_document_value: string | undefined,\n    document_additional_config: FormikValues\n) => {\n    let error_message = null;\n    if (!additional_document_value) {\n        error_message = localize('Please enter your {{document_name}}. ', {\n            document_name: document_additional_config?.display_name?.toLowerCase() ?? localize('document number'),\n        });\n    } else {\n        const format_regex = getRegex(document_additional_config?.format);\n        if (!format_regex.test(additional_document_value)) {\n            error_message = localize('Please enter the correct format. ');\n        }\n    }\n\n    return error_message;\n};\n\n// Unsupported Regex List\nconst regex = [\n    {\n        regex_string: '^(?i)G[a-zA-Z0-9]{7,9}$',\n        value: '^G[a-zA-Z0-9]{7,9}$',\n        flags: 'i',\n    },\n];\n\nconst IDV_NOT_APPLICABLE_OPTION = getIDVNotApplicableOption();\n\ntype TIDVSupportCheck = {\n    residence_list: ResidenceList;\n    account_status: GetAccountStatus;\n    real_account_signup_target: string;\n    citizen: string;\n};\n\nexport const shouldShowIdentityInformation = ({\n    account_status,\n    citizen,\n    residence_list,\n    real_account_signup_target,\n}: TIDVSupportCheck) => {\n    const country = residence_list.find(item => item.value === citizen);\n    const maltainvest = real_account_signup_target === 'maltainvest';\n    const identity = account_status?.authentication?.identity;\n\n    const is_identity_verified = identity?.status === AUTH_STATUS_CODES.VERIFIED;\n    const should_skip_idv =\n        is_identity_verified || account_status?.status?.some((status: string) => status === 'skip_idv'); //status added by BE when idv should be skipped for the user\n    return Boolean(\n        !maltainvest && citizen && country?.identity?.services?.idv?.is_country_supported && !should_skip_idv\n    );\n};\n\nexport const getDocumentData = (country_code: string, document_type: string) => {\n    const DEFAULT_CONFIG = {\n        new_display_name: '',\n        example_format: '',\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const IDV_DOCUMENT_DATA: any = getIDVDocuments(country_code);\n    if (IDV_DOCUMENT_DATA) {\n        return IDV_DOCUMENT_DATA[document_type] ?? DEFAULT_CONFIG;\n    }\n    return DEFAULT_CONFIG;\n};\n\nexport const preventEmptyClipboardPaste = (e: React.ClipboardEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n    const clipboardData = (e.clipboardData ?? window.clipboardData).getData('text');\n    if (clipboardData.length === 0) {\n        e.preventDefault();\n    }\n};\n\nexport const getRegex = (target_regex: string) => {\n    const output_regex = regex.find(r => r.regex_string === target_regex);\n    if (output_regex) {\n        return new RegExp(output_regex.value, output_regex.flags);\n    }\n    return new RegExp(target_regex);\n};\n\n/**\n * @param {string} selected_doc  - Could be one of the following: 'drivers_license', 'ssnit', 'id_card', 'passport'\n * @returns {string} - Returns the placeholder text for the document number input\n */\nexport const generatePlaceholderText = (selected_doc: string): string => {\n    switch (selected_doc) {\n        case 'drivers_license':\n            return localize('Enter Driver License Reference number');\n        case 'ssnit':\n            return localize('Enter your SSNIT number');\n        case 'national_id_no_photo':\n            return localize('Enter your National Identification Number (NIN)');\n        default:\n            return localize('Enter your document number');\n    }\n};\n\nexport const isFieldImmutable = (field: string, mutable_fields: string[] = []) => !mutable_fields.includes(field);\n\nexport const makeSettingsRequest = (values: FormikValues, changeable_fields: string[]) => {\n    const request = filterObjProperties(values, changeable_fields);\n\n    if (request.first_name) {\n        request.first_name = request.first_name.trim();\n    }\n    if (request.last_name) {\n        request.last_name = request.last_name.trim();\n    }\n    if (request.date_of_birth) {\n        request.date_of_birth = toMoment(request.date_of_birth).format('YYYY-MM-DD');\n    }\n\n    return request;\n};\n\nexport const validateName = (name: string) => {\n    if (name) {\n        if (!validLength(name.trim(), { min: 1, max: 50 })) {\n            return localize('Enter no more than 50 characters.');\n        } else if (!validName(name)) {\n            return localize('Letters, spaces, periods, hyphens, apostrophes only.');\n        }\n    }\n    return '';\n};\n\nexport const getExampleFormat = (example_format?: string) =>\n    example_format ? localize('Example: ') + example_format : '';\n\nexport const isDocumentTypeValid = (document_type: FormikValues) => {\n    if (!document_type?.text) {\n        return localize('Please select a document type.');\n    }\n    return undefined;\n};\n\nexport const isAdditionalDocumentValid = (document_type: FormikValues, additional_document_value?: string) => {\n    const error_message = documentAdditionalError(additional_document_value, document_type?.additional);\n    if (error_message) {\n        return error_message + getExampleFormat(document_type?.additional?.example_format);\n    }\n    return undefined;\n};\n\nexport const isDocumentNumberValid = (document_number?: string, document_type?: FormikValues) => {\n    const is_document_number_invalid = document_number === document_type?.example_format;\n    if (!document_number && document_type?.text) {\n        let document_name = '';\n        const example_format = getExampleFormat(document_type.example_format);\n        switch (document_type.id) {\n            case 'drivers_license':\n                document_name = localize('Driver License Reference number');\n                break;\n            case 'ssnit':\n                document_name = localize('SSNIT number');\n                break;\n            case 'national_id_no_photo':\n                document_name = localize('NIN');\n                break;\n            default:\n                document_name = localize('document number');\n                break;\n        }\n        return localize('Please enter your {{document_name}}. {{example_format}}', { document_name, example_format });\n    } else if (is_document_number_invalid) {\n        return localize('Please enter a valid ID number.');\n    }\n    const format_regex = getRegex(document_type?.value);\n    if (document_number && !format_regex.test(document_number)) {\n        return localize('Please enter the correct format. ') + getExampleFormat(document_type?.example_format);\n    }\n    return undefined;\n};\n\nexport const shouldHideHelperImage = (document_id: string) => document_id === IDV_NOT_APPLICABLE_OPTION.id;\n\nexport const isServerError = (error: unknown): error is TServerError =>\n    typeof error === 'object' && error !== null && 'code' in error;\n\n/**\n *  Returns the alpha 3 code for a given country code\n * @name convertAlpha2toAlpha3\n * @param country_code  - country code\n * @returns alpha 3 code\n */\nexport const convertAlpha2toAlpha3 = (country_code: string) =>\n    country_code.length !== 3 ? countries.alpha2ToAlpha3(country_code.toUpperCase()) : country_code;\n\n/**\n * Returns the alpha 2 code for a given country code\n * @name convertAlpha3toAlpha2\n * @param country_code - country code\n * @returns alpha 2 code\n */\n\nexport const convertAlpha3toAlpha2 = (country_code: string) =>\n    country_code.length !== 2 ? countries.alpha3ToAlpha2(country_code.toUpperCase()) : country_code;\n\n/**\n * Generates a language code supported by Onfido\n * @name getOnfidoSupportedLocaleCode\n * @param language_code\n * @returns language code supported by Onfido\n */\nexport const getOnfidoSupportedLocaleCode = (language_code: string) => {\n    try {\n        const code = language_code.toLowerCase().split('_');\n        if (code[0] === 'id') {\n            return LANGUAGE_CODES.ID;\n        }\n        return code.length > 1 ? `${code[0]}_${code[1].toUpperCase()}` : code[0];\n    } catch (e) {\n        return LANGUAGE_CODES.EN;\n    }\n};\n\nexport const getIDVDocumentType = (\n    idv_latest_attempt: DeepRequired<GetAccountStatus>['authentication']['attempts']['latest'],\n    residence: ResidenceList[0]\n) => {\n    if (!idv_latest_attempt || !Object.keys(residence).length) return localize('identity document');\n    const { document_type } = idv_latest_attempt;\n    if (!document_type) return localize('identity document');\n    if (residence?.identity?.services?.idv?.documents_supported) {\n        const {\n            identity: {\n                services: {\n                    idv: { documents_supported },\n                },\n            },\n        } = residence;\n        return documents_supported[document_type as string].display_name;\n    }\n    return null;\n};\n\nexport const validate = <T,>(errors: FormikErrors<FormikValues>, values: T) => {\n    return (fn: (value: string) => string, arr: string[], err_msg: string) => {\n        arr.forEach(field => {\n            const value = values[field as keyof typeof values] as string;\n            if (!fn(value) && !errors[field]) errors[field] = err_msg;\n        });\n    };\n};\n\ntype TIDVErrorStatus = keyof typeof IDV_ERROR_STATUS;\nexport const verifyFields = (status: TIDVErrorStatus) => {\n    switch (status) {\n        case IDV_ERROR_STATUS.DobMismatch.code:\n            return ['date_of_birth'];\n        case IDV_ERROR_STATUS.NameMismatch.code:\n            return ['first_name', 'last_name'];\n        default:\n            return ['first_name', 'last_name', 'date_of_birth'];\n    }\n};\n\nexport const isSpecialPaymentMethod = (payment_method_icon: string) =>\n    ['IcOnlineNaira', 'IcAstroPayLight', 'IcAstroPayDark'].some(icon => icon === payment_method_icon);\n\nexport const convertPhoneTypeDisplay = (phone_verification_type: string) => {\n    if (phone_verification_type === VERIFICATION_SERVICES.SMS) return phone_verification_type.toUpperCase();\n\n    return 'WhatsApp';\n};\n"],"names":["_ref","required","account_opening_reason_list","setFieldValue","disabled","fieldFocused","is_modal","isDesktop","useDevice","localize","useTranslations","_jsx","React","children","Field","name","_ref2","field","meta","className","id","Dropdown","placeholder","is_align_text_left","list","error","touched","clsx","list_portal_id","SelectNative","label","list_items","onChange","e","target","value","data_testid","onItemSelection","list_height","is_country_code_dropdown","onSelect","text","_ref3","form","Fragment","Autocomplete","autoComplete","undefined","use_text","POAAddressMismatchHintBox","ref","useRef","useEffect","setTimeout","current","scrollIntoView","InlineMessage","type","size","message","Localize","i18n_default_text","observer","editable_fields","is_feature_flag_disabled","parent_ref","should_display_long_message","tin_validation_config","handleChange","should_focus_fields","version","values","errors","setValues","useFormikContext","data","residence_list","useResidenceList","client","useStore","is_virtual","account_settings","account_status","tin_employment_status_bypass","is_tin_mandatory","is_employment_status_mandatory","Boolean","status","includes","is_tin_required","employment_status","is_tax_residence_popover_open","setIsTaxResidencePopoverOpen","useState","is_tin_popover_open","setIsTinPopoverOpen","tax_residence_ref","tin_ref","validateClickOutside","event","tagName","stopPropagation","contains","closeToolTips","tax_residence","find","item","tax_identification_number","parent_element","addEventListener","removeEventListener","is_tax_details_confirm_disabled","useMemo","isFieldImmutable","tin_skipped","useOnClickOutside","should_show_no_tax_details_checkbox","should_show_tax_confirm_checkbox","isFieldDisabled","field_name","_jsxs","EmploymentStatusField","is_disabled","Checkbox","confirm_no_tax_details","tax_identification_confirm","withTabIndex","label_font_size","label_line_height","TaxResidenceField","residence","TaxIdentificationNumberField","legal_entity_name","getLegalEntityName","has_error","useKycAuthStatus","payload","is_authorize","kyc_auth_status_rest","useQuery","options","enabled","kyc_auth_status","taxIdentificationNumber","address","addressCity","postalCode","phoneNumber","postalOfficeBoxNumber","ValidationConstants","patterns","addressPermittedSpecialCharacters","messagesHints","Yup","isCountryCodeDropdownEnabled","this","test","startsWith","slice","tempPhoneNumberValidation","getEmploymentAndTaxValidationSchema","tin_config","is_mf","is_real","is_tin_auto_set","is_duplicate_account","is_employment_status_tin_mandatory","when","is","then","otherwise","notRequired","oneOf","default","is_required_for_tax_residence","check_if_tin_skipped","makeTinOptional","max","matches","excludeEmptyString","context","parent","createError","tin_format","length","some","tax_regex","RegExp","invalid_patterns","invalid_pattern","getPersonalDetailsInitialValues","states_list","selected_phone_code","is_carriers_supported","virtualAccountInitialValues","email_consent","initialValues","address_city","address_line_1","address_line_2","address_postcode","address_state","calling_country_code","is_carriers_available","date_of_birth","formatDate","first_name","last_name","phone","replace","account_opening_reason","forEach","key","Object","keys","getLocation","request_professional_status","makeSettingsRequest","settings","request","trim","toMoment","format","citizen","place_of_birth","getPersonalDetailsValidationSchema","is_svg","immutable_fields","personal_details_schema","getPersonalDetailsBaseValidationSchema","broker_code","salutation","dayjs","isValid","isBefore","subtract","validatePhoneNumberLength","pick","address_detail_schema","getAddressDetailValidationSchema","employment_tin_schema","concat","VerifyButton","is_dynamic_fa_enabled","is_verify_button_disabled","next_email_otp_request_timer","setStatus","ui","setShouldShowPhoneNumberOTP","setVerificationCode","is_phone_number_verified","useIsPhoneNumberVerified","history","useHistory","refetch","mutation","mutateAsync","updateSettings","isLoading","isSetSettingsLoading","useSettings","sendPhoneNumberVerifyEmail","WS","is_loading","useVerifyEmail","isSuccess","push","routes","phone_verification","msg","code","Button","onClick","preventDefault","localStorage","setItem","personal_details","financial_information_version","catch","err","has_effect","green","primary","large","resendCode","verifyTimer","resendCodeTimer","Math","round","setIsLoading","is_btn_loading","setIsBtnLoading","is_submit_success","setIsSubmitSuccess","invalidate","useInvalidateQuery","versionRef","isPhoneNumberVerificationEnabled","isPhoneNumberVerificationLoaded","useGrowthbookGetFeatureValue","featureFlag","isCountryCodeLoaded","isDynamicFAEnabled","isDynamicFALoaded","is_email_otp_timer_loading","usePhoneNumberVerificationSetTimer","mutate","useTinValidations","scrollToTop","useCallback","rootEl","targetEl","offset","arguments","scrollTo","top","offsetTop","behavior","notifications","common","is_language_changing","authentication_status","current_landing_company","updateAccountStatus","fetchAccountSettings","is_mf_account","field_ref_to_focus","setFieldRefToFocus","is_loading_residence_list","is_global_sms_available","is_global_whatsapp_available","legacy_core_countries_list","selected_country_list","updatePhoneSettings","useGetPhoneNumberList","is_loading_state_list","useStatesList","account_opening_reason_list_array","account_opening_reason_new_list_array","authorized","storage","getFinancialAssessment","get_financial_assessment","console","refreshNotifications","showPOAAddressMismatchSuccessNotification","showPOAAddressMismatchFailureNotification","has_poa_address_mismatch","should_update_fa","rest_state","setRestState","show_form","notification_timeout","scroll_div_ref","start_on_submit_timeout","setStartOnSubmitTimeout","is_timeout_started","timeout_callback","should_show_loader","async","wait","init","clearTimeout","timeout_id","showForm","employment_tax_editable_fields","fields_to_disable","filter","api_error","loadTimer","useLayoutEffect","parentRef","document","querySelector","targetRef","getElementById","LoadErrorMessage","error_message","Loading","is_fullscreen","is_poa_verified","document_status","AUTH_STATUS_CODES","VERIFIED","is_poi_verified","identity_status","is_account_verified","stripped_phone_number","PersonalDetailSchema","displayErrorMessage","FormSubmitErrorMessage","components","OpenLiveChatLink","text_size","text_color","weight","checkForInitialCarriersSupported","is_sms_carrier_available","carriers","is_whatsapp_carrier_available","getAccountOpeningReason","result","Formik","enableReinitialize","onSubmit","setSubmitting","setSettings","set_settings","notification","response","getSettings","prev_state","url_query_string","window","location","search","url_params","URLSearchParams","get","from","validationSchema","handleBlur","handleSubmit","isSubmitting","setFieldTouched","dirty","LeaveConfirm","onDirty","Form","noValidate","FormBody","scroll_offset","FormSubHeader","title","InputGroup","Input","onBlur","FormSelectField","DateOfBirthField","portal_id","country_list","inputMode","phone_number","Text","as","color","Chat","open","AccountOpeningReasonField","EmploymentTaxDetailsContainer","maxLength","support_professional_client","brand_website_name","getBrandWebsiteName","greyDisabled","HintBox","icon","icon_height","icon_width","rel","href","is_info","is_inline","defaultChecked","FormFooter","align","identity_status_codes","none","pending","rejected","verified","expired","suspected","submission_status_code","service_code","handleRequireSubmission","is_from_external","redirect_button","IconMessageContent","Icon","setSubmissionStatus","POIContext","DerivLightExclamationPoiIcon","DEFAULT_BTN_TEXT","custom_text","class_name","ButtonLink","to","proof_of_address","IdvSubmitComplete","mismatch_status","needs_poa","is_already_attempted","is_mismatch_error","IDV_ERROR_STATUS","NameDobMismatch","DobMismatch","NameMismatch","is_expired_or_failed_error","Expired","Failed","poa_button","PoaButton","DerivLightWaitingPoiIcon","getHeaderText","ContinueTradingButton","trade","header_Text","DerivLightApprovedPoiIcon","idv","submissions_left","last_rejected","formatIDVError","Number","IdvLimited","IdvVerified","POILimited","OnfidoNotRequired","button_label","route","UploadComplete","is_manual_upload","description","RouteButton","traders_hub","Verified","service","index","message_list","onContinue","isMobile","ThemedScrollbars","is_bypassed","Div100vhContainer","height_offset","ListItem","getOnfidoError","map","idx","rejected_reasons","IconMessageList","API_ERROR_CODES","freeze","DUPLICATE_ACCOUNT","CLAIMED_DOCUMENT","DUPLICATE_DOCUMENT","fileReadErrorMessage","filename","uploadFile","file","getSocket","Promise","resolve","reject","uploader","DocumentUploader","connection","is_file_error","compressImageFiles","files_to_process","readFiles","processed_files","total_to_upload","upload","GoToPersonalDetailsButton","anchor","from_string","anchor_string","has_invalid_postal_code","props","inline_note_text","is_eu_user","is_rendered_for_idv","has_real_account","is_fully_authenticated","closeRealAccountSignup","salutation_list","is_rendered_for_onfido","is_qualified_for_poa","side_note","no_confirmation_needed","is_svg_only","getNameAndDobLabels","is_asterisk_needed","first_name_label","last_name_label","dob_label","is_rendered_for_idv_or_onfido","getFieldHint","poa_clarification_message","is_confirmation_checkbox_disabled","verifyFields","InlineNoteWithIcon","font_size","FormBodySection","has_side_note","side_note_position","Link","RadioGroup","selected","onToggle","persist","Item","FormInputField","hint","PlaceOfBirthField","_ref4","should_hide_disabled_options","PhoneField","is_country_code_dropdown_enabled","country_code_list","confirmation_checkbox","_ref5","CountryCodeDropdown","validPhone","_ref6","_ref7","_ref8","_ref9","_ref10","handleOnClick","GENERIC_ERROR_MESSAGE","DUPLICATE_ACCOUNT_ERROR_MESSAGE","onKeyDown","CLAIMED_DOCUMENT_ERROR_MESSAGE","generateIDVError","is_document_upload_required","latest_status","chosen_country","document_name","getIDVDocumentType","required_fields","side_note_image","DerivLightNamePoiIcon","height","width","failure_message","DerivLightDobPoiIcon","DerivLightNameDobPoiIcon","getIDVError","getChangeableFields","onFormConfirm","checked","setChecked","form_initial_values","changeable_fields","visible_settings","filterObjProperties","initializeFormValues","error_msg","get_settings","validate","validateValues","val","validateName","isEmptyObject","removeEmptyPropertiesFromObject","PersonalDetailsForm","is_danger","is_onfido_disabled","is_onfido_container_hidden","onfido_element_id","is_confirmed","is_onfido_initialized","is_status_message_visible","setIsStatusMessageVisible","transition_in_timeout_ref","transition_out_timeout_ref","CSSTransition","appear","in","timeout","exit","classNames","unmountOnExit","OnfidoSdkViewContainer","country_code","documents_supported","handleViewComplete","is_default_enabled","setAPIError","missing_personal_details","setMissingPersonalDetails","setIsOnfidoDisabled","setIsConfirmed","setIsOnfidoInitialized","is_onfido_loaded","setIsOnfidoLoaded","send","isNotified","useNotificationEvent","current_language","onfido_country_code","convertAlpha2toAlpha3","token_country_code","convertAlpha3toAlpha2","service_token","isError","useServiceToken","country","onfido_init","onfido_documents","Array","isArray","d","display_name","component_to_load","onComplete","tearDown","document_ids","category","args","documents","initOnfido","Onfido","containerId","language","locale","getOnfidoSupportedLocaleCode","phrases","getOnfidoPhrases","mobilePhrases","token","useModal","useMemoryHistory","steps","documentTypes","passport","doc","driving_licence","national_identity_card","hideCountrySelection","loadOnfidoSdkScript","remove","script_node","createElement","link_node","src","body","appendChild","onConfirm","onfido","handleError","MissingPersonalDetails","ErrorMessage","PoiConfirmWithExampleFormContainer","OnfidoSdkView","displayName","ROOT_CLASS","DOCUMENT_TYPES","PAGE_TYPE","SELFIE_DOCUMENT","document_type","pageType","info","date_field","min_date","add","DatePicker","date_format","display_format","start_date","readOnly","DROPZONE_ERRORS","GENERAL","Message","medium","secondary","Preview","has_frame","background_url","setBackgroundUrl","URL","createObjectURL","style","backgroundImage","indexOf","is_full","image","setImage","ValidationErrorMessage","FileDropzone","accept","supported_filetypes","filename_limit","hover_message","max_size","max_document_size","preview_single","multiple","onDropAccepted","files","handleAccept","onDropRejected","handleReject","validation_error_message","noClick","setInitialValues","fields","checkIsEmpty","validateFields","icons","IconsItem","initial_values","goToCards","documents_title","is_expiry_date_required","fields_title","is_form_touched","is_form_empty","InputField","Uploader","goBack","onFileDrop","setDocuments","selfie","setSelfie","is_selfie_upload","setIsSelfieUpload","SelfieUpload","DocumentsUpload","STATUS","IS_UPLOADING","IS_COMPLETED","IS_FAILED","onClickBack","root_class","country_code_key","handleComplete","is_onfido_supported","is_for_mt5","handlePOIforMT5Complete","response_error","setError","is_any_failed","docs","details","files_length","file_to_upload_index","results","uploadNext","lifetime_valid","expiration_date","expiry_date","page_type","document_id","document_issuing_country","warning","IS_DUPLICATE_UPLOAD","is_slow_loading","POIManualUploadFailed","OnfidoUpload","onfido_name","CardDetails","CardWithArrow","Documents","toggleDetail","Card","renderContent","card","manual","handleBack","allow_poi_resubmission","is_resubmission","detail","setDetail","getDocumentIndex","Limited","has_nimc","checkNimcStep","DetailComponent","submission_errors","formatOnfidoError","Unsupported","RejectedReasons","handleSelectionNext","setSelectedCountry","updateSelectedCountry","country_name","matching_country","c","failed_message","country_input","submitHandler","current_input","selected_country","hide_hint","is_for_real_account_signup_modal","document_list","setDocumentList","selected_doc","setSelectedDoc","document_data","identity","services","default_document","example_format","IDV_NOT_APPLICABLE_OPTION","getIDVNotApplicableOption","document_types","new_document_list","new_display_name","additional_document_example_format","getDocumentData","additional","resetDocumentItemSelected","getDocument","onKeyUp","formatInput","bindDocumentData","selected_document","bottom_label","getExampleFormat","document_number","generatePlaceholderText","onPaste","preventEmptyClipboardPaste","additional_document_placeholder","toLowerCase","document_additional","shouldSkipIdv","needs_additional_document","isDocumentTypeValid","shouldHideHelperImage","isAdditionalDocumentValid","isDocumentNumberValid","submit_data","identity_verification_document_add","formatIDVFormValues","idv_update_response","should_skip_idv","is_button_disabled","IDVForm","setIsAlreadyAttempted","idv_failure","setIdvFailure","residence_data","error_config","form_data","initial_form_values","sample_image","issuing_country","is_idv_skipping","POISubmission","has_require_submission","identity_last_attempt","is_idv_disallowed","onStateChange","should_show_mismatch_form","submission_service","setSubmissionService","submission_status","is_high_risk","risk_classification","should_show_manual","idv_submissions_left","onfido_submissions_left","is_idv_supported","is_country_supported","getAccountStatus","getCountryFromResidence","needs_resubmission","is_report_not_available","isIDVReportNotAvailable","setIdentityService","CountrySelector","IdvFailed","report_available","IdvDocumentSubmit","doc_obj","populateVerificationStatus","authentication","attempts","income","needs_verification","income_status","allow_document_upload","allow_poa_resubmission","allow_poinc_resubmission","is_age_verified","poa_address_mismatch","poi_expiring_soon","poa_authenticated_with_idv","poa_authenticated_with_idv_photo","poa_expiring_soon","poi_acknowledged","has_poa","has_poi","has_poinc","has_submitted_poa","needs_poi","needs_poinc","latest","has_attempted_idv","h","ProofOfIdentityContainer","setHasRequireSubmission","setResidenceList","is_status_loading","setStatusLoading","fetchResidenceList","is_switching","is_withdrawal_lock","should_allow_authentication","app_routing_history","routeBackInApp","from_platform","getPlatformRedirect","should_show_redirect_btn","platforms","handleManualSubmit","loadResidenceList","response_residence_list","response_account_status","DemoMessage","verification_status","should_ignore_idv","NotRequired","onClickRedirectButton","platform","is_hard_redirect","url","redirect_route","sessionStorage","removeItem","platform_name","IdvContainer","withRouter","AutoHeightWrapper","setRef","getToken","is_from_tradershub_os","isKYCLoading","shouldRedirectToAccountsOSApp","isRedirectToAccountsOSAppFFLoaded","localize_language","LocalStorageUtils","getValue","url_lang","URLUtils","getQueryParameter","i18n_language","ProofOfIdentity","redirect_url","ACCOUNTS_OS_POI_URL","ACCOUNTS_OS_POI_STATUS_URL","url_link","params","getItem","appid","WebSocketUtils","getAppId","lang","server","getSocketURL","entries","searchParams","append","toString","getFormattedURL","UploadMessage","onError","document_files","setDocumentFiles","file_error","setFileError","is_file_too_large","supported_files","each_file","getSupportedFiles","removeFile","getFileUploaderDescriptions","page","is_eu","proof_of_income_descriptions","descriptions","proof_of_address_descriptions","expiry_in_months","getSupportedProofOfAddressDocuments","examples","files_description","country_of_residence","supported_documents","doc_list","FileUploader","line_height","CommonMistakeExamplePartials","LegacyLossIcon","iconSize","role","CommonMistakeExamples","example_images","DerivLightIcDocumentNameMismatchIcon","DerivLightIcDocumentAddressMismatchIcon","DerivLightIcOldIssuedDocumentMoreThan6Icon","DerivLightIcOldIssuedDocumentMoreThan12Icon","DerivLightIcBlurryDocumentIcon","DerivLightIcCroppedDocumentIcon","DerivLightIcEnvelopeIcon","getExampleImagesConfig","config","setOffset","is_for_cfd_modal","is_resubmit","form_state","file_selection_error","setFileSelectionError","poa_uploader_files_descriptions","isFullHeight","title_text_size","FileUploaderContainer","FilesDescription","Modal","Footer","has_separator","FormSubmitButton","ProgressBar","is_active","step","setStep","isNextBtnDisabled","LabelPairedArrowLeftMdBoldIcon","prev_step","onSubmitForCFDModal","fetchStatesList","addNotificationMessageByKey","addNotificationByKey","removeNotificationMessage","removeNotificationByKey","form_values","setFormValues","api_initial_load_error","setAPIInitialLoadError","setFormState","should_allow_submit","should_show_form","should_scroll_to_top","setShouldScrollToTop","useFileUploader","all","el","target_element","parentElement","block","current_value","settings_values","get_settings_response","selected_doc_type","api_response","get_account_status_response","get_account_status","isServerError","address_line_1_validation_result","validAddress","is_required","is_ok","address_line_2_validation_result","validation_letter_symbol_message","validLetterSymbol","validAddressState","validLength","min","validPostCode","max_number","interpolation","escapeValue","validateOnMount","POAMobileLayout","POADesktopLayout","is_redirected_from_platform","isNavigationFromP2P","isNavigationFromDerivGO","proof_of_identity","button_text","PoiButton","setAuthenticationStatus","resubmit_poa","has_submitted_duplicate_poa","has_restricted_mt5_account","is_verification_modal_visible","mt5_poa_status","handleResubmit","onSubmitDocument","should_allow_resubmit","cashier_p2p","Unverified","handleDuplicatePOASubmission","Submitted","ProofOfAddressForm","getDocumentStatus","NONE","PENDING","EXPIRED","REJECTED","SUSPECTED","has_button","ProofOfAddressContainer","ProofOfAddress","ACCOUNTS_OS_POA_URL","IDENTIFIER_TYPES","ACCOUNT_ID","ACCOUNT_NUMBER","BANK_ACCOUNT_NUMBER","CARD_NUMBER","EMAIL_ADDRESS","MOBILE_NUMBER","USER_ID","sub_index","payment_id","setFieldError","show_browse_button","setShowBrowseButton","hidden_file_input","nativeEvent","stopImmediatePropagation","file_to_upload","payment_file_data","selected_payment_method","tabIndex","trailing_icon","filtered_file_data","_","i","prevState","updateError","payment_method_error","payment_method_file_error","click","is_open","onClose","should_header_stick_body","toggleModal","getUrlBase","alt","ExampleLink","is_sample_modal_open","setIsSampleModalOpen","SampleCreditCardModal","card_details","payment_method","payment_method_identifier","identifier_type","handleIdentifierChange","formatIdentifier","formatted_id","hasInvalidCharacters","substring","s","instructions","instruction","items","controls_to_show","documents_required","input_label","isSpecialPaymentMethod","expand","organise","ExpansionIcon","setIsOpen","onClickHandler","transparent","ExpandedCard","ProofOfOwnershipForm","grouped_payment_method_data","email","client_email","grouped_payment_method_data_keys","getScrollOffset","default_value","is_generic_pm","reduce","acc","card_key","card_data","payment_method_data","is_payment_method_identifier_provided","are_files_uploaded","verify_payment_method_identifier","isValidPaymentMethodIdentifier","default_error_message","isFormattedCardNumber","verify_file","validFile","isValidFile","action","promise","payment_method_details","payment_method_detail","UPLOAD_FILE_TYPE","proof_of_ownership","payment_identifier","processed_file","upload_error","warn","grouped_payment_method_data_key","POONotRequired","POOVerified","onTryAgain","is_disabled_for_mobile","POOSubmitted","getPaymentMethodsConfig","advcash","icon_light","icon_dark","astropay","beyonic","visa","mastercard","pix","skrill","neteller","onlinenaira","webmoney","zingpay","sticpay","jeton","other","ProofOfOwnership","is_dark_mode_on","is_dark_mode","cards","ownership","requests","retry","setRetry","groups","payment_methods_config","card_payment_method","POORejected","income_status_codes","LOCKED","document_file","setDocumentFile","poinc_documents_list","poinc_uploader_files_descriptions","uploading_value","is_document_type_supported","hide_top_placeholder","prevFiles","isEqualArray","onReSubmit","PoincReceived","PoincLimited","PoincVerified","should_show_poinc_form","ProofOfIncomeForm","PoincFailed","Redirect","account","ProofOfIncomeContainer","handleOnLogout","oAuthLogout","useOauth2","handleLogout","PageOverlayWrapper","subroutes","logout","setIsLoggingOut","is_from_derivgo","is_from_derivp2p","setIsForcedToExitPnv","passkeysMenuCloseActionEventTrack","Analytics","trackEvent","form_name","operating_system","getOSNameWithUAParser","list_groups","route_group","getTitle","subitems","sub","onClickClose","pathname","shared_routes","passkeys","selected_route","getSelectedRoute","RouteComponent","component","PageOverlay","header","is_from_app","component_icon","icon_component","VerticalTab","is_floating","current_path","is_routed","is_full_width","extra_content","TradingHubLogout","is_sidebar_enabled","Account","is_logged_in","is_logging_in","is_proof_of_ownership_enabled","landing_company_shortcode","should_allow_poinc_authentication","is_passkey_supported","toggleAccountSettings","is_account_settings_visible","flatten","selected_content","r","matchRoute","should_remove_passkeys_route","menu_item","path","financial_assessment","trading_assessment","proof_of_income","is_hidden","FadeWrapper","is_visible","keyname","disabled_items","getCurrentStep","onSave","onCancel","goToPreviousStep","goToNextStep","real_account_signup_target","schema","actions","current_step","ScrollToFieldWithError","refSetter","is_absolute","has_cancel","cancel_label","handleCancel","DeactivateAccount","closing_account","Page404","makeLazyLoader","moduleLoader","Passwords","PhoneVerificationPage","Passkeys","AccountLimits","AccountClosed","LanguageSettings","LoginHistory","ConnectedApps","FinancialAssessment","TradingAssessment","ApiToken","TwoFactorAuthentication","SelfExclusion","ClosingAccount","routesConfig","route_default","getRoutesConfig","account_closed","is_authenticated","deactivate_account","PersonalDetails","languages","ProofOfIdentityFlow","ProofOfAddressFlow","ProofOfIncome","passwords","self_exclusion","account_limits","login_history","api_token","connected_apps","two_factor_authentication","Route","exact","render","default_subroute","cur","subroute","has_default_subroute","removeBranchName","default_title","fallback","Switch","RouteWithSubRoutes","Routes","ErrorComponent","ThemeProvider","theme","BinaryRoutes","ResetTradingPassword","setDialogTitleFunc","toggleResetTradingPasswordModal","verification_code","password","initialStatus","reset_complete","error_code","max_length","CFD_PLATFORMS","MT5","validPassword","validMT5Password","getErrorMessages","min_number","new_password","tradingPlatformPasswordReset","resetForm","getCFDPlatformLabel","PasswordMeter","input","custom_feedback_messages","password_warnings","PasswordInput","disableApp","enableApp","dialog_title","setDialogTitle","hash","Dialog","has_close_icon","is_invalid_token","setCFDPasswordResetModal","is_cfd_reset_password_modal_enabled","useLocation","query_params","cfd_platform","exec","trading_platform_mt5_password_reset","trading_platform_dxtrade_password_reset","ResetTradingPasswordModal","NetworkStatusToast","setIsVisible","new_portal_id","createPortal","Snackbar","hasCloseButton","isVisible","network_status","tooltip","class","passthrough","root_store","notification_messages_ui","Notifications","StoreProvider","store","APIProvider","POIProvider","BreakpointProvider","NetworkStatusToastPopup","has_any_real_account","toggleAccountsDialog","toggleShouldShowRealAccountsList","IconWithMessage","is_deriv_com","hostname","host","redirect_label","redirectOnClick","should_show_refresh","isTmbEnabled","useTMB","isTmbEnabledValue","setIsTmbEnabledValue","tmbStatus","checkTmbStatus","refresh_message","Cookies","requestOidcAuthentication","redirectCallbackUri","origin","PageError","messages","redirect_urls","redirect_labels","buttonOnClick","reload","ScrollbarsContainer","height_unit","subtitle","title_as_class","rest","DateOfBirthPicker","getEmploymentStatusList","Popover","alignment","zIndex","disable_message_icon","fields_to_scroll_top","fields_to_scroll_bottom","should_recollect_inputs_names","all_page_inputs_names","setAllPageInputsNames","scrollToElement","element_name","focus","inputs","querySelectorAll","current_error_field_name","input_name","prototype","hasOwnProperty","call","full_width","LeaveConfirmMessage","back","leave","TransitionBlockerWithRouter","showModal","setShowModal","nextLocation","setNextLocation","unblock","_Fragment","small","Body","FormikConsumer","formik","submitCount","getIncomeSourceList","getEmploymentIndustryList","getSourceOfWealthList","getEducationLevelList","getNetIncomeList","getEstimatedWorthList","getAccountTurnoverList","getBinaryOptionsTradingExperienceList","getBinaryOptionsTradingFrequencyList","getCfdTradingExperienceList","getCfdTradingFrequencyList","getForexTradingExperienceList","getForexTradingFrequencyList","getOtherInstrumentsTradingExperienceList","getOtherInstrumentsTradingFrequencyList","country_select","alert_dropdown","country_not_found","alert","another_doc","button_primary","accessibility","input_placeholder","cross_device_checklist","list_item_doc_multiple","list_item_doc_one","list_item_selfie","cross_device_error_desktop","cross_device_error_restart","cross_device_intro","list_accessibility","list_item_finish","list_item_open_link","list_item_send_phone","cross_device_return","doc_confirmation","blur_detail","blur_title","crop_detail","crop_title","glare_detail","glare_title","no_doc_detail","no_doc_title","body_id","body_image_medium","body_image_poor","body_license","body_passport","body_permit","body_tax_letter","button_close","button_primary_redo","button_primary_upload","button_primary_upload_anyway","button_secondary_redo","button_zoom","image_accessibility","doc_select","button_id","button_id_detail","button_license","button_license_detail","button_passport","button_passport_detail","button_permit","button_permit_detail","extra_no_mobile","subtitle_poa","title_poa","doc_submit","button_link_upload","title_id_back","title_id_front","title_license_back","title_license_front","title_passport","title_permit_back","title_permit_front","error_unsupported_browser","subtitle_android","subtitle_ios","title_android","title_ios","generic","close_sdk_screen","dismiss_alert","close","interrupted_flow_error","invalid_size","invalid_type","lazy_loading","multiple_faces","no_face","request_error","sms_failed","sms_overuse","unsupported_file","lazy_load_placeholder","loading","get_link","alert_wrong_number","button_copied","button_copy","button_submit","info_qr_how","info_qr_how_list_item_camera","info_qr_how_list_item_download","link_divider","link_qr","link_sms","link_url","loader_sending","number_field_input_placeholder","number_field_label","subtitle_qr","subtitle_sms","subtitle_url","url_field_label","linked_computer","list_item_desktop_open","list_item_sent_by_you","photo_upload","body_id_back","body_id_front","body_license_back","body_license_front","body_selfie","selfie_capture","camera_inactive","camera_not_working","upload_guide","outro","permission_recovery","list_header_cam","list_item_action_cam","list_item_how_to_cam","subtitle_cam","title_cam","permission","body_cam","button_primary_cam","body_bank_statement","body_benefits_letter","body_bill","body_government_letter","button_take_photo","button_upload","title_selfie","detail_no_fallback","button_accessibility","frame_accessibility","selfie_confirmation","selfie_intro","list_item_face_forward","list_item_no_glasses","sms_sent","info_link_expire","info_link_window","link","subtitle_minutes","switch_phone","info_link_refresh","image_detail_blur_alt","image_detail_blur_label","image_detail_cutoff_alt","image_detail_cutoff_label","image_detail_glare_alt","image_detail_glare_label","image_detail_good_alt","image_detail_good_label","LANGUAGE_CODES","ID","EN","getIDVDocuments","ke","alien_card","national_id","za","national_id_no_photo","ng","bvn","cac","drivers_license","nin","nin_slip","tin","voter_id","gh","ssnit","br","cpf","ug","zw","cl","ar","dni","mx","curp","nik","aadhaar","epic","pan","pe","vn","regex","regex_string","flags","DEFAULT_CONFIG","IDV_DOCUMENT_DATA","clipboardData","getData","getRegex","target_regex","output_regex","validName","additional_document_value","documentAdditionalError","document_additional_config","is_document_number_invalid","format_regex","countries","toUpperCase","language_code","split","idv_latest_attempt","fn","arr","err_msg","payment_method_icon","convertPhoneTypeDisplay","phone_verification_type","VERIFICATION_SERVICES","SMS"],"sourceRoot":""}